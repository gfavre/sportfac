/*!
 * FullCalendar v1.6.7
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */(function(e,t){function n(t){e.extend(!0,St,t)}function r(n,r,f){function l(e){it?m()&&(N(),x(e)):c()}function c(){st=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),it=e("<div class='fc-content' style='position:relative'/>").prependTo(n),nt=new i(tt,r),rt=nt.render(),rt&&n.prepend(rt),y(r.defaultView),r.handleWindowResize&&e(window).resize(k),g()||p()}function p(){setTimeout(function(){!ot.start&&g()&&S()},0)}function d(){ot&&(et("viewDestroy",ot,ot,ot.element),ot.triggerEventDestroy()),e(window).unbind("resize",k),nt.destroy(),it.remove(),n.removeClass("fc fc-rtl ui-widget")}function m(){return n.is(":visible")}function g(){return e("body").is(":visible")}function y(e){ot&&e==ot.name||E(e)}function E(t){dt++,ot&&(et("viewDestroy",ot,ot,ot.element),R(),ot.triggerEventDestroy(),Q(),ot.element.remove(),nt.deactivateButton(ot.name)),nt.activateButton(t),ot=new Nt[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(it),tt),S(),G(),dt--}function S(e){(!ot.start||e||ot.start>vt||vt>=ot.end)&&m()&&x(e)}function x(e){dt++,ot.start&&(et("viewDestroy",ot,ot,ot.element),R(),_()),Q(),ot.render(vt,e||0),C(),G(),(ot.afterRender||H)(),F(),I(),et("viewRender",ot,ot,ot.element),ot.trigger("viewDisplay",ht),dt--,D()}function T(){m()&&(R(),_(),N(),C(),O())}function N(){at=r.contentHeight?r.contentHeight:r.height?r.height-(rt?rt.height():0)-M(it):Math.round(it.width()/Math.max(r.aspectRatio,.5))}function C(){at===t&&N(),dt++,ot.setHeight(at),ot.setWidth(it.width()),dt--,ut=n.outerWidth()}function k(){if(!dt)if(ot.start){var e=++pt;setTimeout(function(){e==pt&&!dt&&m()&&ut!=(ut=n.outerWidth())&&(dt++,T(),ot.trigger("windowResize",ht),dt--)},200)}else p()}function L(){_(),P()}function A(e){_(),O(e)}function O(e){m()&&(ot.setEventData(mt),ot.renderEvents(mt,e),ot.trigger("eventAfterAllRender"))}function _(){ot.triggerEventDestroy(),ot.clearEvents(),ot.clearEventData()}function D(){!r.lazyFetching||lt(ot.visStart,ot.visEnd)?P():O()}function P(){ct(ot.visStart,ot.visEnd)}function B(e){mt=e,O()}function j(e){A(e)}function F(){nt.updateTitle(ot.title)}function I(){var e=new Date;e>=ot.start&&ot.end>e?nt.disableButton("today"):nt.enableButton("today")}function q(e,n,r){ot.select(e,n,r===t?!0:r)}function R(){ot&&ot.unselect()}function U(){S(-1)}function z(){S(1)}function W(){o(vt,-1),S()}function X(){o(vt,1),S()}function V(){vt=new Date,S()}function $(e,t,n){e instanceof Date?vt=h(e):v(vt,e,t,n),S()}function J(e,n,r){e!==t&&o(vt,e),n!==t&&u(vt,n),r!==t&&a(vt,r),S()}function K(){return h(vt)}function Q(){it.css({width:"100%",height:it.height(),overflow:"hidden"})}function G(){it.css({width:"",height:"",overflow:""})}function Y(){return ot}function Z(e,n){return n===t?r[e]:(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(r[e]=n,T()),t)}function et(e,n){return r[e]?r[e].apply(n||ht,Array.prototype.slice.call(arguments,2)):t}var tt=this;tt.options=r,tt.render=l,tt.destroy=d,tt.refetchEvents=L,tt.reportEvents=B,tt.reportEventChange=j,tt.rerenderEvents=A,tt.changeView=y,tt.select=q,tt.unselect=R,tt.prev=U,tt.next=z,tt.prevYear=W,tt.nextYear=X,tt.today=V,tt.gotoDate=$,tt.incrementDate=J,tt.formatDate=function(e,t){return b(e,t,r)},tt.formatDates=function(e,t,n){return w(e,t,n,r)},tt.getDate=K,tt.getView=Y,tt.option=Z,tt.trigger=et,s.call(tt,r,f);var nt,rt,it,st,ot,ut,at,ft,lt=tt.isFetchNeeded,ct=tt.fetchEvents,ht=n[0],pt=0,dt=0,vt=new Date,mt=[];v(vt,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;(e.isFunction(o)?o.call(i,s):s.is(o))&&(ft=i,ot.dragStart(ft,t,n))}}).bind("dragstop",function(e,t){ft&&(ot.dragStop(ft,e,t),ft=null)})}function i(n,r){function i(){p=r.theme?"ui":"fc";var n=r.header;return n?d=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(o("left")).append(o("center")).append(o("right"))):t}function s(){d.remove()}function o(t){var i=e("<td class='fc-header-"+t+"'/>"),s=r.header[t];return s&&e.each(s.split(" "),function(t){t>0&&i.append("<span class='fc-header-space'/>");var s;e.each(this.split(","),function(t,o){if("title"==o)i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),s&&s.addClass(p+"-corner-right"),s=null;else{var u;if(n[o]?u=n[o]:Nt[o]&&(u=function(){l.removeClass(p+"-state-hover"),n.changeView(o)}),u){var a=r.theme?I(r.buttonIcons,o):null,f=I(r.buttonText,o),l=e("<span class='fc-button fc-button-"+o+" "+p+"-state-default'>"+(a?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a+"'/>"+"</span>":f)+"</span>").click(function(){l.hasClass(p+"-state-disabled")||u()}).mousedown(function(){l.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){l.removeClass(p+"-state-down")}).hover(function(){l.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){l.removeClass(p+"-state-hover").removeClass(p+"-state-down")}).appendTo(i);R(l),s||l.addClass(p+"-corner-left"),s=l}}}),s&&s.addClass(p+"-corner-right")}),i}function u(e){d.find("h2").html(e)}function a(e){d.find("span.fc-button-"+e).addClass(p+"-state-active")}function f(e){d.find("span.fc-button-"+e).removeClass(p+"-state-active")}function l(e){d.find("span.fc-button-"+e).addClass(p+"-state-disabled")}function c(e){d.find("span.fc-button-"+e).removeClass(p+"-state-disabled")}var h=this;h.render=i,h.destroy=s,h.updateTitle=u,h.activateButton=a,h.deactivateButton=f,h.disableButton=l,h.enableButton=c;var p,d=e([])}function s(n,r){function i(e,t){return!T||T>e||t>N}function s(e,t){T=e,N=t,P=[];var n=++M,r=O.length;_=r;for(var i=0;r>i;i++)o(O[i],n)}function o(t,r){u(t,function(i){if(r==M){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform)),t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;i.length>s;s++)i[s].source=t,b(i[s]);P=P.concat(i)}_--,_||L(P)}})}function u(r,i){var s,o,a=Tt.sourceFetchers;for(s=0;a.length>s;s++){if(o=a[s](r,T,N,i),o===!0)return;if("object"==typeof o)return u(o,i),t}var f=r.events;if(f)e.isFunction(f)?(g(),f(h(T),h(N),function(e){i(e),y()})):e.isArray(f)?i(f):i();else{var l=r.url;if(l){var c,p=r.success,d=r.error,v=r.complete;c=e.isFunction(r.data)?r.data():r.data;var m=e.extend({},c||{}),b=X(r.startParam,n.startParam),w=X(r.endParam,n.endParam);b&&(m[b]=Math.round(+T/1e3)),w&&(m[w]=Math.round(+N/1e3)),g(),e.ajax(e.extend({},Ct,r,{data:m,success:function(t){t=t||[];var n=W(p,this,arguments);e.isArray(n)&&(t=n),i(t)},error:function(){W(d,this,arguments),i()},complete:function(){W(v,this,arguments),y()}}))}else i()}}function a(e){e=f(e),e&&(_++,o(e,M))}function f(n){return e.isFunction(n)||e.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(w(n),O.push(n),n):t}function l(t){O=e.grep(O,function(e){return!E(e,t)}),P=e.grep(P,function(e){return!E(e.source,t)}),L(P)}function c(e){var t,n,r=P.length,i=k().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;r>t;t++)n=P[t],n._id==e._id&&n!=e&&(n.start=new Date(+n.start+s),n.end=e.end?n.end?new Date(+n.end+o):new Date(+i(n)+o):null,n.title=e.title,n.url=e.url,n.allDay=e.allDay,n.className=e.className,n.editable=e.editable,n.color=e.color,n.backgroundColor=e.backgroundColor,n.borderColor=e.borderColor,n.textColor=e.textColor,b(n));b(e),L(P)}function p(e,t){b(e),e.source||(t&&(A.events.push(e),e.source=A),P.push(e)),L(P)}function d(t){if(t){if(!e.isFunction(t)){var n=t+"";t=function(e){return e._id==n}}P=e.grep(P,t,!0);for(var r=0;O.length>r;r++)e.isArray(O[r].events)&&(O[r].events=e.grep(O[r].events,t,!0))}else{P=[];for(var r=0;O.length>r;r++)e.isArray(O[r].events)&&(O[r].events=[])}L(P)}function v(t){return e.isFunction(t)?e.grep(P,t):t?(t+="",e.grep(P,function(e){return e._id==t})):P}function g(){D++||C("loading",null,!0,k())}function y(){--D||C("loading",null,!1,k())}function b(e){var r=e.source||{},i=X(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+kt++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=h(e.start=m(e.start,i)),e.end=m(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?h(e.end):null,e.allDay===t&&(e.allDay=X(r.allDayDefault,n.allDayDefault)),e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[]}function w(e){e.className?"string"==typeof e.className&&(e.className=e.className.split(/\s+/)):e.className=[];for(var t=Tt.sourceNormalizers,n=0;t.length>n;n++)t[n](e)}function E(e,t){return e&&t&&S(e)==S(t)}function S(e){return("object"==typeof e?e.googleCalendarId||e.events||e.url:"")||e}var x=this;x.isFetchNeeded=i,x.fetchEvents=s,x.addEventSource=a,x.removeEventSource=l,x.updateEvent=c,x.renderEvent=p,x.removeEvents=d,x.clientEvents=v,x.normalizeEvent=b;for(var T,N,C=x.trigger,k=x.getView,L=x.reportEvents,A={events:[]},O=[A],M=0,_=0,D=0,P=[],H=0;r.length>H;H++)f(r[H])}function o(e,t,n){return e.setFullYear(e.getFullYear()+t),n||c(e),e}function u(e,t,n){if(+e){var r=e.getMonth()+t,i=h(e);for(i.setDate(1),i.setMonth(r),e.setMonth(r),n||c(e);e.getMonth()!=i.getMonth();)e.setDate(e.getDate()+(i>e?1:-1))}return e}function a(e,t,n){if(+e){var r=e.getDate()+t,i=h(e);i.setHours(9),i.setDate(r),e.setDate(r),n||c(e),f(e,i)}return e}function f(e,t){if(+e)for(;e.getDate()!=t.getDate();)e.setTime(+e+(t>e?1:-1)*Ot)}function l(e,t){return e.setMinutes(e.getMinutes()+t),e}function c(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function h(e,t){return t?c(new Date(+e)):new Date(+e)}function p(){var e,t=0;do e=new Date(1970,t++,1);while(e.getHours());return e}function d(e,t){return Math.round((h(e,!0)-h(t,!0))/At)}function v(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function m(e,n){return"object"==typeof e?e:"number"==typeof e?new Date(1e3*e):"string"==typeof e?e.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(e)):(n===t&&(n=!0),g(e,n)||(e?new Date(e):null)):null}function g(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),f(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),f(r,i)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var s=60*Number(n[16])+(n[18]?Number(n[18]):0);s*="-"==n[15]?1:-1,r=new Date(+r+6e4*s)}return r}function y(e){if("number"==typeof e)return 60*e;if("object"==typeof e)return 60*e.getHours()+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,"p"==t[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(t[2]?parseInt(t[2],10):0)}}function b(e,t,n){return w(e,null,t,n)}function w(e,t,n,r){r=r||St;var i,s,o,u,a=e,f=t,l=n.length,c="";for(i=0;l>i;i++)if(s=n.charAt(i),"'"==s){for(o=i+1;l>o;o++)if("'"==n.charAt(o)){a&&(c+=o==i+1?"'":n.substring(i+1,o),i=o);break}}else if("("==s){for(o=i+1;l>o;o++)if(")"==n.charAt(o)){var h=b(a,n.substring(i+1,o),r);parseInt(h.replace(/\D/,""),10)&&(c+=h),i=o;break}}else if("["==s){for(o=i+1;l>o;o++)if("]"==n.charAt(o)){var p=n.substring(i+1,o),h=b(a,p,r);h!=b(f,p,r)&&(c+=h),i=o;break}}else if("{"==s)a=t,f=e;else if("}"==s)a=e,f=t;else{for(o=l;o>i;o--)if(u=_t[n.substring(i,o)]){a&&(c+=u(a,r)),i=o-1;break}o==i&&a&&(c+=s)}return c}function E(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function S(e){return e.end?x(e.end,e.allDay):a(h(e.start),1)}function x(e,t){return e=h(e),t||e.getHours()||e.getMinutes()?a(e,1):c(e)}function T(n,r,i){n.unbind("mouseover").mouseover(function(n){for(var s,o,u,a=n.target;a!=this;)s=a,a=a.parentNode;(o=s._fci)!==t&&(s._fci=t,u=r[o],i(u.event,u.element,u),e(n.target).trigger(n)),n.stopPropagation()})}function N(t,n,r){for(var i,s=0;t.length>s;s++)i=e(t[s]),i.width(Math.max(0,n-k(i,r)))}function C(t,n,r){for(var i,s=0;t.length>s;s++)i=e(t[s]),i.height(Math.max(0,n-M(i,r)))}function k(e,t){return L(e)+O(e)+(t?A(e):0)}function L(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function A(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function O(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function M(e,t){return _(e)+P(e)+(t?D(e):0)}function _(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function D(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function P(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function H(){}function B(e,t){return e-t}function j(e){return Math.max.apply(Math,e)}function F(e){return(10>e?"0":"")+e}function I(e,n){if(e[n]!==t)return e[n];for(var r,i=n.split(/(?=[A-Z])/),s=i.length-1;s>=0;s--)if(r=e[i[s].toLowerCase()],r!==t)return r;return e[""]}function q(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function R(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function U(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function z(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];return o&&f.push("background-color:"+o),u&&f.push("border-color:"+u),a&&f.push("color:"+a),f.join(";")}function W(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var i,s;for(i=0;t.length>i;i++)s=t[i].apply(n,r)||s;return s}}function X(){for(var e=0;arguments.length>e;e++)if(arguments[e]!==t)return arguments[e]}function V(e,t){function n(e,t){t&&(u(e,t),e.setDate(1));var n=i("firstDay"),c=h(e,!0);c.setDate(1);var p=u(h(c),1),v=h(c);a(v,-((v.getDay()-n+7)%7)),o(v);var m=h(p);a(m,(7-m.getDay()+n)%7),o(m,-1,!0);var g=f(),y=Math.round(d(m,v)/7);"fixed"==i("weekMode")&&(a(m,7*(6-y)),y=6),r.title=l(c,i("titleFormat")),r.start=c,r.end=p,r.visStart=v,r.visEnd=m,s(y,g,!0)}var r=this;r.render=n,K.call(r,e,t,"month");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,f=r.getCellsPerWeek,l=t.formatDate}function $(e,t){function n(e,t){t&&a(e,7*t);var n=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),l=a(h(n),7),c=h(n);o(c);var p=h(l);o(p,-1,!0);var d=u();r.start=n,r.end=l,r.visStart=c,r.visEnd=p,r.title=f(c,a(h(p),-1),i("titleFormat")),s(1,d,!1)}var r=this;r.render=n,K.call(r,e,t,"basicWeek");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,u=r.getCellsPerWeek,f=t.formatDates}function J(e,t){function n(e,t){t&&a(e,t),o(e,0>t?-1:1);var n=h(e,!0),f=a(h(n),1);r.title=u(e,i("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=f,s(1,1,!1)}var r=this;r.render=n,K.call(r,e,t,"basicDay");var i=r.opt,s=r.renderBasic,o=r.skipHiddenDays,u=t.formatDate}function K(t,n,r){function i(e,t,n){tt=e,nt=t,rt=n,s(),z||o(),u()}function s(){at=dt("theme")?"ui":"fc",ft=dt("columnFormat"),lt=dt("weekNumbers"),ht=dt("weekNumberTitle"),pt="iso"!=dt("weekNumberCalculation")?"w":"W"}function o(){K=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function u(){var n=f();j&&j.remove(),j=e(n).appendTo(t),F=j.find("thead"),I=F.find(".fc-day-header"),z=j.find("tbody"),W=z.find("tr"),X=z.find(".fc-day"),V=W.find("td:first-child"),$=W.eq(0).find(".fc-day > div"),J=W.eq(0).find(".fc-day-content > div"),U(F.add(F.find("tr"))),U(W),W.eq(0).addClass("fc-first"),W.filter(":last").addClass("fc-last"),X.each(function(t,n){var r=Tt(Math.floor(t/nt),t%nt);vt("dayRender",B,r,e(n))}),y(X)}function f(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+l()+p()+"</table>";return e}function l(){var e,t,n=at+"-widget-header",r="";for(r+="<thead><tr>",lt&&(r+="<th class='fc-week-number "+n+"'>"+q(ht)+"</th>"),e=0;nt>e;e++)t=Tt(0,e),r+="<th class='fc-day-header fc-"+Lt[t.getDay()]+" "+n+"'>"+q(kt(t,ft))+"</th>";return r+="</tr></thead>"}function p(){var e,t,n,r=at+"-widget-content",i="";for(i+="<tbody>",e=0;tt>e;e++){for(i+="<tr class='fc-week'>",lt&&(n=Tt(e,0),i+="<td class='fc-week-number "+r+"'>"+"<div>"+q(kt(n,pt))+"</div>"+"</td>"),t=0;nt>t;t++)n=Tt(e,t),i+=d(n);i+="</tr>"}return i+="</tbody>"}function d(e){var t=at+"-widget-content",n=B.start.getMonth(),r=c(new Date),i="",s=["fc-day","fc-"+Lt[e.getDay()],t];return e.getMonth()!=n&&s.push("fc-other-month"),+e==+r?s.push("fc-today",at+"-state-highlight"):r>e?s.push("fc-past"):s.push("fc-future"),i+="<td class='"+s.join(" ")+"'"+" data-date='"+kt(e,"yyyy-MM-dd")+"'"+">"+"<div>",rt&&(i+="<div class='fc-day-number'>"+e.getDate()+"</div>"),i+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function v(t){Y=t;var n,r,i,s=Y-F.height();"variable"==dt("weekMode")?n=r=Math.floor(s/(1==tt?2:6)):(n=Math.floor(s/tt),r=s-n*(tt-1)),V.each(function(t,s){tt>t&&(i=e(s),i.find("> div").css("min-height",(t==tt-1?r:n)-M(i)))})}function m(e){G=e,ot.clear(),ut.clear(),et=0,lt&&(et=F.find("th.fc-week-number").outerWidth()),Z=Math.floor((G-et)/nt),N(I.slice(0,-1),Z)}function y(e){e.click(b).mousedown(xt)}function b(t){if(!dt("selectable")){var n=g(e(this).data("date"));vt("dayClick",this,n,!0,t)}}function w(e,t,n){n&&it.build();for(var r=Ct(e,t),i=0;r.length>i;i++){var s=r[i];y(E(s.row,s.leftCol,s.row,s.rightCol))}}function E(e,n,r,i){var s=it.rect(e,n,r,i,t);return wt(s,t)}function S(e){return h(e)}function x(e,t){w(e,a(h(t),1),!0)}function T(){St()}function C(e,t,n){var r=Nt(e),i=X[r.row*nt+r.col];vt("dayClick",i,e,t,n)}function k(e,t){st.start(function(e){St(),e&&E(e.row,e.col,e.row,e.col)},t)}function L(e,t,n){var r=st.stop();if(St(),r){var i=Tt(r);vt("drop",e,i,!0,t,n)}}function A(e){return h(e.start)}function O(e){return ot.left(e)}function _(e){return ot.right(e)}function D(e){return ut.left(e)}function P(e){return ut.right(e)}function H(e){return W.eq(e)}var B=this;B.renderBasic=i,B.setHeight=v,B.setWidth=m,B.renderDayOverlay=w,B.defaultSelectionEnd=S,B.renderSelection=x,B.clearSelection=T,B.reportDayClick=C,B.dragStart=k,B.dragStop=L,B.defaultEventEnd=A,B.getHoverListener=function(){return st},B.colLeft=O,B.colRight=_,B.colContentLeft=D,B.colContentRight=P,B.getIsCellAllDay=function(){return!0},B.allDayRow=H,B.getRowCnt=function(){return tt},B.getColCnt=function(){return nt},B.getColWidth=function(){return Z},B.getDaySegmentContainer=function(){return K},ct.call(B,t,n,r),gt.call(B),mt.call(B),Q.call(B);var j,F,I,z,W,X,V,$,J,K,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ht,pt,dt=B.opt,vt=B.trigger,wt=B.renderOverlay,St=B.clearOverlays,xt=B.daySelectionMousedown,Tt=B.cellToDate,Nt=B.dateToCell,Ct=B.rangeToSegments,kt=n.formatDate;R(t.addClass("fc-grid")),it=new yt(function(t,n){var r,i,s;I.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),W.each(function(n,o){tt>n&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),st=new bt(it),ot=new Et(function(e){return $.eq(e)}),ut=new Et(function(e){return J.eq(e)})}function Q(){function e(e,t){n.renderDayEvents(e,t)}function t(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=e,n.clearEvents=t,ht.call(n)}function G(e,t){function n(e,t){t&&a(e,7*t);var n=a(h(e),-((e.getDay()-i("firstDay")+7)%7)),l=a(h(n),7),c=h(n);o(c);var p=h(l);o(p,-1,!0);var d=u();r.title=f(c,a(h(p),-1),i("titleFormat")),r.start=n,r.end=l,r.visStart=c,r.visEnd=p,s(d)}var r=this;r.render=n,Z.call(r,e,t,"agendaWeek");var i=r.opt,s=r.renderAgenda,o=r.skipHiddenDays,u=r.getCellsPerWeek,f=t.formatDates}function Y(e,t){function n(e,t){t&&a(e,t),o(e,0>t?-1:1);var n=h(e,!0),f=a(h(n),1);r.title=u(e,i("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=f,s(1)}var r=this;r.render=n,Z.call(r,e,t,"agendaDay");var i=r.opt,s=r.renderAgenda,o=r.skipHiddenDays,u=t.formatDate}function Z(n,r,i){function s(e){Pt=e,o(),Z?f():u()}function o(){qt=Jt("theme")?"ui":"fc",Rt=Jt("isRTL"),Ut=y(Jt("minTime")),zt=y(Jt("maxTime")),Wt=Jt("columnFormat"),Xt=Jt("weekNumbers"),Vt=Jt("weekNumberTitle"),$t="iso"!=Jt("weekNumberCalculation")?"w":"W",Mt=Jt("snapMinutes")||Jt("slotMinutes")}function u(){var t,r,i,s,o,u=qt+"-widget-header",a=qt+"-widget-content",c=0==Jt("slotMinutes")%15;for(f(),ft=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Jt("allDaySlot")?(lt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ft),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+u+" fc-agenda-axis'>"+Jt("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+u+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",ht=e(t).appendTo(ft),pt=ht.find("tr"),S(pt.find("td")),ft.append("<div class='fc-agenda-divider "+u+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):lt=e([]),dt=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ft),vt=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(dt),wt=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(vt),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",r=p(),s=l(h(r),zt),l(r,Ut),Ht=0,i=0;s>r;i++)o=r.getMinutes(),t+="<tr class='fc-slot"+i+" "+(o?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+u+"'>"+(c&&o?"&nbsp;":on(r,Jt("axisFormat")))+"</th>"+"<td class='"+a+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",l(r,Jt("slotMinutes")),Ht++;t+="</tbody></table>",St=e(t).appendTo(vt),x(St.find("td"))}function f(){var t=d();Z&&Z.remove(),Z=e(t).appendTo(n),tt=Z.find("thead"),nt=tt.find("th").slice(1,-1),rt=Z.find("tbody"),it=rt.find("td").slice(0,-1),st=it.find("> div"),ot=it.find(".fc-day-content > div"),ut=it.eq(0),at=st.eq(0),U(tt.add(tt.find("tr"))),U(rt.add(rt.find("tr")))}function d(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+v()+m()+"</table>";return e}function v(){var e,t,n,r=qt+"-widget-header",i="";for(i+="<thead><tr>",Xt?(e=nn(0,0),t=on(e,$t),Rt?t+=Vt:t=Vt+t,i+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+q(t)+"</th>"):i+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;Pt>n;n++)e=nn(0,n),i+="<th class='fc-"+Lt[e.getDay()]+" fc-col"+n+" "+r+"'>"+q(on(e,Wt))+"</th>";return i+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th>"+"</tr>"+"</thead>"}function m(){var e,t,n,r,i,s=qt+"-widget-header",o=qt+"-widget-content",u=c(new Date),a="";for(a+="<tbody><tr><th class='fc-agenda-axis "+s+"'>&nbsp;</th>",n="",t=0;Pt>t;t++)e=nn(0,t),i=["fc-col"+t,"fc-"+Lt[e.getDay()],o],+e==+u?i.push(qt+"-state-highlight","fc-today"):u>e?i.push("fc-past"):i.push("fc-future"),r="<td class='"+i.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",n+=r;return a+=n,a+="<td class='fc-agenda-gutter "+o+"'>&nbsp;</td>"+"</tr>"+"</tbody>"}function g(e){e===t&&(e=Nt),Nt=e,un={};var n=rt.position().top,r=dt.position().top,i=Math.min(e-n,St.height()+r+1);at.height(i-M(ut)),ft.css("top",n),dt.height(i-r-1),Ot=St.find("tr:first").height()+1,_t=Jt("slotMinutes")/Mt,Dt=Ot/_t}function b(t){Tt=t,Ft.clear(),It.clear();var n=tt.find("th:first");ht&&(n=n.add(ht.find("th:first"))),n=n.add(St.find("th:first")),Ct=0,N(n.width("").each(function(t,n){Ct=Math.max(Ct,e(n).outerWidth())}),Ct);var r=Z.find(".fc-agenda-gutter");ht&&(r=r.add(ht.find("th.fc-agenda-gutter")));var i=dt[0].clientWidth;At=dt.width()-i,At?(N(r,At),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),kt=Math.floor((i-Ct)/Pt),N(nt.slice(0,-1),kt)}function w(){function e(){dt.scrollTop(r)}var t=p(),n=h(t);n.setHours(Jt("firstHour"));var r=F(t,n)+1;e(),setTimeout(e,0)}function E(){w()}function S(e){e.click(T).mousedown(en)}function x(e){e.click(T).mousedown(J)}function T(e){if(!Jt("selectable")){var t=Math.min(Pt-1,Math.floor((e.pageX-Z.offset().left-Ct)/kt)),n=nn(0,t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*Jt("slotMinutes"),s=Math.floor(i/60);n.setHours(s),n.setMinutes(i%60+Ut),Kt("dayClick",it[t],n,!1,e)}else Kt("dayClick",it[t],n,!0,e)}}function k(e,t,n){n&&Bt.build();for(var r=sn(e,t),i=0;r.length>i;i++){var s=r[i];S(L(s.row,s.leftCol,s.row,s.rightCol))}}function L(e,t,n,r){var i=Bt.rect(e,t,n,r,ft);return Qt(i,ft)}function A(e,t){for(var n=0;Pt>n;n++){var r=nn(0,n),i=a(h(r),1),s=new Date(Math.max(r,e)),o=new Date(Math.min(i,t));if(o>s){var u=Bt.rect(0,n,0,n,vt),f=F(r,s),l=F(r,o);u.top=f,u.height=l-f,x(Qt(u,vt))}}}function O(e){return Ft.left(e)}function _(e){return It.left(e)}function D(e){return Ft.right(e)}function P(e){return It.right(e)}function H(e){return Jt("allDaySlot")&&!e.row}function j(e){var t=nn(0,e.col),n=e.row;return Jt("allDaySlot")&&n--,n>=0&&l(t,Ut+n*Mt),t}function F(e,n){if(e=h(e,!0),l(h(e),Ut)>n)return 0;if(n>=l(h(e),zt))return St.height();var r=Jt("slotMinutes"),i=60*n.getHours()+n.getMinutes()-Ut,s=Math.floor(i/r),o=un[s];return o===t&&(o=un[s]=St.find("tr").eq(s).find("td div")[0].offsetTop),Math.max(0,Math.round(o-1+Ot*(i%r/r)))}function I(){return pt}function z(e){var t=h(e.start);return e.allDay?t:l(t,Jt("defaultEventMinutes"))}function W(e,t){return t?h(e):l(h(e),Jt("slotMinutes"))}function X(e,t,n){n?Jt("allDaySlot")&&k(e,a(h(t),1),!0):V(e,t)}function V(t,n){var r=Jt("selectHelper");if(Bt.build(),r){var i=rn(t).col;if(i>=0&&Pt>i){var s=Bt.rect(0,i,0,i,vt),o=F(t,t),u=F(t,n);if(u>o){if(s.top=o,s.height=u-o,s.left+=2,s.width-=5,e.isFunction(r)){var a=r(t,n);a&&(s.position="absolute",xt=e(a).css(s).appendTo(vt))}else s.isStart=!0,s.isEnd=!0,xt=e(tn({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},s)),xt.css("opacity",Jt("dragOpacity"));xt&&(x(xt),vt.append(xt),N(xt,s.width,!0),C(xt,s.height,!0))}}}else A(t,n)}function $(){Gt(),xt&&(xt.remove(),xt=null)}function J(t){if(1==t.which&&Jt("selectable")){Zt(t);var n;jt.start(function(e,t){if($(),e&&e.col==t.col&&!H(e)){var r=j(t),i=j(e);n=[r,l(h(r),Mt),i,l(h(i),Mt)].sort(B),V(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){jt.stop(),n&&(+n[0]==+n[1]&&K(n[0],!1,e),Yt(n[0],n[3],!1,e))})}}function K(e,t,n){Kt("dayClick",it[rn(e).col],e,t,n)}function Q(e,t){jt.start(function(e){if(Gt(),e)if(H(e))L(e.row,e.col,e.row,e.col);else{var t=j(e),n=l(h(t),Jt("defaultEventMinutes"));A(t,n)}},t)}function G(e,t,n){var r=jt.stop();Gt(),r&&Kt("drop",e,j(r),H(r),t,n)}var Y=this;Y.renderAgenda=s,Y.setWidth=b,Y.setHeight=g,Y.afterRender=E,Y.defaultEventEnd=z,Y.timePosition=F,Y.getIsCellAllDay=H,Y.allDayRow=I,Y.getCoordinateGrid=function(){return Bt},Y.getHoverListener=function(){return jt},Y.colLeft=O,Y.colRight=D,Y.colContentLeft=_,Y.colContentRight=P,Y.getDaySegmentContainer=function(){return lt},Y.getSlotSegmentContainer=function(){return wt},Y.getMinMinute=function(){return Ut},Y.getMaxMinute=function(){return zt},Y.getSlotContainer=function(){return vt},Y.getRowCnt=function(){return 1},Y.getColCnt=function(){return Pt},Y.getColWidth=function(){return kt},Y.getSnapHeight=function(){return Dt},Y.getSnapMinutes=function(){return Mt},Y.defaultSelectionEnd=W,Y.renderDayOverlay=k,Y.renderSelection=X,Y.clearSelection=$,Y.reportDayClick=K,Y.dragStart=Q,Y.dragStop=G,ct.call(Y,n,r,i),gt.call(Y),mt.call(Y),et.call(Y);var Z,tt,nt,rt,it,st,ot,ut,at,ft,lt,ht,pt,dt,vt,wt,St,xt,Tt,Nt,Ct,kt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt=Y.opt,Kt=Y.trigger,Qt=Y.renderOverlay,Gt=Y.clearOverlays,Yt=Y.reportSelection,Zt=Y.unselect,en=Y.daySelectionMousedown,tn=Y.slotSegHtml,nn=Y.cellToDate,rn=Y.dateToCell,sn=Y.rangeToSegments,on=r.formatDate,un={};R(n.addClass("fc-agenda")),Bt=new yt(function(t,n){function r(e){return Math.max(a,Math.min(f,e))}var i,s,o;nt.each(function(t,r){i=e(r),s=i.offset().left,t&&(o[1]=s),o=[s],n[t]=o}),o[1]=s+i.outerWidth(),Jt("allDaySlot")&&(i=pt,s=i.offset().top,t[0]=[s,s+i.outerHeight()]);for(var u=vt.offset().top,a=dt.offset().top,f=a+dt.outerHeight(),l=0;Ht*_t>l;l++)t.push([r(u+Dt*l),r(u+Dt*(l+1))])}),jt=new bt(Bt),Ft=new Et(function(e){return st.eq(e)}),It=new Et(function(e){return ot.eq(e)})}function et(){function n(e,t){var n,r=e.length,s=[],o=[];for(n=0;r>n;n++)e[n].allDay?s.push(e[n]):o.push(e[n]);y("allDaySlot")&&(et(s,t),L()),u(i(o),t)}function r(){A().empty(),O().empty()}function i(t){var n,r,i,u,a,f=R(),c=P(),p=D(),d=e.map(t,o),v=[];for(r=0;f>r;r++)for(n=I(0,r),l(n,c),a=s(t,d,n,l(h(n),p-c)),a=tt(a),i=0;a.length>i;i++)u=a[i],u.col=r,v.push(u);return v}function s(e,t,n,r){var i,s,o,u,a,f,l,c,p=[],d=e.length;for(i=0;d>i;i++)s=e[i],o=s.start,u=t[i],u>n&&r>o&&(n>o?(a=h(n),l=!1):(a=o,l=!0),u>r?(f=h(r),c=!1):(f=u,c=!0),p.push({event:s,start:a,end:f,isStart:l,isEnd:c}));return p.sort(lt)}function o(e){return e.end?h(e.end):l(h(e.start),y("defaultEventMinutes"))}function u(n,r){var i,s,o,u,a,l,h,p,d,v,m,g,w,E,S,x,N=n.length,C="",L=O(),A=y("isRTL");for(i=0;N>i;i++)s=n[i],o=s.event,u=H(s.start,s.start),a=H(s.start,s.end),l=j(s.col),h=F(s.col),p=h-l,h-=.025*p,p=h-l,d=p*(s.forwardCoord-s.backwardCoord),y("slotEventOverlap")&&(d=Math.max(2*(d-10),d)),A?(m=h-s.backwardCoord*p,v=m-d):(v=l+s.backwardCoord*p,m=v+d),v=Math.max(v,l),m=Math.min(m,h),d=m-v,s.top=u,s.left=v,s.outerWidth=d,s.outerHeight=a-u,C+=f(o,s);for(L[0].innerHTML=C,g=L.children(),i=0;N>i;i++)s=n[i],o=s.event,w=e(g[i]),E=b("eventRender",o,o,w),E===!1?w.remove():(E&&E!==!0&&(w.remove(),w=e(E).css({position:"absolute",top:s.top,left:s.left}).appendTo(L)),s.element=w,o._id===r?c(o,w,s):w[0]._fci=i,$(o,w));for(T(L,n,c),i=0;N>i;i++)s=n[i],(w=s.element)&&(s.vsides=M(w,!0),s.hsides=k(w,!0),S=w.find(".fc-event-title"),S.length&&(s.contentTop=S[0].offsetTop));for(i=0;N>i;i++)s=n[i],(w=s.element)&&(w[0].style.width=Math.max(0,s.outerWidth-s.hsides)+"px",x=Math.max(0,s.outerHeight-s.vsides),w[0].style.height=x+"px",o=s.event,s.contentTop!==t&&10>x-s.contentTop&&(w.find("div.fc-event-time").text(rt(o.start,y("timeFormat"))+" - "+o.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",o,o,w))}function f(e,t){var n="<",r=e.url,i=z(e,y),s=["fc-event","fc-event-vert"];return w(e)&&s.push("fc-event-draggable"),t.isStart&&s.push("fc-event-start"),t.isEnd&&s.push("fc-event-end"),s=s.concat(e.className),e.source&&(s=s.concat(e.source.className||[])),n+=r?"a href='"+q(e.url)+"'":"div",n+=" class='"+s.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+i+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+q(it(e.start,e.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+q(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&E(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function c(e,t,n){var r=t.find("div.fc-event-time");w(e)&&v(e,t,r),n.isEnd&&E(e)&&m(e,t,r),N(e,t)}function p(e,t,n){function r(){f||(t.width(i).height("").draggable("option","grid",null),f=!0)}var i,s,o,u=n.isStart,f=!0,l=_(),c=U(),p=W(),v=X(),m=P();t.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,m){b("eventDragStart",t,e,n,m),K(e,t),i=t.width(),l.start(function(n,i){if(Z(),n){s=!1;var l=I(0,i.col),m=I(0,n.col);o=d(m,l),n.row?u?f&&(t.width(c-10),C(t,p*Math.round((e.end?(e.end-e.start)/Mt:y("defaultEventMinutes"))/v)),t.draggable("option","grid",[c,1]),f=!1):s=!0:(Y(a(h(e.start),o),a(S(e),o)),r()),s=s||f&&!o}else r(),s=!0;t.draggable("option","revert",s)},n,"drag")},stop:function(n,i){if(l.stop(),Z(),b("eventDragStop",t,e,n,i),s)r(),t.css("filter",""),J(e,t);else{var u=0;f||(u=Math.round((t.offset().top-V().offset().top)/p)*v+m-(60*e.start.getHours()+e.start.getMinutes())),Q(this,e,o,u,f,n,i)}}})}function v(e,t,n){function r(){Z(),u&&(c?(n.hide(),t.draggable("option","grid",null),Y(a(h(e.start),w),a(S(e),w))):(i(E),n.css("display",""),t.draggable("option","grid",[C,k])))}function i(t){var r
,i=l(h(e.start),t);e.end&&(r=l(h(e.end),t)),n.text(it(i,r,y("timeFormat")))}var s,o,u,f,c,p,v,m,w,E,x,T=g.getCoordinateGrid(),N=R(),C=U(),k=W(),L=X();t.draggable({scroll:!1,grid:[C,k],axis:1==N?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,r){b("eventDragStart",t,e,n,r),K(e,t),T.build(),s=t.position(),o=T.cell(n.pageX,n.pageY),u=f=!0,c=p=B(o),v=m=0,w=0,E=x=0},drag:function(e,n){var i=T.cell(e.pageX,e.pageY);if(u=!!i){if(c=B(i),v=Math.round((n.position.left-s.left)/C),v!=m){var a=I(0,o.col),l=o.col+v;l=Math.max(0,l),l=Math.min(N-1,l);var h=I(0,l);w=d(h,a)}c||(E=Math.round((n.position.top-s.top)/k)*L)}(u!=f||c!=p||v!=m||E!=x)&&(r(),f=u,p=c,m=v,x=E),t.draggable("option","revert",!u)},stop:function(n,i){Z(),b("eventDragStop",t,e,n,i),u&&(c||w||E)?Q(this,e,w,c?0:E,c,n,i):(u=!0,c=!1,v=0,w=0,E=0,r(),t.css("filter",""),t.css(s),J(e,t))}})}function m(e,t,n){var r,i,s=W(),o=X();t.resizable({handles:{s:".ui-resizable-handle"},grid:s,start:function(n,s){r=i=0,K(e,t),b("eventResizeStart",this,e,n,s)},resize:function(u,a){r=Math.round((Math.max(s,t.height())-a.originalSize.height)/s),r!=i&&(n.text(it(e.start,r||e.end?l(x(e),o*r):null,y("timeFormat"))),i=r)},stop:function(n,i){b("eventResizeStop",this,e,n,i),r?G(this,e,0,o*r,n,i):J(e,t)}})}var g=this;g.renderEvents=n,g.clearEvents=r,g.slotSegHtml=f,ht.call(g);var y=g.opt,b=g.trigger,w=g.isEventDraggable,E=g.isEventResizable,x=g.eventEnd,N=g.eventElementHandlers,L=g.setHeight,A=g.getDaySegmentContainer,O=g.getSlotSegmentContainer,_=g.getHoverListener,D=g.getMaxMinute,P=g.getMinMinute,H=g.timePosition,B=g.getIsCellAllDay,j=g.colContentLeft,F=g.colContentRight,I=g.cellToDate,R=g.getColCnt,U=g.getColWidth,W=g.getSnapHeight,X=g.getSnapMinutes,V=g.getSlotContainer,$=g.reportEventElement,J=g.showEvents,K=g.hideEvents,Q=g.eventDrop,G=g.eventResize,Y=g.renderDayOverlay,Z=g.clearOverlays,et=g.renderDayEvents,nt=g.calendar,rt=nt.formatDate,it=nt.formatDates;g.draggableDayEvent=p}function tt(e){var t,n=nt(e),r=n[0];if(rt(n),r){for(t=0;r.length>t;t++)it(r[t]);for(t=0;r.length>t;t++)st(r[t],0,0)}return ot(n)}function nt(e){var t,n,r,i=[];for(t=0;e.length>t;t++){for(n=e[t],r=0;i.length>r&&ut(n,i[r]).length;r++);(i[r]||(i[r]=[])).push(n)}return i}function rt(e){var t,n,r,i,s;for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)for(i=n[r],i.forwardSegs=[],s=t+1;e.length>s;s++)ut(i,e[s],i.forwardSegs)}function it(e){var n,r,i=e.forwardSegs,s=0;if(e.forwardPressure===t){for(n=0;i.length>n;n++)r=i[n],it(r),s=Math.max(s,1+r.forwardPressure);e.forwardPressure=s}}function st(e,n,r){var i,s=e.forwardSegs;if(e.forwardCoord===t)for(s.length?(s.sort(ft),st(s[0],n+1,r),e.forwardCoord=s[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1),i=0;s.length>i;i++)st(s[i],0,e.forwardCoord)}function ot(e){var t,n,r,i=[];for(t=0;e.length>t;t++)for(n=e[t],r=0;n.length>r;r++)i.push(n[r]);return i}function ut(e,t,n){n=n||[];for(var r=0;t.length>r;r++)at(e,t[r])&&n.push(t[r]);return n}function at(e,t){return e.end>t.start&&e.start<t.end}function ft(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||lt(e,t)}function lt(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function ct(n,r,i){function s(t,n){var r=$[t];return e.isPlainObject(r)?I(r,n||i):r}function o(e,t){return r.trigger.apply(r,[e,t||F].concat(Array.prototype.slice.call(arguments,2),[F]))}function u(e){var t=e.source||{};return X(e.startEditable,t.startEditable,s("eventStartEditable"),e.editable,t.editable,s("editable"))&&!s("disableDragging")}function f(e){var t=e.source||{};return X(e.durationEditable,t.durationEditable,s("eventDurationEditable"),e.editable,t.editable,s("editable"))&&!s("disableResizing")}function c(e){z={};var t,n,r=e.length;for(t=0;r>t;t++)n=e[t],z[n._id]?z[n._id].push(n):z[n._id]=[n]}function p(){z={},W={},V=[]}function v(e){return e.end?h(e.end):q(e)}function m(e,t){V.push({event:e,element:t}),W[e._id]?W[e._id].push(t):W[e._id]=[t]}function g(){e.each(V,function(e,t){F.trigger("eventDestroy",t.event,t.event,t.element)})}function y(e,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?t:o("eventClick",this,e,r)}).hover(function(t){o("eventMouseover",this,e,t)},function(t){o("eventMouseout",this,e,t)})}function b(e,t){E(e,t,"show")}function w(e,t){E(e,t,"hide")}function E(e,t,n){var r,i=W[e._id],s=i.length;for(r=0;s>r;r++)t&&i[r][0]==t[0]||i[r][n]()}function S(e,t,n,r,i,s,u){var a=t.allDay,f=t._id;T(z[f],n,r,i),o("eventDrop",e,t,n,r,i,function(){T(z[f],-n,-r,a),U(f)},s,u),U(f)}function x(e,t,n,r,i,s){var u=t._id;N(z[u],n,r),o("eventResize",e,t,n,r,function(){N(z[u],-n,-r),U(u)},i,s),U(u)}function T(e,n,r,i){r=r||0;for(var s,o=e.length,u=0;o>u;u++)s=e[u],i!==t&&(s.allDay=i),l(a(s.start,n,!0),r),s.end&&(s.end=l(a(s.end,n,!0),r)),R(s,$)}function N(e,t,n){n=n||0;for(var r,i=e.length,s=0;i>s;s++)r=e[s],r.end=l(a(v(r),t,!0),n),R(r,$)}function C(e){return"object"==typeof e&&(e=e.getDay()),Q[e]}function k(){return J}function L(e,t,n){for(t=t||1;Q[(e.getDay()+(n?t:0)+7)%7];)a(e,t)}function A(){var e=O.apply(null,arguments),t=M(e),n=_(t);return n}function O(e,t){var n=F.getColCnt(),r=Z?-1:1,i=Z?n-1:0;"object"==typeof e&&(t=e.col,e=e.row);var s=e*n+(t*r+i);return s}function M(e){var t=F.visStart.getDay();return e+=G[t],7*Math.floor(e/J)+Y[(e%J+J)%J]-t}function _(e){var t=h(F.visStart);return a(t,e),t}function D(e){var t=P(e),n=H(t),r=B(n);return r}function P(e){return d(e,F.visStart)}function H(e){var t=F.visStart.getDay();return e+=t,Math.floor(e/7)*J+G[(e%7+7)%7]-G[t]}function B(e){var t=F.getColCnt(),n=Z?-1:1,r=Z?t-1:0,i=Math.floor(e/t),s=(e%t+t)%t*n+r;return{row:i,col:s}}function j(e,t){for(var n=F.getRowCnt(),r=F.getColCnt(),i=[],s=P(e),o=P(t),u=H(s),a=H(o)-1,f=0;n>f;f++){var l=f*r,c=l+r-1,h=Math.max(u,l),p=Math.min(a,c);if(p>=h){var d=B(h),v=B(p),m=[d.col,v.col].sort(),g=M(h)==s,y=M(p)+1==o;i.push({row:f,leftCol:m[0],rightCol:m[1],isStart:g,isEnd:y})}}return i}var F=this;F.element=n,F.calendar=r,F.name=i,F.opt=s,F.trigger=o,F.isEventDraggable=u,F.isEventResizable=f,F.setEventData=c,F.clearEventData=p,F.eventEnd=v,F.reportEventElement=m,F.triggerEventDestroy=g,F.eventElementHandlers=y,F.showEvents=b,F.hideEvents=w,F.eventDrop=S,F.eventResize=x;var q=F.defaultEventEnd,R=r.normalizeEvent,U=r.reportEventChange,z={},W={},V=[],$=r.options;F.isHiddenDay=C,F.skipHiddenDays=L,F.getCellsPerWeek=k,F.dateToCell=D,F.dateToDayOffset=P,F.dayOffsetToCellOffset=H,F.cellOffsetToCell=B,F.cellToDate=A,F.cellToCellOffset=O,F.cellOffsetToDayOffset=M,F.dayOffsetToDate=_,F.rangeToSegments=j;var J,K=s("hiddenDays")||[],Q=[],G=[],Y=[],Z=s("isRTL");(function(){s("weekends")===!1&&K.push(0,6);for(var t=0,n=0;7>t;t++)G[t]=n,Q[t]=-1!=e.inArray(t,K),Q[t]||(Y[n]=t,n++);if(J=n,!J)throw"invalid hiddenDays"})()}function ht(){function t(e,t){var n=r(e,!1,!0);dt(n,function(e,t){_(e.event,t)}),b(n,t),dt(n,function(e,t){L("eventAfterRender",e.event,e.event,t)})}function n(e,t,n){var i=r([e],!0,!1),s=[];return dt(i,function(e,r){e.row===t&&r.css("top",n),s.push(r[0])}),s}function r(t,n,r){var s,a,f=K(),h=n?e("<div/>"):f,p=i(t);return o(p),s=u(p),h[0].innerHTML=s,a=h.children(),n&&f.append(a),l(p,a),dt(p,function(e,t){e.hsides=k(t,!0)}),dt(p,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),dt(p,function(e,t){e.outerHeight=t.outerHeight(!0)}),c(p,r),p}function i(e){for(var t=[],n=0;e.length>n;n++){var r=s(e[n]);t.push.apply(t,r)}return t}function s(e){for(var t=e.start,n=S(e),r=tt(t,n),i=0;r.length>i;i++)r[i].event=e;return r}function o(e){for(var t=C("isRTL"),n=0;e.length>n;n++){var r=e[n],i=(t?r.isEnd:r.isStart)?$:X,s=(t?r.isStart:r.isEnd)?J:V,o=i(r.leftCol),u=s(r.rightCol);r.left=o,r.outerWidth=u-o}}function u(e){for(var t="",n=0;e.length>n;n++)t+=f(e[n]);return t}function f(e){var t="",n=C("isRTL"),r=e.event,i=r.url,s=["fc-event","fc-event-hori"];A(r)&&s.push("fc-event-draggable"),e.isStart&&s.push("fc-event-start"),e.isEnd&&s.push("fc-event-end"),s=s.concat(r.className),r.source&&(s=s.concat(r.source.className||[]));var o=z(r,C);return t+=i?"<a href='"+q(i)+"'":"<div",t+=" class='"+s.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+o+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+q(Q(r.start,r.end,C("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+q(r.title||"")+"</span>"+"</div>",e.isEnd&&O(r)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(i?"a":"div")+">"}function l(t,n){for(var r=0;t.length>r;r++){var i=t[r],s=i.event,o=n.eq(r),u=L("eventRender",s,s,o);u===!1?o.remove():(u&&u!==!0&&(u=e(u).css({position:"absolute",left:i.left}),o.replaceWith(u),o=u),i.element=o)}}function c(e,t){var n=p(e),r=y(),i=[];if(t)for(var s=0;r.length>s;s++)r[s].height(n[s]);for(var s=0;r.length>s;s++)i.push(r[s].position().top);dt(e,function(e,t){t.css("top",i[e.row]+e.top)})}function p(e){for(var t=I(),n=U(),r=[],i=v(e),s=0;t>s;s++){for(var o=i[s],u=[],a=0;n>a;a++)u.push(0);for(var f=0;o.length>f;f++){var l=o[f];l.top=j(u.slice(l.leftCol,l.rightCol+1));for(var a=l.leftCol;l.rightCol>=a;a++)u[a]=l.top+l.outerHeight}r.push(j(u))}return r}function v(e){var t,n,r,i=I(),s=[];for(t=0;e.length>t;t++)n=e[t],r=n.row,n.element&&(s[r]?s[r].push(n):s[r]=[n]);for(r=0;i>r;r++)s[r]=m(s[r]||[]);return s}function m(e){for(var t=[],n=g(e),r=0;n.length>r;r++)t.push.apply(t,n[r]);return t}function g(e){e.sort(vt);for(var t=[],n=0;e.length>n;n++){for(var r=e[n],i=0;t.length>i&&pt(r,t[i]);i++);t[i]?t[i].push(r):t[i]=[r]}return t}function y(){var e,t=I(),n=[];for(e=0;t>e;e++)n[e]=W(e).find("div.fc-day-content > div");return n}function b(e,t){var n=K();dt(e,function(e,n,r){var i=e.event;i._id===t?w(i,n,e):n[0]._fci=r}),T(n,e,w)}function w(e,t,n){A(e)&&N.draggableDayEvent(e,t,n),n.isEnd&&O(e)&&N.resizableDayEvent(e,t,n),D(e,t)}function E(e,t){var n,r=et();t.draggable({delay:50,opacity:C("dragOpacity"),revertDuration:C("dragRevertDuration"),start:function(i,s){L("eventDragStart",t,e,i,s),H(e,t),r.start(function(r,i,s,o){if(t.draggable("option","revert",!r||!s&&!o),Y(),r){var u=nt(i),f=nt(r);n=d(f,u),G(a(h(e.start),n),a(S(e),n))}else n=0},i,"drag")},stop:function(i,s){r.stop(),Y(),L("eventDragStop",t,e,i,s),n?B(this,e,n,0,e.allDay,i,s):(t.css("filter",""),P(e,t))}})}function x(t,r,i){var s=C("isRTL"),o=s?"w":"e",u=r.find(".ui-resizable-"+o),f=!1;R(r),r.mousedown(function(e){e.preventDefault()}).click(function(e){f&&(e.preventDefault(),e.stopImmediatePropagation())}),u.mousedown(function(s){function u(n){L("eventResizeStop",this,t,n),e("body").css("cursor",""),l.stop(),Y(),c&&F(this,t,c,0,n),setTimeout(function(){f=!1},0)}if(1==s.which){f=!0;var l=et();I(),U();var c,h,p=r.css("top"),d=e.extend({},t),v=ot(st(t.start));Z(),e("body").css("cursor",o+"-resize").one("mouseup",u),L("eventResizeStart",this,t,s),l.start(function(r,s){if(r){var u=rt(s),f=rt(r);if(f=Math.max(f,v),c=it(f)-it(u)){d.end=a(M(t),c,!0);var l=h;h=n(d,i.row,p),h=e(h),h.find("*").css("cursor",o+"-resize"),l&&l.remove(),H(t)}else h&&(P(t),h.remove(),h=null);Y(),G(t.start,a(S(t),c))}},s)}})}var N=this;N.renderDayEvents=t,N.draggableDayEvent=E,N.resizableDayEvent=x;var C=N.opt,L=N.trigger,A=N.isEventDraggable,O=N.isEventResizable,M=N.eventEnd,_=N.reportEventElement,D=N.eventElementHandlers,P=N.showEvents,H=N.hideEvents,B=N.eventDrop,F=N.eventResize,I=N.getRowCnt,U=N.getColCnt;N.getColWidth;var W=N.allDayRow,X=N.colLeft,V=N.colRight,$=N.colContentLeft,J=N.colContentRight;N.dateToCell;var K=N.getDaySegmentContainer,Q=N.calendar.formatDates,G=N.renderDayOverlay,Y=N.clearOverlays,Z=N.clearSelection,et=N.getHoverListener,tt=N.rangeToSegments,nt=N.cellToDate,rt=N.cellToCellOffset,it=N.cellOffsetToDayOffset,st=N.dateToDayOffset,ot=N.dayOffsetToCellOffset}function pt(e,t){for(var n=0;t.length>n;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function dt(e,t){for(var n=0;e.length>n;n++){var r=e[n],i=r.element;i&&t(r,i,n)}}function vt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function mt(){function t(e,t,i){n(),t||(t=a(e,i)),f(e,t,i),r(e,t,i)}function n(e){c&&(c=!1,l(),u("unselect",null,e))}function r(e,t,n,r){c=!0,u("select",null,e,t,n,r)}function i(t){var i=s.cellToDate,u=s.getIsCellAllDay,a=s.getHoverListener(),c=s.reportDayClick;if(1==t.which&&o("selectable")){n(t);var h;a.start(function(e,t){l(),e&&u(e)?(h=[i(t),i(e)].sort(B),f(h[0],h[1],!0)):h=null},t),e(document).one("mouseup",function(e){a.stop(),h&&(+h[0]==+h[1]&&c(h[0],!0,e),r(h[0],h[1],!0,e))})}}var s=this;s.select=t,s.unselect=n,s.reportSelection=r,s.daySelectionMousedown=i;var o=s.opt,u=s.trigger,a=s.defaultSelectionEnd,f=s.renderSelection,l=s.clearSelection,c=!1;o("selectable")&&o("unselectAuto")&&e(document).mousedown(function(t){var r=o("unselectCancel");r&&e(t.target).parents(r).length||n(t)})}function gt(){function t(t,n){var r=s.shift();return r||(r=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),i.push(r.css(t).show()),r}function n(){for(var e;e=i.shift();)s.push(e.hide().unbind())}var r=this;r.renderOverlay=t,r.clearOverlays=n;var i=[],s=[]}function yt(e){var t,n,r=this;r.build=function(){t=[],n=[],e(t,n)},r.cell=function(e,r){var i,s=t.length,o=n.length,u=-1,a=-1;for(i=0;s>i;i++)if(r>=t[i][0]&&t[i][1]>r){u=i;break}for(i=0;o>i;i++)if(e>=n[i][0]&&n[i][1]>e){a=i;break}return u>=0&&a>=0?{row:u,col:a}:null},r.rect=function(e,r,i,s,o){var u=o.offset();return{top:t[e][0]-u.top,left:n[r][0]-u.left,width:n[s][1]-n[r][0],height:t[i][1]-t[e][0]}}}function bt(t){function n(e){wt(e);var n=t.cell(e.pageX,e.pageY);(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))&&(n?(s||(s=n),i(n,s,n.row-s.row,n.col-s.col)):i(n,s),o=n)}var r,i,s,o,u=this;u.start=function(u,a,f){i=u,s=o=null,t.build(),n(a),r=f||"mousemove",e(document).bind(r,n)},u.stop=function(){return e(document).unbind(r,n),o}}function wt(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Et(e){function n(t){return i[t]=i[t]||e(t)}var r=this,i={},s={},o={};r.left=function(e){return s[e]=s[e]===t?n(e).position().left:s[e]},r.right=function(e){return o[e]=o[e]===t?r.left(e)+n(e).width():o[e]},r.clear=function(){i={},s={},o={}}}var St={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},xt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Tt=e.fullCalendar={version:"1.6.7"},Nt=Tt.views={};e.fn.fullCalendar=function(n){if("string"==typeof n){var i,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=e.data(this,"fullCalendar");if(r&&e.isFunction(r[n])){var o=r[n].apply(r,s);i===t&&(i=o),"destroy"==n&&e.removeData(this,"fullCalendar")}}),i!==t?i:this}n=n||{};var o=n.eventSources||[];return delete n.eventSources,n.events&&(o.push(n.events),delete n.events),n=e.extend(!0,{},St,n.isRTL||n.isRTL===t&&St.isRTL?xt:{},n),this.each(function(t,i){var s=e(i),u=new r(s,n,o);s.data("fullCalendar",u),u.render()}),this},Tt.sourceNormalizers=[],Tt.sourceFetchers=[];var Ct={dataType:"json",cache:!1},kt=1;Tt.addDays=a,Tt.cloneDate=h,Tt.parseDate=m,Tt.parseISO8601=g,Tt.parseTime=y,Tt.formatDate=b,Tt.formatDates=w;var Lt=["sun","mon","tue","wed","thu","fri","sat"],At=864e5,Ot=36e5,Mt=6e4,_t={s:function(e){return e.getSeconds()},ss:function(e){return F(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return F(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return F(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return F(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return F(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return F(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return 12>e.getHours()?"a":"p"},tt:function(e){return 12>e.getHours()?"am":"pm"},T:function(e){return 12>e.getHours()?"A":"P"},TT:function(e){return 12>e.getHours()?"AM":"PM"},u:function(e){return b(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return E(e)}};Tt.dateFormatters=_t,Tt.applyAll=W,Nt.month=V,Nt.basicWeek=$,Nt.basicDay=J,n({weekMode:"fixed"}),Nt.agendaWeek=G,Nt.agendaDay=Y,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})})(jQuery);(function(e,t,n){"use strict";function r(e){return function(){var t=arguments[0],n="["+(e?e+":":"")+t+"] ",r=arguments[1],i=arguments,s=function(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):typeof e=="undefined"?"undefined":typeof e!="string"?JSON.stringify(e):e},o,u;o=n+r.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n;if(t+2<i.length){n=i[t+2];return typeof n=="function"?n.toString().replace(/ ?\{[\s\S]*$/,""):typeof n=="undefined"?"undefined":typeof n!="string"?ht(n):n}return e});o=o+"\nhttp://errors.angularjs.org/1.2.27/"+(e?e+"/":"")+t;for(u=2;u<arguments.length;u++)o=o+(u==2?"?":"&")+"p"+(u-2)+"="+encodeURIComponent(s(arguments[u]));return new Error(o)}}function E(e){if(e==null||z(e))return!1;var t=e.length;return e.nodeType===1&&t?!0:j(e)||q(e)||t===0||typeof t=="number"&&t>0&&t-1 in e}function S(e,t,n){var r;if(e)if(R(e))for(r in e)r!="prototype"&&r!="length"&&r!="name"&&(!e.hasOwnProperty||e.hasOwnProperty(r))&&t.call(n,e[r],r);else if(q(e)||E(e))for(r=0;r<e.length;r++)t.call(n,e[r],r);else if(e.forEach&&e.forEach!==S)e.forEach(t,n);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function x(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function T(e,t,n){var r=x(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function N(e){return function(t,n){e(n,t)}}function C(){var e=w.length,t;while(e){e--;t=w[e].charCodeAt(0);if(t==57){w[e]="A";return w.join("")}if(t!=90){w[e]=String.fromCharCode(t+1);return w.join("")}w[e]="0"}w.unshift("0");return w.join("")}function k(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function L(e){var t=e.$$hashKey;S(arguments,function(t){t!==e&&S(t,function(t,n){e[n]=t})});k(e,t);return e}function A(e){return parseInt(e,10)}function O(e,t){return L(new(L(function(){},{prototype:e})),t)}function M(){}function _(e){return e}function D(e){return function(){return e}}function P(e){return typeof e=="undefined"}function H(e){return typeof e!="undefined"}function B(e){return e!=null&&typeof e=="object"}function j(e){return typeof e=="string"}function F(e){return typeof e=="number"}function I(e){return v.call(e)==="[object Date]"}function R(e){return typeof e=="function"}function U(e){return v.call(e)==="[object RegExp]"}function z(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function W(e){return e&&e.$evalAsync&&e.$watch}function X(e){return v.call(e)==="[object File]"}function V(e){return v.call(e)==="[object Blob]"}function $(e){return typeof e=="boolean"}function J(e){return e&&R(e.then)}function Q(e){return!!e&&!!(e.nodeName||e.prop&&e.attr&&e.find)}function G(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function Y(e,t,n){var r=[];S(e,function(e,i,s){r.push(t.call(n,e,i,s))});return r}function Z(e,t){var n=0,r;if(q(e)||j(e))return e.length;if(B(e))for(r in e)(!t||e.hasOwnProperty(r))&&n++;return n}function et(e,t){return tt(e,t)!=-1}function tt(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function nt(e,t){var n=tt(e,t);n>=0&&e.splice(n,1);return t}function rt(e){if(e)switch(e.nodeName){case"OPTION":case"PRE":case"TITLE":return!0}return!1}function it(e,t,n,r){if(z(e)||W(e))throw m("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(!t){t=e;if(e)if(q(e))t=it(e,[],n,r);else if(I(e))t=new Date(e.getTime());else if(U(e)){t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);t.lastIndex=e.lastIndex}else B(e)&&(t=it(e,{},n,r))}else{if(e===t)throw m("cpi","Can't copy! Source and destination are identical.");n=n||[];r=r||[];if(B(e)){var i=tt(n,e);if(i!==-1)return r[i];n.push(e);r.push(t)}var s;if(q(e)){t.length=0;for(var o=0;o<e.length;o++){s=it(e[o],null,n,r);if(B(e[o])){n.push(e[o]);r.push(s)}t.push(s)}}else{var u=t.$$hashKey;q(t)?t.length=0:S(t,function(e,n){delete t[n]});for(var a in e){s=it(e[a],null,n,r);if(B(e[a])){n.push(e[a]);r.push(s)}t[a]=s}k(t,u)}}return t}function st(e,t){if(q(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(B(e)){t=t||{};for(var r in e)o.call(e,r)&&(r.charAt(0)!=="$"||r.charAt(1)!=="$")&&(t[r]=e[r])}return t||e}function ot(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;var r=typeof e,i=typeof t,s,o,u;if(r==i&&r=="object"){if(!q(e)){if(I(e))return I(t)?isNaN(e.getTime())&&isNaN(t.getTime())||e.getTime()===t.getTime():!1;if(U(e)&&U(t))return e.toString()==t.toString();if(W(e)||W(t)||z(e)||z(t)||q(t))return!1;u={};for(o in e){if(o.charAt(0)==="$"||R(e[o]))continue;if(!ot(e[o],t[o]))return!1;u[o]=!0}for(o in t)if(!u.hasOwnProperty(o)&&o.charAt(0)!=="$"&&t[o]!==n&&!R(t[o]))return!1;return!0}if(!q(t))return!1;if((s=e.length)==t.length){for(o=0;o<s;o++)if(!ot(e[o],t[o]))return!1;return!0}}return!1}function at(e,t,n){return e.concat(p.call(t,n))}function ft(e,t){return p.call(e,t||0)}function lt(e,t){var n=arguments.length>2?ft(arguments,2):[];return!R(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(p.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function ct(e,r){var i=r;typeof e=="string"&&e.charAt(0)==="$"?i=n:z(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":W(r)&&(i="$SCOPE");return i}function ht(e,t){return typeof e=="undefined"?n:JSON.stringify(e,ct,t?"  ":null)}function pt(e){return j(e)?JSON.parse(e):e}function dt(e){if(typeof e=="function")e=!0;else if(e&&e.length!==0){var t=s(""+e);e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}function vt(e){e=c(e).clone();try{e.empty()}catch(t){}var n=3,r=c("<div>").append(e).html();try{return e[0].nodeType===n?s(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+s(t)})}catch(t){return s(r)}}function mt(e){try{return decodeURIComponent(e)}catch(t){}}function gt(e){var t={},n,r;S((e||"").split("&"),function(e){if(e){n=e.replace(/\+/g,"%20").split("=");r=mt(n[0]);if(H(r)){var i=H(n[1])?mt(n[1]):!0;o.call(t,r)?q(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}}});return t}function yt(e){var t=[];S(e,function(e,n){q(e)?S(e,function(e){t.push(wt(n,!0)+(e===!0?"":"="+wt(e,!0)))}):t.push(wt(n,!0)+(e===!0?"":"="+wt(e,!0)))});return t.length?t.join("&"):""}function bt(e){return wt(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function wt(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function Et(e,n){function a(e){e&&r.push(e)}var r=[e],i,s,o=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;S(o,function(n){o[n]=!0;a(t.getElementById(n));n=n.replace(":","\\:");if(e.querySelectorAll){S(e.querySelectorAll("."+n),a);S(e.querySelectorAll("."+n+"\\:"),a);S(e.querySelectorAll("["+n+"]"),a)}});S(r,function(e){if(!i){var t=" "+e.className+" ",n=u.exec(t);if(n){i=e;s=(n[2]||"").replace(/\s+/g,",")}else S(e.attributes,function(t){if(!i&&o[t.name]){i=e;s=t.value}})}});i&&n(i,s?[s]:[])}function St(n,r){var i=function(){n=c(n);if(n.injector()){var e=n[0]===t?"document":vt(n);throw m("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[];r.unshift(["$provide",function(e){e.value("$rootElement",n)}]);r.unshift("ng");var i=kn(r);i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r,i){e.$apply(function(){t.data("$injector",r);n(t)(e)})}]);return i},s=/^NG_DEFER_BOOTSTRAP!/;if(e&&!s.test(e.name))return i();e.name=e.name.replace(s,"");g.resumeBootstrap=function(e){S(e,function(e){r.push(e)});i()}}function Tt(e,t){t=t||"_";return e.replace(xt,function(e,n){return(n?t:"")+e.toLowerCase()})}function Nt(){h=e.jQuery;if(h&&h.fn.on){c=h;L(h.fn,{scope:dn.scope,isolateScope:dn.isolateScope,controller:dn.controller,injector:dn.injector,inheritedData:dn.inheritedData});Wt("remove",!0,!0,!1);Wt("empty",!1,!1,!1);Wt("html",!1,!1,!0)}else c=Zt;g.element=c}function Ct(e,t,n){if(!e)throw m("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function kt(e,t,n){n&&q(e)&&(e=e[e.length-1]);Ct(R(e),t,"not a function, got "+(e&&typeof e=="object"?e.constructor.name||"Object":typeof e));return e}function Lt(e,t){if(e==="hasOwnProperty")throw m("badname","hasOwnProperty is not a valid {0} name",t)}function At(e,t,n){if(!t)return e;var r=t.split("."),i,s=e,o=r.length;for(var u=0;u<o;u++){i=r[u];e&&(e=(s=e)[i])}return!n&&R(e)?lt(s,e):e}function Ot(e){var t=e[0],n=e[e.length-1];if(t===n)return c(t);var r=t,i=[r];do{r=r.nextSibling;if(!r)break;i.push(r)}while(r!==n);return c(i)}function Mt(e){function i(e,t,n){return e[t]||(e[t]=n())}var t=r("$injector"),n=r("ng"),s=i(e,"angular",Object);s.$$minErr=s.$$minErr||r;return i(s,"module",function(){var e={};return function(s,o,u){var a=function(e,t){if(e==="hasOwnProperty")throw n("badname","hasOwnProperty is not a valid {0} name",t)};a(s,"module");o&&e.hasOwnProperty(s)&&(e[s]=null);return i(e,s,function(){function a(t,n,r){return function(){e[r||"push"]([t,n,arguments]);return i}}if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var e=[],n=[],r=a("$injector","invoke"),i={_invokeQueue:e,_runBlocks:n,requires:o,name:s,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:r,run:function(e){n.push(e);return this}};u&&r(u);return i})}})}function Dt(t){L(t,{bootstrap:St,copy:it,extend:L,equals:ot,element:c,forEach:S,injector:kn,noop:M,bind:lt,toJson:ht,fromJson:pt,identity:_,isUndefined:P,isDefined:H,isString:j,isFunction:R,isObject:B,isNumber:F,isElement:Q,isArray:q,version:_t,isDate:I,lowercase:s,uppercase:u,callbacks:{counter:0},$$minErr:r,$$csp:ut});y=Mt(e);try{y("ngLocale")}catch(n){y("ngLocale",[]).provider("$locale",rr)}y("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Vr});t.provider("$compile",jn).directive({a:Li,input:Ki,textarea:Ki,form:Di,script:_s,select:Hs,style:js,option:Bs,ngBind:us,ngBindHtml:fs,ngBindTemplate:as,ngClass:cs,ngClassEven:ps,ngClassOdd:hs,ngCloak:ds,ngController:vs,ngForm:Pi,ngHide:Cs,ngIf:ys,ngInclude:bs,ngInit:Es,ngNonBindable:Ss,ngPluralize:xs,ngRepeat:Ts,ngShow:Ns,ngStyle:ks,ngSwitch:Ls,ngSwitchWhen:As,ngSwitchDefault:Os,ngOptions:Ps,ngTransclude:Ms,ngModel:ts,ngList:is,ngChange:ns,required:rs,ngRequired:rs,ngValue:os}).directive({ngInclude:ws}).directive(Ai).directive(ms);t.provider({$anchorScroll:Ln,$animate:On,$browser:Dn,$cacheFactory:Pn,$controller:zn,$document:Wn,$exceptionHandler:Xn,$filter:ui,$interpolate:tr,$interval:nr,$http:Qn,$httpBackend:Yn,$location:br,$log:wr,$parse:Rr,$rootScope:Xr,$q:Ur,$sce:Zr,$sceDelegate:Yr,$sniffer:ei,$templateCache:Hn,$timeout:ti,$window:oi,$$rAF:Wr,$$asyncCallback:Mn})}])}function It(){return++Ht}function zt(e){return e.replace(qt,function(e,t,n,r){return r?n.toUpperCase():n}).replace(Rt,"Moz$1")}function Wt(e,t,n,r){function s(e){var s=n&&e?[this.filter(e)]:[this],o=t,u,a,f,l,p,d,v;if(!r||e!=null)while(s.length){u=s.shift();for(a=0,f=u.length;a<f;a++){l=c(u[a]);o?l.triggerHandler("$destroy"):o=!o;for(p=0,d=(v=l.children()).length;p<d;p++)s.push(h(v[p]))}}return i.apply(this,arguments)}var i=h.fn[e];i=i.$original||i;s.$original=i;h.fn[e]=s}function Qt(e){return!Vt.test(e)}function Gt(e,t){var n,r,i,s,o=t.createDocumentFragment(),u=[],a,f,l;if(Qt(e))u.push(t.createTextNode(e));else{r=o.appendChild(t.createElement("div"));i=($t.exec(e)||["",""])[1].toLowerCase();s=Kt[i]||Kt._default;r.innerHTML="<div>&#160;</div>"+s[1]+e.replace(Jt,"<$1></$2>")+s[2];r.removeChild(r.firstChild);a=s[0];while(a--)r=r.lastChild;for(f=0,l=r.childNodes.length;f<l;++f)u.push(r.childNodes[f]);r=o.firstChild;r.textContent=""}o.textContent="";o.innerHTML="";return u}function Yt(e,n){n=n||t;var r;return(r=Xt.exec(e))?[n.createElement(r[1])]:Gt(e,n)}function Zt(e){if(e instanceof Zt)return e;j(e)&&(e=K(e));if(!(this instanceof Zt)){if(j(e)&&e.charAt(0)!="<")throw Ut("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Zt(e)}if(j(e)){ln(this,Yt(e));var n=c(t.createDocumentFragment());n.append(this)}else ln(this,e)}function en(e){return e.cloneNode(!0)}function tn(e){rn(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)tn(n[t])}function nn(e,t,n,r){if(H(r))throw Ut("offargs","jqLite#off() does not support the `selector` argument");var i=sn(e,"events"),s=sn(e,"handle");if(!s)return;P(t)?S(i,function(t,n){jt(e,n,t);delete i[n]}):S(t.split(" "),function(t){if(P(n)){jt(e,t,i[t]);delete i[t]}else nt(i[t]||[],n)})}function rn(e,t){var r=e.ng339,i=Pt[r];if(i){if(t){delete Pt[r].data[t];return}if(i.handle){i.events.$destroy&&i.handle({},"$destroy");nn(e)}delete Pt[r];e.ng339=n}}function sn(e,t,n){var r=e.ng339,i=Pt[r||-1];if(!H(n))return i&&i[t];if(!i){e.ng339=r=It();i=Pt[r]={}}i[t]=n}function on(e,t,n){var r=sn(e,"data"),i=H(n),s=!i&&H(t),o=s&&!B(t);!r&&!o&&sn(e,"data",r={});if(i)r[t]=n;else{if(!s)return r;if(o)return r&&r[t];L(r,t)}}function un(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function an(e,t){t&&e.setAttribute&&S(t.split(" "),function(t){e.setAttribute("class",K((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+K(t)+" "," ")))})}function fn(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");S(t.split(" "),function(e){e=K(e);n.indexOf(" "+e+" ")===-1&&(n+=e+" ")});e.setAttribute("class",K(n))}}function ln(e,t){if(t){t=!t.nodeName&&H(t.length)&&!z(t)?t:[t];for(var n=0;n<t.length;n++)e.push(t[n])}}function cn(e,t){return hn(e,"$"+(t||"ngController")+"Controller")}function hn(e,t,r){e.nodeType==9&&(e=e.documentElement);var i=q(t)?t:[t];while(e){for(var s=0,o=i.length;s<o;s++)if((r=c.data(e,i[s]))!==n)return r;e=e.parentNode||e.nodeType===11&&e.host}}function pn(e){for(var t=0,n=e.childNodes;t<n.length;t++)tn(n[t]);while(
e.firstChild)e.removeChild(e.firstChild)}function gn(e,t){var n=vn[t.toLowerCase()];return n&&mn[e.nodeName]&&n}function yn(e,n){var r=function(r,i){r.preventDefault||(r.preventDefault=function(){r.returnValue=!1});r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0});r.target||(r.target=r.srcElement||t);if(P(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0;s.call(r)};r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||r.returnValue===!1};var o=st(n[i||r.type]||[]);S(o,function(t){t.call(e,r)});if(l<=8){r.preventDefault=null;r.stopPropagation=null;r.isDefaultPrevented=null}else{delete r.preventDefault;delete r.stopPropagation;delete r.isDefaultPrevented}};r.elem=e;return r}function bn(e,t){var r=typeof e,i;r=="function"||r=="object"&&e!==null?typeof (i=e.$$hashKey)=="function"?i=e.$$hashKey():i===n&&(i=e.$$hashKey=(t||C)()):i=e;return r+":"+i}function wn(e,t){if(t){var n=0;this.nextUid=function(){return++n}}S(e,this.put,this)}function Cn(e){var t,n,r,i;if(typeof e=="function"){if(!(t=e.$inject)){t=[];if(e.length){n=e.toString().replace(Tn,"");r=n.match(En);S(r[1].split(Sn),function(e){e.replace(xn,function(e,n,r){t.push(r)})})}e.$inject=t}}else if(q(e)){i=e.length-1;kt(e[i],"fn");t=e.slice(0,i)}else kt(e,"fn",!0);return t}function kn(e){function f(e){return function(t,n){if(!B(t))return e(t,n);S(t,N(e))}}function l(e,t){Lt(e,"service");if(R(t)||q(t))t=o.instantiate(t);if(!t.$get)throw Nn("pget","Provider '{0}' must define $get factory method.",e);return s[e+n]=t}function c(e,t){return l(e,{$get:t})}function h(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function p(e,t){return c(e,D(t))}function d(e,t){Lt(e,"constant");s[e]=t;u[e]=t}function v(e,t){var r=o.get(e+n),i=r.$get;r.$get=function(){var e=a.invoke(i,r);return a.invoke(t,null,{$delegate:e})}}function m(e){var t=[],n,r,s,u;S(e,function(e){if(i.get(e))return;i.put(e,!0);try{if(j(e)){n=y(e);t=t.concat(m(n.requires)).concat(n._runBlocks);for(r=n._invokeQueue,s=0,u=r.length;s<u;s++){var a=r[s],f=o.get(a[0]);f[a[1]].apply(f,a[2])}}else R(e)?t.push(o.invoke(e)):q(e)?t.push(o.invoke(e)):kt(e,"module")}catch(l){q(e)&&(e=e[e.length-1]);l.message&&l.stack&&l.stack.indexOf(l.message)==-1&&(l=l.message+"\n"+l.stack);throw Nn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}});return t}function g(e,i){function o(n){if(e.hasOwnProperty(n)){if(e[n]===t)throw Nn("cdep","Circular dependency found: {0}",n+" <- "+r.join(" <- "));return e[n]}try{r.unshift(n);e[n]=t;return e[n]=i(n)}catch(s){e[n]===t&&delete e[n];throw s}finally{r.shift()}}function u(e,t,n){var r=[],i=Cn(e),s,u,a;for(u=0,s=i.length;u<s;u++){a=i[u];if(typeof a!="string")throw Nn("itkn","Incorrect injection token! Expected service name as string, got {0}",a);r.push(n&&n.hasOwnProperty(a)?n[a]:o(a))}q(e)&&(e=e[s]);return e.apply(t,r)}function a(e,t){var n=function(){},r,i;n.prototype=(q(e)?e[e.length-1]:e).prototype;r=new n;i=u(e,r,t);return B(i)||R(i)?i:r}return{invoke:u,instantiate:a,get:o,annotate:Cn,has:function(t){return s.hasOwnProperty(t+n)||e.hasOwnProperty(t)}}}var t={},n="Provider",r=[],i=new wn([],!0),s={$provide:{provider:f(l),factory:f(c),service:f(h),value:f(p),constant:f(d),decorator:v}},o=s.$injector=g(s,function(){throw Nn("unpr","Unknown provider: {0}",r.join(" <- "))}),u={},a=u.$injector=g(u,function(e){var t=o.get(e+n);return a.invoke(t.$get,t)});S(m(e),function(e){a.invoke(e||M)});return a}function Ln(){var e=!0;this.disableAutoScrolling=function(){e=!1};this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;S(e,function(e){!t&&s(e.nodeName)==="a"&&(t=e)});return t}function u(){var e=n.hash(),r;e?(r=i.getElementById(e))?r.scrollIntoView():(r=o(i.getElementsByName(e)))?r.scrollIntoView():e==="top"&&t.scrollTo(0,0):t.scrollTo(0,0)}var i=t.document;e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(u)});return u}]}function Mn(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function _n(e,t,r,i){function v(e){try{e.apply(null,ft(arguments,1))}finally{p--;if(p===0)while(d.length)try{d.pop()()}catch(t){r.error(t)}}}function y(e,t){(function n(){S(m,function(e){e()});g=t(n,e)})()}function N(){if(b==s.url())return;b=s.url();S(x,function(e){e(s.url())})}var s=this,o=t[0],u=e.location,a=e.history,f=e.setTimeout,l=e.clearTimeout,h={};s.isMock=!1;var p=0,d=[];s.$$completeOutstandingRequest=v;s.$$incOutstandingRequestCount=function(){p++};s.notifyWhenNoOutstandingRequests=function(e){S(m,function(e){e()});p===0?e():d.push(e)};var m=[],g;s.addPollFn=function(e){P(g)&&y(100,f);m.push(e);return e};var b=u.href,w=t.find("base"),E=null;s.url=function(t,n){u!==e.location&&(u=e.location);a!==e.history&&(a=e.history);if(t){if(b==t)return;var r=b&&cr(b)===cr(t);b=t;if(!r&&i.history)if(n)a.replaceState(null,"",t);else{a.pushState(null,"",t);w.attr("href",w.attr("href"))}else{r||(E=t);n?u.replace(t):u.href=t}return s}return E||u.href.replace(/%27/g,"'")};var x=[],T=!1;s.onUrlChange=function(t){if(!T){i.history&&c(e).on("popstate",N);i.hashchange?c(e).on("hashchange",N):s.addPollFn(N);T=!0}x.push(t);return t};s.$$checkUrlChange=N;s.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},k="",L=s.baseHref();s.cookies=function(e,t){var i,s,u,a,f;if(!e){if(o.cookie!==k){k=o.cookie;s=k.split("; ");C={};for(a=0;a<s.length;a++){u=s[a];f=u.indexOf("=");if(f>0){e=unescape(u.substring(0,f));C[e]===n&&(C[e]=unescape(u.substring(f+1)))}}}return C}if(t===n)o.cookie=escape(e)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT";else if(j(t)){i=(o.cookie=escape(e)+"="+escape(t)+";path="+L).length+1;i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!")}};s.defer=function(e,t){var n;p++;n=f(function(){delete h[n];v(e)},t||0);h[n]=!0;return n};s.defer.cancel=function(e){if(h[e]){delete h[e];l(e);v(M);return!0}return!1}}function Dn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new _n(e,r,t,n)}]}function Pn(){this.$get=function(){function t(t,n){function c(e){if(e!=f){l?l==e&&(l=e.n):l=e;h(e.n,e.p);h(e,f);f=e;f.n=null}}function h(e,t){if(e!=t){e&&(e.p=t);t&&(t.n=e)}}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,s=L({},n,{id:t}),o={},u=n&&n.capacity||Number.MAX_VALUE,a={},f=null,l=null;return e[t]={put:function(e,t){if(u<Number.MAX_VALUE){var n=a[e]||(a[e]={key:e});c(n)}if(P(t))return;e in o||i++;o[e]=t;i>u&&this.remove(l.key);return t},get:function(e){if(u<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return o[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=a[e];if(!t)return;t==f&&(f=t.p);t==l&&(l=t.n);h(t.n,t.p);delete a[e]}delete o[e];i--},removeAll:function(){o={};i=0;a={};f=l=null},destroy:function(){o=null;s=null;a=null;delete e[t]},info:function(){return L({},s,{size:i})}}}var e={};t.info=function(){var t={};S(e,function(e,n){t[n]=e.info()});return t};t.get=function(t){return e[t]};return t}}function Hn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function jn(e,r){var i={},s="Directive",o=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,u=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,a=/^(on[a-z]+|formaction)$/;this.directive=function f(t,n){Lt(t,"directive");if(j(t)){Ct(n,"directiveFactory");if(!i.hasOwnProperty(t)){i[t]=[];e.factory(t+s,["$injector","$exceptionHandler",function(e,n){var r=[];S(i[t],function(i,s){try{var o=e.invoke(i);R(o)?o={compile:D(o)}:!o.compile&&o.link&&(o.compile=D(o.link));o.priority=o.priority||0;o.index=s;o.name=o.name||t;o.require=o.require||o.controller&&o.name;o.restrict=o.restrict||"A";r.push(o)}catch(u){n(u)}});return r}])}i[t].push(n)}else S(t,N(f));return this};this.aHrefSanitizationWhitelist=function(e){if(H(e)){r.aHrefSanitizationWhitelist(e);return this}return r.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(e){if(H(e)){r.imgSrcSanitizationWhitelist(e);return this}return r.imgSrcSanitizationWhitelist()};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,f,h,p,d,v,m,g,y,w,E){function A(e,t,n,r,i){e instanceof c||(e=c(e));S(e,function(t,n){t.nodeType==3&&t.nodeValue.match(/\S+/)&&(e[n]=t=c(t).wrap("<span></span>").parent()[0])});var s=D(e,t,e,n,r,i);M(e,"ng-scope");return function(n,r,i,o){Ct(n,"scope");var u=r?dn.clone.call(e):e;S(i,function(e,t){u.data("$"+t+"Controller",e)});for(var a=0,f=u.length;a<f;a++){var l=u[a],c=l.nodeType;(c===1||c===9)&&u.eq(a).data("$scope",n)}r&&r(u,n);s&&s(n,u,u,o);return u}}function M(e,t){try{e.addClass(t)}catch(n){}}function D(e,t,r,i,s,o){function m(e,r,i,s){var o,a,f,l,h,p,d,v,m=r.length,g=new Array(m);for(h=0;h<m;h++)g[h]=r[h];for(h=0,d=0,p=u.length;h<p;d++){f=g[d];o=u[h++];a=u[h++];if(o){if(o.scope){l=e.$new();c.data(f,"$scope",l)}else l=e;o.transcludeOnThisElement?v=P(e,o.transclude,s):!o.templateOnThisElement&&s?v=s:!s&&t?v=P(e,t):v=null;o(a,l,f,i,v)}else a&&a(e,f.childNodes,n,s)}}var u=[],a,f,l,h,p,d;for(var v=0;v<e.length;v++){a=new x;f=H(e[v],[],a,v===0?i:n,s);l=f.length?U(f,e[v],a,t,r,null,[],[],o):null;l&&l.scope&&M(a.$$element,"ng-scope");p=l&&l.terminal||!(h=e[v].childNodes)||!h.length?null:D(h,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t);u.push(l,p);d=d||l||p;o=null}return d?m:null}function P(e,t,n){var r=function(r,i,s){var o=!1;if(!r){r=e.$new();r.$$transcluded=!0;o=!0}var u=t(r,i,s,n);o&&u.on("$destroy",function(){r.$destroy()});return u};return r}function H(e,t,n,r,i){var s=e.nodeType,a=n.$attr,f,c;switch(s){case 1:W(t,In(b(e).toLowerCase()),"E",r,i);for(var h,p,d,v,m,g,y=e.attributes,w=0,E=y&&y.length;w<E;w++){var S=!1,x=!1;h=y[w];if(!l||l>=8||h.specified){p=h.name;m=K(h.value);v=In(p);if(g=k.test(v))p=Tt(v.substr(6),"-");var T=v.replace(/(Start|End)$/,"");if(v===T+"Start"){S=p;x=p.substr(0,p.length-5)+"end";p=p.substr(0,p.length-6)}d=In(p.toLowerCase());a[d]=p;if(g||!n.hasOwnProperty(d)){n[d]=m;gn(e,d)&&(n[d]=!0)}Y(e,t,m,d);W(t,d,"A",r,i,S,x)}}c=e.className;if(j(c)&&c!=="")while(f=u.exec(c)){d=In(f[2]);W(t,d,"C",r,i)&&(n[d]=K(f[3]));c=c.substr(f.index+f[0].length)}break;case 3:Q(t,e.nodeValue);break;case 8:try{f=o.exec(e.nodeValue);if(f){d=In(f[1]);W(t,d,"M",r,i)&&(n[d]=K(f[2]))}}catch(N){}}t.sort($);return t}function F(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){var s=e;do{if(!e)throw Bn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);if(e.nodeType==1){e.hasAttribute(t)&&i++;e.hasAttribute(n)&&i--}r.push(e);e=e.nextSibling}while(i>0)}else r.push(e);return c(r)}function I(e,t,n){return function(r,i,s,o,u){i=F(i[0],t,n);return e(r,i,s,o,u)}}function U(e,i,s,o,u,a,l,h,p){function at(e,t,n,r){if(e){n&&(e=I(e,n,r));e.require=O.require;e.directiveName=_;if(b===O||O.$$isolateScope)e=et(e,{isolateScope:!0});l.push(e)}if(t){n&&(t=I(t,n,r));t.require=O.require;t.directiveName=_;if(b===O||O.$$isolateScope)t=et(t,{isolateScope:!0});h.push(t)}}function lt(e,t,n,r){var i,s="data",o=!1;if(j(t)){while((i=t.charAt(0))=="^"||i=="?"){t=t.substr(1);i=="^"&&(s="inheritedData");o=o||i=="?"}i=null;r&&s==="data"&&(i=r[t]);i=i||n[s]("$"+t+"Controller");if(!i&&!o)throw Bn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i}if(q(t)){i=[];S(t,function(t){i.push(lt(e,t,n,r))})}return i}function ct(e,t,o,u,a){function P(e,t){var r;if(arguments.length<2){t=e;e=n}k&&(r=L);return a(e,t,r)}var p,m,g,E,T,N,C,L={},A;p=i===o?s:st(s,new x(c(o),s.$attr));m=p.$$element;if(b){var O=/^\s*([@=&])(\??)\s*(\w*)\s*$/;C=t.$new(!0);!w||w!==b&&w!==b.$$originalDirective?m.data("$isolateScopeNoTemplate",C):m.data("$isolateScope",C);M(m,"ng-isolate-scope");S(b.scope,function(e,n){var i=e.match(O)||[],s=i[3]||n,o=i[2]=="?",u=i[1],a,f,l,c;C.$$isolateBindings[n]=u+s;switch(u){case"@":p.$observe(s,function(e){C[n]=e});p.$$observers[s].$$scope=t;p[s]&&(C[n]=r(p[s])(t));break;case"=":if(o&&!p[s])return;f=d(p[s]);f.literal?c=ot:c=function(e,t){return e===t||e!==e&&t!==t};l=f.assign||function(){a=C[n]=f(t);throw Bn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",p[s],b.name)};a=C[n]=f(t);C.$watch(function(){var r=f(t);c(r,C[n])||(c(r,a)?l(t,r=C[n]):C[n]=r);return a=r},null,f.literal);break;case"&":f=d(p[s]);C[n]=function(e){return f(t,e)};break;default:throw Bn("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b.name,n,e)}})}A=a&&P;y&&S(y,function(e){var n={$scope:e===b||e.$$isolateScope?C:t,$element:m,$attrs:p,$transclude:A},r;N=e.controller;N=="@"&&(N=p[e.name]);r=v(N,n);L[e.name]=r;k||m.data("$"+e.name+"Controller",r);e.controllerAs&&(n.$scope[e.controllerAs]=r)});for(g=0,E=l.length;g<E;g++)try{T=l[g];T(T.isolateScope?C:t,m,p,T.require&&lt(T.directiveName,T.require,m,L),A)}catch(_){f(_,vt(m))}var D=t;b&&(b.template||b.templateUrl===null)&&(D=C);e&&e(D,o.childNodes,n,a);for(g=h.length-1;g>=0;g--)try{T=h[g];T(T.isolateScope?C:t,m,p,T.require&&lt(T.directiveName,T.require,m,L),A)}catch(_){f(_,vt(m))}}p=p||{};var m=-Number.MAX_VALUE,g,y=p.controllerDirectives,b=p.newIsolateScopeDirective,w=p.templateDirective,E=p.nonTlbTranscludeDirective,T=!1,N=!1,k=p.hasElementTranscludeDirective,L=s.$$element=c(i),O,_,D,P=a,U=o,W,$;for(var Q=0,G=e.length;Q<G;Q++){O=e[Q];var Y=O.$$start,tt=O.$$end;Y&&(L=F(i,Y,tt));D=n;if(m>O.priority)break;if($=O.scope){g=g||O;if(!O.templateUrl){J("new/isolated scope",b,O,L);B($)&&(b=O)}}_=O.name;if(!O.templateUrl&&O.controller){$=O.controller;y=y||{};J("'"+_+"' controller",y[_],O,L);y[_]=O}if($=O.transclude){T=!0;if(!O.$$tlb){J("transclusion",E,O,L);E=O}if($=="element"){k=!0;m=O.priority;D=L;L=s.$$element=c(t.createComment(" "+_+": "+s[_]+" "));i=L[0];Z(u,ft(D),i);U=A(D,o,m,P&&P.name,{nonTlbTranscludeDirective:E})}else{D=c(en(i)).contents();L.empty();U=A(D,o)}}if(O.template){N=!0;J("template",w,O,L);w=O;$=R(O.template)?O.template(L,s):O.template;$=C($);if(O.replace){P=O;Qt($)?D=[]:D=c(K($));i=D[0];if(D.length!=1||i.nodeType!==1)throw Bn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",_,"");Z(u,L,i);var nt={$attr:{}},rt=H(i,[],nt),it=e.splice(Q+1,e.length-(Q+1));b&&z(rt);e=e.concat(rt).concat(it);X(s,nt);G=e.length}else L.html($)}if(O.templateUrl){N=!0;J("template",w,O,L);w=O;O.replace&&(P=O);ct=V(e.splice(Q,e.length-Q),L,s,u,T&&U,l,h,{controllerDirectives:y,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:E});G=e.length}else if(O.compile)try{W=O.compile(L,s,U);R(W)?at(null,W,Y,tt):W&&at(W.pre,W.post,Y,tt)}catch(ut){f(ut,vt(L))}if(O.terminal){ct.terminal=!0;m=Math.max(m,O.priority)}}ct.scope=g&&g.scope===!0;ct.transcludeOnThisElement=T;ct.templateOnThisElement=N;ct.transclude=U;p.hasElementTranscludeDirective=k;return ct}function z(e){for(var t=0,n=e.length;t<n;t++)e[t]=O(e[t],{$$isolateScope:!0})}function W(t,r,o,u,a,l,c){if(r===a)return null;var h=null;if(i.hasOwnProperty(r))for(var p,d=e.get(r+s),v=0,m=d.length;v<m;v++)try{p=d[v];if((u===n||u>p.priority)&&p.restrict.indexOf(o)!=-1){l&&(p=O(p,{$$start:l,$$end:c}));t.push(p);h=p}}catch(g){f(g)}return h}function X(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;S(e,function(r,i){if(i.charAt(0)!="$"){t[i]&&t[i]!==r&&(r+=(i==="style"?";":" ")+t[i]);e.$set(i,r,!0,n[i])}});S(t,function(t,s){if(s=="class"){M(i,t);e["class"]=(e["class"]?e["class"]+" ":"")+t}else if(s=="style"){i.attr("style",i.attr("style")+";"+t);e.style=(e.style?e.style+";":"")+t}else if(s.charAt(0)!="$"&&!e.hasOwnProperty(s)){e[s]=t;r[s]=n[s]}})}function V(e,t,n,r,i,s,o,u){var a=[],f,l,d=t[0],v=e.shift(),m=L({},v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=R(v.templateUrl)?v.templateUrl(t,n):v.templateUrl;t.empty();h.get(y.getTrustedResourceUrl(g),{cache:p}).success(function(h){var p,y,b,w;h=C(h);if(v.replace){Qt(h)?b=[]:b=c(K(h));p=b[0];if(b.length!=1||p.nodeType!==1)throw Bn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);y={$attr:{}};Z(r,t,p);var E=H(p,[],y);B(v.scope)&&z(E);e=E.concat(e);X(n,y)}else{p=d;t.html(h)}e.unshift(m);f=U(e,p,n,i,t,v,s,o,u);S(r,function(e,n){e==p&&(r[n]=t[0])});l=D(t[0].childNodes,i);while(a.length){var x=a.shift(),T=a.shift(),N=a.shift(),k=a.shift(),L=t[0];if(T!==d){var A=T.className;if(!u.hasElementTranscludeDirective||!v.replace)L=en(p);Z(N,c(T),L);M(c(L),A)}f.transcludeOnThisElement?w=P(x,f.transclude,k):w=k;f(l,x,L,r,w)}a=null}).error(function(e,t,n,r){throw Bn("tpload","Failed to load template: {0}",r.url)});return function(t,n,r,i,s){var o=s;if(a){a.push(n);a.push(r);a.push(i);a.push(o)}else{f.transcludeOnThisElement&&(o=P(n,f.transclude,s));f(l,n,r,i,o)}}}function $(e,t){var n=t.priority-e.priority;return n!==0?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function J(e,t,n,r){if(t)throw Bn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,vt(r))}function Q(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(t){var r=t.parent(),i=r.length;i&&M(t.parent(),"ng-binding");return function(t,r){var s=r.parent(),o=s.data("$binding")||[];o.push(n);s.data("$binding",o);i||M(s,"ng-binding");t.$watch(n,function(t){r[0].nodeValue=t})}}})}function G(e,t){if(t=="srcdoc")return y.HTML;var n=b(e);if(t=="xlinkHref"||n=="FORM"&&t=="action"||n!="IMG"&&(t=="src"||t=="ngSrc"))return y.RESOURCE_URL}function Y(e,t,n,i){var s=r(n,!0);if(!s)return;if(i==="multiple"&&b(e)==="SELECT")throw Bn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",vt(e));t.push({priority:100,compile:function(){return{pre:function(n,o,u){var f=u.$$observers||(u.$$observers={});if(a.test(i))throw Bn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");s=r(u[i],!0,G(e,i));if(!s)return;u[i]=s(n);(f[i]||(f[i]=[])).$$inter=!0;(u.$$observers&&u.$$observers[i].$$scope||n).$watch(s,function(t,n){i==="class"&&t!=n?u.$updateClass(t,n):u.$set(i,t)})}}}})}function Z(e,n,r){var i=n[0],s=n.length,o=i.parentNode,u,a;if(e)for(u=0,a=e.length;u<a;u++)if(e[u]==i){e[u++]=r;for(var f=u,l=f+s-1,h=e.length;f<h;f++,l++)l<h?e[f]=e[l]:delete e[f];e.length-=s-1;break}o&&o.replaceChild(r,i);var p=t.createDocumentFragment();p.appendChild(i);r[c.expando]=i[c.expando];for(var d=1,v=n.length;d<v;d++){var m=n[d];c(m).remove();p.appendChild(m);delete n[d]}n[0]=r;n.length=1}function et(e,t){return L(function(){return e.apply(null,arguments)},e,t)}var x=function(e,t){this.$$element=e;this.$attr=t||{}};x.prototype={$normalize:In,$addClass:function(e){e&&e.length>0&&w.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&w.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Un(e,t),r=Un(t,e);n.length===0?w.removeClass(this.$$element,r):r.length===0?w.addClass(this.$$element,n):w.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var s=gn(this.$$element[0],e),o,u;if(s){this.$$element.prop(e,t);i=s}this[e]=t;if(i)this.$attr[e]=i;else{i=this.$attr[e];i||(this.$attr[e]=i=Tt(e,"-"))}u=b(this.$$element);if(u==="A"&&e==="href"||u==="IMG"&&e==="src")this[e]=t=E(t,e==="src");r!==!1&&(t===null||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var a=this.$$observers;a&&S(a[e],function(e){try{e(t)}catch(n){f(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);i.push(t);m.$evalAsync(function(){i.$$inter||t(n[e])});return t}};var T=r.startSymbol(),N=r.endSymbol(),C=T=="{{"||N=="}}"?_:function(t){return t.replace(/\{\{/g,T).replace(/}}/g,N)},k=/^ngAttr[A-Z]/;return A}]}function In(e){return zt(e.replace(Fn,""))}function qn(e,t,n,r){}function Rn(e,t,n,r,i){}function Un(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var s=0;s<r.length;s++){var o=r[s];for(var u=0;u<i.length;u++)if(o==i[u])continue e;n+=(n.length>0?" ":"")+o}return n}function zn(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){Lt(t,"controller");B(t)?L(e,t):e[t]=n};this.$get=["$injector","$window",function(n,i){return function(s,o){var u,a,f,l;if(j(s)){a=s.match(t),f=a[1],l=a[3];s=e.hasOwnProperty(f)?e[f]:At(o.$scope,f,!0)||At(i,f,!0);kt(s,f,!0)}u=n.instantiate(s,o);if(l){if(!o||typeof o.$scope!="object")throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",f||s.name,l);o.$scope[l]=u}return u}}]}function Wn(){this.$get=["$window",function(e){return c(e.document)}]}function Xn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Vn(e){var t={},n,r,i;if(!e)return t;S(e.split("\n"),function(e){i=e.indexOf(":");n=s(K(e.substr(0,i)));r=K(e.substr(i+1));n&&(t[n]=t[n]?t[n]+", "+r:r)});return t}function $n(e){var t=B(e)?e:n;return function(n){t||(t=Vn(e));return n?t[s(n)]||null:t}}function Jn(e,t,n){if(R(n))return n(e,t);S(n,function(n){e=n(e,t)});return e}function Kn(e){return 200<=e&&e<300}function Qn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(n){if(j(n)){n=n.replace(r,"");e.test(n)&&t.test(n)&&(n=pt(n))}return n}],transformRequest:[function(e){return B(e)&&!X(e)&&!V(e)?ht(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:st(i),put:st(i),patch:st(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],f=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,l,c){function d(e){function d(e){var n=L({},e,{data:Jn(e.data,e.headers,t.transformResponse)});return Kn(e.status)?n:l.reject(n)}function v(e){function a(e){var t;S(e,function(n,r){if(R(n)){t=n();t!=null?e[r]=t:delete e[r]}})}var t=o.headers,n=L({},e.headers),r,i,u;t=L({},t.common,t[s(e.method)]);e:for(r in t){i=s(r);for(u in n)if(s(u)===i)continue e;n[r]=t[r]}a(n);return n}var t={method:"get",transformRequest:o.transformRequest,transformResponse:o.transformResponse},r=v(e);L(t,e);t.headers=r;t.method=u(t.method);var i=function(e){r=e.headers;var t=Jn(e.data,$n(r),e.transformRequest);P(t)&&S(r,function(e,t){s(t)==="content-type"&&delete r[t]});P(e.withCredentials)&&!P(o.withCredentials)&&(e.withCredentials=o.withCredentials);return g(e,t,r).then(d,d)},a=[i,n],f=l.when(t);S(p,function(e){(e.request||e.requestError)&&a.unshift(e.request,e.requestError);(e.response||e.responseError)&&a.push(e.response,e.responseError)});while(a.length){var c=a.shift(),h=a.shift();f=f.then(c,h)}f.success=function(e){f.then(function(n){e(n.data,n.status,n.headers,t)});return f};f.error=function(e){f.then(null,function(n){e(n.data,n.status,n.headers,t)});return f};return f}function v(e){S(arguments,function(e){d[e]=function(t,n){return d(L(n||{},{method:e,url:t}))}})}function m(e){S(arguments,function(e){d[e]=function(t,n,r){return d(L(r||{},{method:e,url:t,data:n}))}})}function g(r,s,u){function g(e,t,n,r){c&&(Kn(e)?c.put(v,[e,t,Vn(n),r]):c.remove(v));b(t,e,n,r);i.$$phase||i.$apply()}function b(e,t,n,i){t=Math.max(t,0);(Kn(t)?a.resolve:a.reject)({data:e,status:t,headers:$n(n),config:r,statusText:i})}function w(){var e=tt(d.pendingRequests,r);e!==-1&&d.pendingRequests.splice(e,1)}var a=l.defer(),f=a.promise,c,p,v=y(r.url,r.params);d.pendingRequests.push(r);f.then(w,w);(r.cache||o.cache)&&r.cache!==!1&&(r.method==="GET"||r.method==="JSONP")&&(c=B(r.cache)?r.cache:B(o.cache)?o.cache:h);if(c){p=c.get(v);if(H(p)){if(J(p)){p.then(w,w);return p}q(p)?b(p[1],p[0],st(p[2]),p[3]):b(p,200,{},"OK")}else c.put(v,f)}if(P(p)){var m=si(r.url)?t.cookies()[r.xsrfCookieName||o.xsrfCookieName]:n;m&&(u[r.xsrfHeaderName||o.xsrfHeaderName]=m);e(r.method,v,s,g,u,r.timeout,r.withCredentials,r.responseType)}return f}function y(e,t){if(!t)return e;var n=[];T(t,function(e,t){if(e===null||P(e))return;q(e)||(e=[e]);S(e,function(e){B(e)&&(I(e)?e=e.toISOString():e=ht(e));n.push(wt(t)+"="+wt(e))})});n.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+n.join("&"));return e}var h=r("$http"),p=[];S(a,function(e){p.unshift(j(e)?c.get(e):c.invoke(e))});S(f,function(e,t){var n=j(e)?c.get(e):c.invoke(e);p.splice(t,0,{response:function(e){return n(l.when(e))},responseError:function(e){return n(l.reject(e))}})});d.pendingRequests=[];v("get","delete","head","jsonp");m("post","put","patch");d.defaults=o;return d}]}function Gn(t){if(l<=8&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Yn(){this.$get=["$browser","$window","$document",function(e,t,n){return Zn(e,Gn,e.defer,t.angular.callbacks,n[0])}]}function Zn(e,t,n,r,i){function u(e,t,n){var s=i.createElement("script"),o=null;s.type="text/javascript";s.src=e;s.async=!0;o=function(e){jt(s,"load",o);jt(s,"error",o);i.body.removeChild(s);s=null;var u=-1,a="unknown";if(e){e.type==="load"&&!r[t].called&&(e={type:"error"});a=e.type;u=e.type==="error"?404:200}n&&n(u,a)};Bt(s,"load",o);Bt(s,"error",o);l<=8&&(s.onreadystatechange=function(){if(j(s.readyState)&&/loaded|complete/.test(s.readyState)){s.onreadystatechange=null;o({type:"load"})}});i.body.appendChild(s);return o}var o=-1;return function(i,a,f,c,h,p,d,v){function x(){m=o;y&&y();b&&b.abort()}function T(t,r,i,s,o){E&&n.cancel(E);y=b=null;r===0&&(r=i?200:ii(a).protocol=="file"?404:0);r=r===1223?204:r;o=o||"";t(r,i,s,o);e.$$completeOutstandingRequest(M)}var m;e.$$incOutstandingRequestCount();a=a||e.url();if(s(i)=="jsonp"){var g="_"+(r.counter++).toString(36);r[g]=function(e){r[g].data=e;r[g].called=!0};var y=u(a.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(e,t){T(c,e,r[g].data,"",t);r[g]=M})}else{var b=t(i);b.open(i,a,!0);S(h,function(e,t){H(e)&&b.setRequestHeader(t,e)});b.onreadystatechange=function(){if(b&&b.readyState==4){var e=null,t=null,n="";if(m!==o){e=b.getAllResponseHeaders();t="response"in b?b.response:b.responseText}m===o&&l<10||(n=b.statusText);T(c,m||b.status,t,e,n)}};d&&(b.withCredentials=!0);if(v)try{b.responseType=v}catch(w){if(v!=="json")throw w}b.send(f||null)}if(p>0)var E=n(x,p);else J(p)&&p.then(x)}}function tr(){var e="{{",t="}}";this.startSymbol=function(t){if(t){e=t;return this}return e};this.endSymbol=function(e){if(e){t=e;return this}return t};this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function u(u,a,f){var l,c,h=0,p=[],d=u.length,v=!1,m,g,y=[];while(h<d)if((l=u.indexOf(e,h))!=-1&&(c=u.indexOf(t,l+s))!=-1){h!=l&&p.push(u.substring(h,l));p.push(m=n(g=u.substring(l+s,c)));m.exp=g;h=c+o;v=!0}else{h!=d&&p.push(u.substring(h));h=d}if(!(d=p.length)){p.push("");d=1}if(f&&p.length>1)throw er("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",u);if(!a||v){y.length=d;m=function(e){try{for(var t=0,n=d,s;t<n;t++){if(typeof (s=p[t])=="function"){s=s(e);f?s=i.getTrusted(f,s):s=i.valueOf(s);if(s==null)s="";else switch(typeof s){case"string":break;case"number":s=""+s;break;default:s=ht(s)}}y[t]=s}return y.join("")}catch(o){var a=er("interr","Can't interpolate: {0}\n{1}",u,o.toString());r(a)}};m.exp=u;m.parts=p;return m}}var s=e.length,o=t.length;u.startSymbol=function(){return e};u.endSymbol=function(){return t};return u}]}function nr(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,s,o,u){var a=t.setInterval,f=t.clearInterval,l=n.defer(),c=l.promise,h=0,p=H(u)&&!u;o=H(o)?o:0;c.then(null,null,i);c.$$intervalId=a(function(){l.notify(h++);if(o>0&&h>=o){l.resolve(h);f(c.$$intervalId);delete r[c.$$intervalId]}p||e.$apply()},s);r[c.$$intervalId]=l;return c}var r={};i.cancel=function(e){if(e&&e.$$intervalId in r){r[e.$$intervalId].reject("canceled");t.clearInterval(e.$$intervalId);delete r[e.$$intervalId];return!0}return!1};return i}]}function rr(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return e===1?"one":"other"}}}}function ur(e){var t=e.split("/"),n=t.length;while(n--)t[n]=bt(t[n]);return t.join("/")}function ar(e,t,n){var r=ii(e,n);t.$$protocol=r.protocol;t.$$host=r.hostname;t.$$port=A(r.port)||sr[r.protocol]||null}function fr(e,t,n){var r=e.charAt(0)!=="/";r&&(e="/"+e);var i=ii(e,n);t.$$path=decodeURIComponent(r&&i.pathname.charAt(0)==="/"?i.pathname.substring(1):i.pathname);t.$$search=gt(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&t.$$path.charAt(0)!="/"&&(t.$$path="/"+t.$$path)}function lr(e,t){if(t.indexOf(e)===0)return t.substr(e.length)}function cr(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function hr(e){return e.substr(0,cr(e).lastIndexOf("/")+1)}function pr(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function dr(e,t){this.$$html5=!0;t=t||"";var r=hr(e);ar(e,this,e);this.$$parse=function(t){var n=lr(r,t);if(!j(n))throw or("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);fr(n,this,e);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var e=yt(this.$$search),t=this.$$hash?"#"+bt(this.$$hash):"";this.$$url=ur(this.$$path)+(e?"?"+e:"")+t;this.$$absUrl=r+this.$$url.substr(1)};this.$$parseLinkUrl=function(i,s){var o,u,a;if((o=lr(e,i))!==n){u=o;(o=lr(t,o))!==n?a=r+(lr("/",o)||o):a=e+u}else(o=lr(r,i))!==n?a=r+o:r==i+"/"&&(a=r);a&&this.$$parse(a);return!!a}}function vr(e,t){var n=hr(e);ar(e,this,e);this.$$parse=function(r){function o(e,t,n){var r=/^\/[A-Z]:(\/.*)/,i;t.indexOf(n)===0&&(t=t.replace(n,""));if(r.exec(t))return e;i=r.exec(e);return i?i[1]:e}var i=lr(e,r)||lr(n,r),s=i.charAt(0)=="#"?lr(t,i):this.$$html5?i:"";if(!j(s))throw or("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,t);fr(s,this,e);this.$$path=o(this.$$path,s,e);this.$$compose()};this.$$compose=function(){var n=yt(this.$$search),r=this.$$hash?"#"+bt(this.$$hash):"";this.$$url=ur(this.$$path)+(n?"?"+n:"")+r;this.$$absUrl=e+(this.$$url?t+this.$$url:"")};this.$$parseLinkUrl=function(t,n){if(cr(e)==cr(t)){this.$$parse(t);return!0}return!1}}function mr(e,t){this.$$html5=!0;vr.apply(this,arguments);var n=hr(e);this.$$parseLinkUrl=function(r,i){var s,o;e==cr(r)?s=r:(o=lr(n,r))?s=e+t+o:n===r+"/"&&(s=n);s&&this.$$parse(s);return!!s};this.$$compose=function(){var n=yt(this.$$search),r=this.$$hash?"#"+bt(this.$$hash):"";this.$$url=ur(this.$$path)+(n?"?"+n:"")+r;this.$$absUrl=e+t+this.$$url}}function gr(e){return function(){return this[e]}}function yr(e,t){return function(n){if(P(n))return this[e];this[e]=t(n);this.$$compose();return this}}function br(){var t="",n=!1;this.hashPrefix=function(e){if(H(e)){t=e;return this}return t};this.html5Mode=function(e){if(H(e)){n=e;return this}return n};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,u){function m(e){r.$broadcast("$locationChangeSuccess",a.absUrl(),e)}var a,f,l=i.baseHref(),h=i.url(),p;if(n){p=pr(h)+(l||"/");f=o.history?dr:mr}else{p=cr(h);f=vr}a=new f(p,"#"+t);a.$$parseLinkUrl(h,h);var d=/^\s*(javascript|mailto):/i;u.on("click",function(t){if(t.ctrlKey||t.metaKey||t.which==2)return;var n=c(t.target);while(s(n[0].nodeName)!=="a")if(n[0]===u[0]||!(n=n.parent())[0])return;var o=n.prop("href"),f=n.attr("href")||n.attr("xlink:href");B(o)&&o.toString()==="[object SVGAnimatedString]"&&(o=ii(o.animVal).href);if(d.test(o))return;if(o&&!n.attr("target")&&!t.isDefaultPrevented()&&a.$$parseLinkUrl(o,f)){t.preventDefault();if(a.absUrl()!=i.url()){r.$apply();e.angular["ff-684208-preventDefault"]=!0}}});a.absUrl()!=h&&i.url(a.absUrl(),!0);i.onUrlChange(function(e){if(a.absUrl()!=e){r.$evalAsync(function(){var t=a.absUrl();a.$$parse(e);if(r.$broadcast("$locationChangeStart",e,t).defaultPrevented){a.$$parse(t);i.url(t)}else m(t)});r.$$phase||r.$digest()}});var v=0;r.$watch(function(){var t=i.url(),n=a.$$replace
;if(!v||t!=a.absUrl()){v++;r.$evalAsync(function(){if(r.$broadcast("$locationChangeStart",a.absUrl(),t).defaultPrevented)a.$$parse(t);else{i.url(a.absUrl(),n);m(t)}})}a.$$replace=!1;return v});return a}]}function wr(){var e=!0,t=this;this.debugEnabled=function(t){if(H(t)){e=t;return this}return e};this.$get=["$window",function(n){function r(e){e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line));return e}function i(e){var t=n.console||{},i=t[e]||t.log||M,s=!1;try{s=!!i.apply}catch(o){}return s?function(){var e=[];S(arguments,function(t){e.push(r(t))});return i.apply(t,e)}:function(e,t){i(e,t==null?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Tr(e,t){if(e==="__defineGetter__"||e==="__defineSetter__"||e==="__lookupGetter__"||e==="__lookupSetter__"||e==="__proto__")throw Er("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Nr(e,t){if(e){if(e.constructor===e)throw Er("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw Er("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Er("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Er("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Ar(e,t){if(e){if(e.constructor===e)throw Er("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Cr||e===kr||Lr&&e===Lr)throw Er("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Pr(e,t,r,i,s){Nr(e,i);s=s||{};var o=t.split("."),u;for(var a=0;o.length>1;a++){u=Tr(o.shift(),i);var f=Nr(e[u],i);if(!f){f={};e[u]=f}e=f;if(e.then&&s.unwrapPromises){xr(i);"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e);e.$$v===n&&(e.$$v={});e=e.$$v}}u=Tr(o.shift(),i);Nr(e[u],i);e[u]=r;return r}function jr(e){return e=="constructor"}function Fr(e,t,r,i,s,o,u){Tr(e,o);Tr(t,o);Tr(r,o);Tr(i,o);Tr(s,o);var a=function(e){return Nr(e,o)},f=u.expensiveChecks,l=f||jr(e)?a:_,c=f||jr(t)?a:_,h=f||jr(r)?a:_,p=f||jr(i)?a:_,d=f||jr(s)?a:_;return u.unwrapPromises?function(a,f){var v=f&&f.hasOwnProperty(e)?f:a,m;if(v==null)return v;v=l(v[e]);if(v&&v.then){xr(o);if(!("$$v"in v)){m=v;m.$$v=n;m.then(function(e){m.$$v=l(e)})}v=l(v.$$v)}if(!t)return v;if(v==null)return n;v=c(v[t]);if(v&&v.then){xr(o);if(!("$$v"in v)){m=v;m.$$v=n;m.then(function(e){m.$$v=c(e)})}v=c(v.$$v)}if(!r)return v;if(v==null)return n;v=h(v[r]);if(v&&v.then){xr(o);if(!("$$v"in v)){m=v;m.$$v=n;m.then(function(e){m.$$v=h(e)})}v=h(v.$$v)}if(!i)return v;if(v==null)return n;v=p(v[i]);if(v&&v.then){xr(o);if(!("$$v"in v)){m=v;m.$$v=n;m.then(function(e){m.$$v=p(e)})}v=p(v.$$v)}if(!s)return v;if(v==null)return n;v=d(v[s]);if(v&&v.then){xr(o);if(!("$$v"in v)){m=v;m.$$v=n;m.then(function(e){m.$$v=d(e)})}v=d(v.$$v)}return v}:function(u,a){var f=a&&a.hasOwnProperty(e)?a:u;if(f==null)return f;f=l(f[e]);if(!t)return f;if(f==null)return n;f=c(f[t]);if(!r)return f;if(f==null)return n;f=h(f[r]);if(!i)return f;if(f==null)return n;f=p(f[i]);if(!s)return f;if(f==null)return n;f=d(f[s]);return f}}function Ir(e,t){return function(n,r){return e(n,r,xr,Nr,t)}}function qr(e,t,r){var i=t.expensiveChecks,s=i?Br:Hr;if(s.hasOwnProperty(e))return s[e];var o=e.split("."),u=o.length,a;if(t.csp)u<6?a=Fr(o[0],o[1],o[2],o[3],o[4],r,t):a=function(e,i){var s=0,a;do{a=Fr(o[s++],o[s++],o[s++],o[s++],o[s++],r,t)(e,i);i=n;e=a}while(s<u);return a};else{var f="var p;\n";i&&(f+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=i;S(o,function(e,n){Tr(e,r);var s=(n?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+'["'+e+'"]',o=i||jr(e);if(o){s="eso("+s+", fe)";l=!0}f+="if(s == null) return undefined;\ns="+s+";\n";t.unwrapPromises&&(f+='if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n'+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v="+(o?"eso(v)":"v")+";});\n"+"}\n"+" s="+(o?"eso(s.$$v)":"s.$$v")+"\n"+"}\n")});f+="return s;";var c=new Function("s","l","pw","eso","fe",f);c.toString=D(f);if(l||t.unwrapPromises)c=Ir(c,r);a=c}e!=="hasOwnProperty"&&(s[e]=a);return a}function Rr(){var e={},t={},n={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0,expensiveChecks:!1};this.unwrapPromises=function(e){if(H(e)){n.unwrapPromises=!!e;return this}return n.unwrapPromises};this.logPromiseWarnings=function(e){if(H(e)){n.logPromiseWarnings=e;return this}return n.logPromiseWarnings};this.$get=["$filter","$sniffer","$log",function(r,i,s){n.csp=i.csp;var o={csp:n.csp,unwrapPromises:n.unwrapPromises,logPromiseWarnings:n.logPromiseWarnings,expensiveChecks:!0};xr=function(t){if(!n.logPromiseWarnings||Sr.hasOwnProperty(t))return;Sr[t]=!0;s.warn("[$parse] Promise found in the expression `"+t+"`. "+"Automatic unwrapping of promises in Angular expressions is deprecated.")};return function(i,s){var u;switch(typeof i){case"string":var a=s?t:e;if(a.hasOwnProperty(i))return a[i];var f=s?o:n,l=new _r(f),c=new Dr(l,r,f);u=c.parse(i);i!=="hasOwnProperty"&&(a[i]=u);return u;case"function":return i;default:return M}}}]}function Ur(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return zr(function(t){e.$evalAsync(t)},t)}]}function zr(e,t){function a(e){return e}function f(e){return s(e)}function l(e){var t=r(),n=0,s=q(e)?[]:{};S(e,function(e,r){n++;i(e).then(function(e){if(s.hasOwnProperty(r))return;s[r]=e;--n||t.resolve(s)},function(e){if(s.hasOwnProperty(r))return;t.reject(e)})});n===0&&t.resolve(s);return t.promise}var r=function(){var s=[],u,l;l={resolve:function(t){if(s){var r=s;s=n;u=i(t);r.length&&e(function(){var e;for(var t=0,n=r.length;t<n;t++){e=r[t];u.then(e[0],e[1],e[2])}})}},reject:function(e){l.resolve(o(e))},notify:function(t){if(s){var n=s;s.length&&e(function(){var e;for(var r=0,i=n.length;r<i;r++){e=n[r];e[2](t)}})}},promise:{then:function(e,n,i){var o=r(),l=function(n){try{o.resolve((R(e)?e:a)(n))}catch(r){o.reject(r);t(r)}},c=function(e){try{o.resolve((R(n)?n:f)(e))}catch(r){o.reject(r);t(r)}},h=function(e){try{o.notify((R(i)?i:a)(e))}catch(n){t(n)}};s?s.push([l,c,h]):u.then(l,c,h);return o.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=r();t?n.resolve(e):n.reject(e);return n.promise}function n(n,r){var i=null;try{i=(e||a)()}catch(s){return t(s,!1)}return J(i)?i.then(function(){return t(n,r)},function(e){return t(e,!1)}):t(n,r)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}};return l},i=function(t){return J(t)?t:{then:function(n){var i=r();e(function(){i.resolve(n(t))});return i.promise}}},s=function(e){var t=r();t.reject(e);return t.promise},o=function(n){return{then:function(i,s){var o=r();e(function(){try{o.resolve((R(s)?s:f)(n))}catch(e){o.reject(e);t(e)}});return o.promise}}},u=function(n,o,u,l){var c=r(),h,p=function(e){try{return(R(o)?o:a)(e)}catch(n){t(n);return s(n)}},d=function(e){try{return(R(u)?u:f)(e)}catch(n){t(n);return s(n)}},v=function(e){try{return(R(l)?l:a)(e)}catch(n){t(n)}};e(function(){i(n).then(function(e){if(h)return;h=!0;c.resolve(i(e).then(p,d,v))},function(e){if(h)return;h=!0;c.resolve(d(e))},function(e){if(h)return;c.notify(v(e))})});return c.promise};return{defer:r,reject:s,when:u,all:l}}function Wr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,s=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};s.supported=i;return s}]}function Xr(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){arguments.length&&(e=t);return e};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,i,s,u){function a(){this.$id=C();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=[];this.$$postDigestQueue=[];this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings={}}function l(e){if(f.$$phase)throw t("inprog","{0} already in progress",f.$$phase);f.$$phase=e}function c(){f.$$phase=null}function h(e,t){var n=s(e);kt(n,t);return n}function p(e,t,n){do{e.$$listenerCount[n]-=t;e.$$listenerCount[n]===0&&delete e.$$listenerCount[n]}while(e=e.$parent)}function d(){}a.prototype={constructor:a,$new:function(e){var t,n;if(e){n=new a;n.$root=this.$root;n.$$asyncQueue=this.$$asyncQueue;n.$$postDigestQueue=this.$$postDigestQueue}else{if(!this.$$childScopeClass){this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=C();this.$$childScopeClass=null};this.$$childScopeClass.prototype=this}n=new this.$$childScopeClass}n["this"]=n;n.$parent=this;n.$$prevSibling=this.$$childTail;if(this.$$childHead){this.$$childTail.$$nextSibling=n;this.$$childTail=n}else this.$$childHead=this.$$childTail=n;return n},$watch:function(e,t,r){var i=this,s=h(e,"watch"),o=i.$$watchers,u={fn:t,last:d,get:s,exp:e,eq:!!r};n=null;if(!R(t)){var a=h(t||M,"listener");u.fn=function(e,t,n){a(n)}}if(typeof e=="string"&&s.constant){var f=u.fn;u.fn=function(e,t,n){f.call(this,e,t,n);nt(o,u)}}o||(o=i.$$watchers=[]);o.unshift(u);return function(){nt(o,u);n=null}},$watchCollection:function(e,t){function v(){r=l(n);var e,t,s;if(!B(r)){if(i!==r){i=r;f++}}else if(E(r)){if(i!==c){i=c;d=i.length=0;f++}e=r.length;if(d!==e){f++;i.length=d=e}for(var o=0;o<e;o++){s=i[o]!==i[o]&&r[o]!==r[o];if(!s&&i[o]!==r[o]){f++;i[o]=r[o]}}}else{if(i!==h){i=h={};d=0;f++}e=0;for(t in r)if(r.hasOwnProperty(t)){e++;if(i.hasOwnProperty(t)){s=i[t]!==i[t]&&r[t]!==r[t];if(!s&&i[t]!==r[t]){f++;i[t]=r[t]}}else{d++;i[t]=r[t];f++}}if(d>e){f++;for(t in i)if(i.hasOwnProperty(t)&&!r.hasOwnProperty(t)){d--;delete i[t]}}}return f}function m(){if(p){p=!1;t(r,r,n)}else t(r,u,n);if(a)if(!B(r))u=r;else if(E(r)){u=new Array(r.length);for(var e=0;e<r.length;e++)u[e]=r[e]}else{u={};for(var i in r)o.call(r,i)&&(u[i]=r[i])}}var n=this,r,i,u,a=t.length>1,f=0,l=s(e),c=[],h={},p=!0,d=0;return this.$watch(v,m)},$digest:function(){var r,s,o,a,f=this.$$asyncQueue,h=this.$$postDigestQueue,p,v,m=e,g,y,b=this,w=[],E,S,x;l("$digest");u.$$checkUrlChange();n=null;do{v=!1;y=b;while(f.length){try{x=f.shift();x.scope.$eval(x.expression)}catch(T){c();i(T)}n=null}e:do{if(a=y.$$watchers){p=a.length;while(p--)try{r=a[p];if(r)if((s=r.get(y))!==(o=r.last)&&!(r.eq?ot(s,o):typeof s=="number"&&typeof o=="number"&&isNaN(s)&&isNaN(o))){v=!0;n=r;r.last=r.eq?it(s,null):s;r.fn(s,o===d?s:o,y);if(m<5){E=4-m;w[E]||(w[E]=[]);S=R(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp;S+="; newVal: "+ht(s)+"; oldVal: "+ht(o);w[E].push(S)}}else if(r===n){v=!1;break e}}catch(T){c();i(T)}}if(!(g=y.$$childHead||y!==b&&y.$$nextSibling))while(y!==b&&!(g=y.$$nextSibling))y=y.$parent}while(y=g);if((v||f.length)&&!(m--)){c();throw t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,ht(w))}}while(v||f.length);c();while(h.length)try{h.shift()()}catch(T){i(T)}},$destroy:function(){if(this.$$destroyed)return;var e=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this===f)return;S(this.$$listenerCount,lt(null,p,this));e.$$childHead==this&&(e.$$childHead=this.$$nextSibling);e.$$childTail==this&&(e.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null;this.$$listeners={};this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[];this.$destroy=this.$digest=this.$apply=M;this.$on=this.$watch=function(){return M}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){!f.$$phase&&!f.$$asyncQueue.length&&u.defer(function(){f.$$asyncQueue.length&&f.$digest()});this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{l("$apply");return this.$eval(e)}catch(t){i(t)}finally{c();try{f.$digest()}catch(t){i(t);throw t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]);n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0);r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=tt(n,t);if(r!==-1){n[r]=null;p(i,1,e)}}},$emit:function(e,t){var n=[],r,s=this,o=!1,u={name:e,targetScope:s,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},a=at([u],arguments,1),f,l;do{r=s.$$listeners[e]||n;u.currentScope=s;for(f=0,l=r.length;f<l;f++){if(!r[f]){r.splice(f,1);f--;l--;continue}try{r[f].apply(null,a)}catch(c){i(c)}}if(o)return u;s=s.$parent}while(s);return u},$broadcast:function(e,t){var n=this,r=n,s=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1},u=at([o],arguments,1),a,f,l;while(r=s){o.currentScope=r;a=r.$$listeners[e]||[];for(f=0,l=a.length;f<l;f++){if(!a[f]){a.splice(f,1);f--;l--;continue}try{a[f].apply(null,u)}catch(c){i(c)}}if(!(s=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))while(r!==n&&!(s=r.$$nextSibling))r=r.$parent}return o}};var f=new a;return f}]}function Vr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){if(H(t)){e=t;return this}return e};this.imgSrcSanitizationWhitelist=function(e){if(H(e)){t=e;return this}return t};this.$get=function(){return function(r,i){var s=i?t:e,o;if(!l||l>=8){o=ii(r).href;if(o!==""&&!o.match(s))return"unsafe:"+o}return r}}}function Kr(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Qr(e){if(e==="self")return e;if(j(e)){if(e.indexOf("***")>-1)throw $r("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);e=Kr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+e+"$")}if(U(e))return new RegExp("^"+e.source+"$");throw $r("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Gr(e){var t=[];H(e)&&S(e,function(e){t.push(Qr(e))});return t}function Yr(){this.SCE_CONTEXTS=Jr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){arguments.length&&(e=Gr(t));return e};this.resourceUrlBlacklist=function(e){arguments.length&&(t=Gr(e));return t};this.$get=["$injector",function(r){function s(e,t){return e==="self"?si(t):!!e.exec(t.href)}function o(n){var r=ii(n.toString()),i,o,u=!1;for(i=0,o=e.length;i<o;i++)if(s(e[i],r)){u=!0;break}if(u)for(i=0,o=t.length;i<o;i++)if(s(t[i],r)){u=!1;break}return u}function u(e){var t=function(t){this.$$unwrapTrustedValue=function(){return t}};e&&(t.prototype=new e);t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return t}function l(e,t){var r=f.hasOwnProperty(e)?f[e]:null;if(!r)throw $r("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(t===null||t===n||t==="")return t;if(typeof t!="string")throw $r("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof a?e.$$unwrapTrustedValue():e}function h(e,t){if(t===null||t===n||t==="")return t;var r=f.hasOwnProperty(e)?f[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===Jr.RESOURCE_URL){if(o(t))return t;throw $r("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Jr.HTML)return i(t);throw $r("unsafe","Attempting to use an unsafe value in a safe context.")}var i=function(t){throw $r("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(i=r.get("$sanitize"));var a=u(),f={};f[Jr.HTML]=u(a);f[Jr.CSS]=u(a);f[Jr.URL]=u(a);f[Jr.JS]=u(a);f[Jr.RESOURCE_URL]=u(f[Jr.URL]);return{trustAs:l,getTrusted:h,valueOf:c}}]}function Zr(){var e=!0;this.enabled=function(t){arguments.length&&(e=!!t);return e};this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&n.msieDocumentMode<8)throw $r("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=st(Jr);i.isEnabled=function(){return e};i.trustAs=r.trustAs;i.getTrusted=r.getTrusted;i.valueOf=r.valueOf;if(!e){i.trustAs=i.getTrusted=function(e,t){return t};i.valueOf=_}i.parseAs=function(n,r){var s=t(r);return s.literal&&s.constant?s:function(t,r){return i.getTrusted(n,s(t,r))}};var o=i.parseAs,u=i.getTrusted,a=i.trustAs;S(Jr,function(e,t){var n=s(t);i[zt("parse_as_"+n)]=function(t){return o(e,t)};i[zt("get_trusted_"+n)]=function(t){return u(e,t)};i[zt("trust_as_"+n)]=function(t){return a(e,t)}});return i}]}function ei(){this.$get=["$window","$document",function(e,t){var n={},r=A((/android (\d+)/.exec(s((e.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},u=o.documentMode,a,f=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=o.body&&o.body.style,h=!1,p=!1,d;if(c){for(var v in c)if(d=f.exec(v)){a=d[0];a=a.substr(0,1).toUpperCase()+a.substr(1);break}a||(a="WebkitOpacity"in c&&"webkit");h="transition"in c||a+"Transition"in c;p="animation"in c||a+"Animation"in c;if(r&&(!h||!p)){h=j(o.body.style.webkitTransition);p=j(o.body.style.webkitAnimation)}}return{history:!(!e.history||!e.history.pushState||r<4)&&!i,hashchange:"onhashchange"in e&&(!u||u>7),hasEvent:function(e){if(e=="input"&&l==9)return!1;if(P(n[e])){var t=o.createElement("div");n[e]="on"+e in t}return n[e]},csp:ut(),vendorPrefix:a,transitions:h,animations:p,android:r,msie:l,msieDocumentMode:u}}]}function ti(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function s(s,o,u){var a=n.defer(),f=a.promise,l=H(u)&&!u,c;c=t.defer(function(){try{a.resolve(s())}catch(t){a.reject(t);r(t)}finally{delete i[f.$$timeoutId]}l||e.$apply()},o);f.$$timeoutId=c;i[c]=a;return f}var i={};s.cancel=function(e){if(e&&e.$$timeoutId in i){i[e.$$timeoutId].reject("canceled");delete i[e.$$timeoutId];return t.defer.cancel(e.$$timeoutId)}return!1};return s}]}function ii(e,t){var n=e;if(l){ni.setAttribute("href",n);n=ni.href}ni.setAttribute("href",n);return{href:ni.href,protocol:ni.protocol?ni.protocol.replace(/:$/,""):"",host:ni.host,search:ni.search?ni.search.replace(/^\?/,""):"",hash:ni.hash?ni.hash.replace(/^#/,""):"",hostname:ni.hostname,port:ni.port,pathname:ni.pathname.charAt(0)==="/"?ni.pathname:"/"+ni.pathname}}function si(e){var t=j(e)?ii(e):e;return t.protocol===ri.protocol&&t.host===ri.host}function oi(){this.$get=D(e)}function ui(e){function n(r,i){if(B(r)){var s={};S(r,function(e,t){s[t]=n(t,e)});return s}return e.factory(r+t,i)}var t="Filter";this.register=n;this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}];n("currency",fi);n("date",Ei);n("filter",ai);n("json",Si);n("limitTo",Ni);n("lowercase",xi);n("number",li);n("orderBy",Ci);n("uppercase",Ti)}function ai(){return function(e,t,n){if(!q(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0};r!=="function"&&(r==="boolean"&&n?n=function(e,t){return g.equals(e,t)}:n=function(e,t){if(e&&t&&typeof e=="object"&&typeof t=="object"){for(var r in e)if(r.charAt(0)!=="$"&&o.call(e,r)&&n(e[r],t[r]))return!0;return!1}t=(""+t).toLowerCase();return(""+e).toLowerCase().indexOf(t)>-1});var s=function(e,t){if(typeof t=="string"&&t.charAt(0)==="!")return!s(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if(r.charAt(0)!=="$"&&s(e[r],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(s(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var u in t)(function(e){if(typeof t[e]=="undefined")return;i.push(function(n){return s(e=="$"?n:n&&n[e],t[e])})})(u);break;case"function":i.push(t);break;default:return e}var a=[];for(var f=0;f<e.length;f++){var l=e[f];i.check(l)&&a.push(l)}return a}}function fi(e){var t=e.NUMBER_FORMATS;return function(e,n){P(n)&&(n=t.CURRENCY_SYM);return hi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function li(e){var t=e.NUMBER_FORMATS;return function(e,n){return hi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hi(e,t,n,r,i){if(e==null||!isFinite(e)||B(e))return"";var s=e<0;e=Math.abs(e);var o=e+"",u="",a=[],f=!1;if(o.indexOf("e")!==-1){var l=o.match(/([\d\.]+)e(-?)(\d+)/);if(l&&l[2]=="-"&&l[3]>i+1){o="0";e=0}else{u=o;f=!0}}if(!f){var c=(o.split(ci)[1]||"").length;P(i)&&(i=Math.min(Math.max(t.minFrac,c),t.maxFrac));e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+ -i);e===0&&(s=!1);var h=(""+e).split(ci),p=h[0];h=h[1]||"";var d,v=0,m=t.lgSize,g=t.gSize;if(p.length>=m+g){v=p.length-m;for(d=0;d<v;d++){(v-d)%g===0&&d!==0&&(u+=n);u+=p.charAt(d)}}for(d=v;d<p.length;d++){(p.length-d)%m===0&&d!==0&&(u+=n);u+=p.charAt(d)}while(h.length<i)h+="0";i&&i!=="0"&&(u+=r+h.substr(0,i))}else i>0&&e>-1&&e<1&&(u=e.toFixed(i));a.push(s?t.negPre:t.posPre);a.push(u);a.push(s?t.negSuf:t.posSuf);return a.join("")}function pi(e,t,n){var r="";if(e<0){r="-";e=-e}e=""+e;while(e.length<t)e="0"+e;n&&(e=e.substr(e.length-t));return r+e}function di(e,t,n,r){n=n||0;return function(i){var s=i["get"+e]();if(n>0||s>-n)s+=n;s===0&&n==-12&&(s=12);return pi(s,t,r)}}function vi(e,t){return function(n,r){var i=n["get"+e](),s=u(t?"SHORT"+e:e);return r[s][i]}}function mi(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";n+=pi(Math[t>0?"floor":"ceil"](t/60),2)+pi(Math.abs(t%60),2);return n}function gi(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Ei(e){function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,s=0,o=n[8]?r.setUTCFullYear:r.setFullYear,u=n[8]?r.setUTCHours:r.setHours;if(n[9]){i=A(n[9]+n[10]);s=A(n[9]+n[11])}o.call(r,A(n[1]),A(n[2])-1,A(n[3]));var a=A(n[4]||0)-i,f=A(n[5]||0)-s,l=A(n[6]||0),c=Math.round(parseFloat("0."+(n[7]||0))*1e3);u.call(r,a,f,l,c);return r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,r){var i="",s=[],o,u;r=r||"mediumDate";r=e.DATETIME_FORMATS[r]||r;j(t)&&(t=wi.test(t)?A(t):n(t));F(t)&&(t=new Date(t));if(!I(t))return t;while(r){u=bi.exec(r);if(u){s=at(s,u,1);r=s.pop()}else{s.push(r);r=null}}S(s,function(n){o=yi[n];i+=o?o(t,e.DATETIME_FORMATS):n.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return i}}function Si(){return function(e){return ht(e,!0)}}function Ni(){return function(e,t){if(!q(e)&&!j(e))return e;Math.abs(Number(t))===Infinity?t=Number(t):t=A(t);if(j(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n=[],r,i;t>e.length?t=e.length:t<-e.length&&(t=-e.length);if(t>0){r=0;i=t}else{r=e.length+t;i=e.length}for(;r<i;r++)n.push(e[r]);return n}}function Ci(e){return function(t,n,r){function i(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i!==0)return i}return 0}function s(e,t){return dt(t)?function(t,n){return e(n,t)}:e}function o(e,t){var n=typeof e,r=typeof t;if(n==r){if(I(e)&&I(t)){e=e.valueOf();t=t.valueOf()}if(n=="string"){e=e.toLowerCase();t=t.toLowerCase()}return e===t?0:e<t?-1:1}return n<r?-1:1}if(!E(t))return t;n=q(n)?n:[n];n.length===0&&(n=["+"]);n=Y(n,function(t){var n=!1,r=t||_;if(j(t)){if(t.charAt(0)=="+"||t.charAt(0)=="-"){n=t.charAt(0)=="-";t=t.substring(1)}if(t==="")return s(function(e,t){return o(e,t)},n);r=e(t);if(r.constant){var i=r();return s(function(e,t){return o(e[i],t[i])},n)}}return s(function(e,t){return o(r(e),r(t))},n)});return p.call(t).sort(s(i,r))}}function ki(e){R(e)&&(e={link:e});e.restrict=e.restrict||"AC";return D(e)}function Mi(e,t,n,r){function f(t,n){n=n?"-"+Tt(n,"-"):"";r.setClass(e,(t?Qi:Gi)+n,(t?Gi:Qi)+n)}var i=this,s=e.parent().controller("form")||Oi,o=0,u=i.$error={},a=[];i.$name=t.name||t.ngForm;i.$dirty=!1;i.$pristine=!0;i.$valid=!0;i.$invalid=!1;s.$addControl(i);e.addClass(Yi);f(!0);i.$addControl=function(e){Lt(e.$name,"input");a.push(e);e.$name&&(i[e.$name]=e)};i.$removeControl=function(e){e.$name&&i[e.$name]===e&&delete i[e.$name];S(u,function(t,n){i.$setValidity(n,!0,e)});nt(a,e)};i.$setValidity=function(e,t,n){var r=u[e];if(t){if(r){nt(r,n);if(!r.length){o--;if(!o){f(t);i.$valid=!0;i.$invalid=!1}u[e]=!1;f(!0,e);s.$setValidity(e,!0,i)}}}else{o||f(t);if(r){if(et(r,n))return}else{u[e]=r=[];o++;f(!1,e);s.$setValidity(e,!1,i)}r.push(n);i.$valid=!1;i.$invalid=!0}};i.$setDirty=function(){r.removeClass(e,Yi);r.addClass(e,Zi);i.$dirty=!0;i.$pristine=!1;s.$setDirty()};i.$setPristine=function(){r.removeClass(e,Zi);r.addClass(e,Yi);i.$dirty=!1;i.$pristine=!0;S(a,function(e){e.$setPristine()})}}function Ii(e,t,r,i){e.$setValidity(t,r);return r?i:n}function qi(e,t){var n,r;if(t)for(n=0;n<t.length;++n){r=t[n];if(e[r])return!0}return!1}function Ri(e,t,n,r,i){if(B(i)){e.$$hasNativeValidators=!0;var s=function(s){if(!e.$error[t]&&!qi(i,r)&&qi(i,n)){e.$setValidity(t,!1);return}return s};e.$parsers.push(s)}}function Ui(e,t,n,o,u,a){var f=t.prop(i),c=t[0].placeholder,h={},p=s(t[0].type);o.$$validityState=f;if(!u.android){var d=!1;t.on("compositionstart",function(e){d=!0});t.on("compositionend",function(){d=!1;v()})}var v=function(r){if(d)return;var i=t.val();if(l&&(r||h).type==="input"&&t[0].placeholder!==c){c=t[0].placeholder;return}p!=="password"&&dt(n.ngTrim||"T")&&(i=K(i));var s=f&&o.$$hasNativeValidators;if(o.$viewValue!==i||i===""&&s)e.$root.$$phase?o.$setViewValue(i):e.$apply(function(){o.$setViewValue(i)})};if(u.hasEvent("input"))t.on("input",v);else{var m,g=function(){m||(m=a.defer(function(){v();m=null}))};t.on("keydown",function(e){var t=e.keyCode;if(t===91||15<t&&t<19||37<=t&&t<=40)return;g()});u.hasEvent("paste")&&t.on("paste cut",g)}t.on("change",v);o.$render=function(){t.val(o.$isEmpty(o.$viewValue)?"":o.$viewValue)};var y=n.ngPattern,b,w;if(y){var E=function(e,t){return Ii(o,"pattern",o.$isEmpty(t)||e.test(t),t)};w=y.match(/^\/(.*)\/([gim]*)$/);if(w){y=new RegExp(w[1],w[2]);b=function(e){return E(y,e)}}else b=function(n){var i=e.$eval(y);if(!i||!i.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,i,vt(t));return E(i,n)};o.$formatters.push(b);o.$parsers.push(b)}if(n.ngMinlength){var S=A(n.ngMinlength),x=function(e){return Ii(o,"minlength",o.$isEmpty(e)||e.length>=S,e)};o.$parsers.push(x);o.$formatters.push(x)}if(n.ngMaxlength){var T=A(n.ngMaxlength),N=function(e){return Ii(o,"maxlength",o.$isEmpty(e)||e.length<=T,e)};o.$parsers.push(N);o.$formatters.push(N)}}function Wi(e,t,r,i,s,o){Ui(e,t,r,i,s,o);i.$parsers.push(function(e){var t=i.$isEmpty(e);if(t||ji.test(e)){i.$setValidity("number",!0);return e===""?null:t?e:parseFloat(e)}i.$setValidity("number",!1);return n});Ri(i,"number",zi,null,i.$$validityState);i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e});if(r.min){var u=function(e){var t=parseFloat(r.min);return Ii(i,"min",i.$isEmpty(e)||e>=t,e)};i.$parsers.push(u);i.$formatters.push(u)}if(r.max){var a=function(e){var t=parseFloat(r.max);return Ii(i,"max",i.$isEmpty(e)||e<=t,e)};i.$parsers.push(a);i.$formatters.push(a)}i.$formatters.push(function(e){return Ii(i,"number",i.$isEmpty(e)||F(e),e)})}function Xi(e,t,n,r,i,s){Ui(e,t,n,r,i,s);var o=function(e){return Ii(r,"url",r.$isEmpty(e)||Hi.test(e),e)};r.$formatters.push(o);r.$parsers.push(o)}function Vi(e,t,n,r,i,s){Ui(e,t,n,r,i,s);var o=function(e){return Ii(r,"email",r.$isEmpty(e)||Bi.test(e),e)};r.$formatters.push(o);r.$parsers.push(o)}function $i(e,t,n,r){P(n.name)&&t.attr("name",C());t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})});r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue};n.$observe("value",r.$render)}function Ji(e,t,n,r){var i=n.ngTrueValue,s=n.ngFalseValue;j(i)||(i=!0);j(s)||(s=!1);t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})});r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(e){return e!==i};r.$formatters.push(function(e){return e===i});r.$parsers.push(function(e){return e?i:s})}function ls(e,t){e="ngClass"+e;return["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){var i=e[r];for(var s=0;s<t.length;s++)if(i==t[s])continue e;n.push(i)}return n}function i(e){if(q(e))return e;if(j(e))return e.split(" ");if(B(e)){var t=[],n=0;S(e,function(e,n){e&&(t=t.concat(n.split(" ")))});return t}return e}return{restrict:"AC",link:function(s,o,u){function f(e){var t=c(e,1);u.$addClass(t)}function l(e){var t=c(e,-1);u.$removeClass(t)}function c(e,t){var n=o.data("$classCounts")||{},r=[];S(e,function(e){if(t>0||n[e]){n[e]=(n[e]||0)+t;n[e]===+(t>0)&&r.push(e)}});o.data("$classCounts",n);return r.join(" ")}function h(e,t){var i=r(t,e),s=r(e,t);s=c(s,-1);i=c(i,1);i.length===0?n.removeClass(o,s):s.length===0?n.addClass(o,i):n.setClass(o,i,s)}function p(e){if(t===!0||s.$index%2===t){var n=i(e||[]);if(!a)f(n);else if(!ot(e,a)){var r=i(a);h(r,n)}}a=st(e)}var a;s.$watch(u[e],p,!0);u.$observe("class",function(t){p(s.$eval(u[e]))});e!=="ngClass"&&s.$watch("$index",function(n,r){var o=n&1;if(o!==(r&1)){var a=i(s.$eval(u[e]));o===t?f(a):l(a)}})}}}]}var i="validity",s=function(e){return j(e)?e.toLowerCase():e},o=Object.prototype.hasOwnProperty,u=function(e){return j(e)?e.toUpperCase():e},a=function(e){return j(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e},f=function(e){return j(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};if("i"!=="I".toLowerCase()){s=a;u=f}var l,c,h,p=[].slice,d=[].push,v=Object.prototype.toString,m=r("ng"),g=e.angular||(e.angular={}),y,b,w=["0","0","0"];l=A((/msie (\d+)/.exec(s(navigator.userAgent))||[])[1]);isNaN(l)&&(l=A((/trident\/.*; rv:(\d+)/.exec(s(navigator.userAgent))||[])[1]));M.$inject=[];_.$inject=[];var q=function(){return R(Array.isArray)?Array.isArray:function(e){return v.call(e)==="[object Array]"}}(),K=function(){return String.prototype.trim?function(e){return j(e)?e.trim():e}:function(e){return j(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();l<9?b=function(e){e=e.nodeName?e:e[0];return e.scopeName&&e.scopeName!="HTML"?u(e.scopeName+":"+e.nodeName):e.nodeName}:b=function(e){return e.nodeName?e.nodeName:e[0].nodeName};var ut=function(){if(H(ut.isActive_))return ut.isActive_;var e=!!t.querySelector("[ng-csp]")||!!t.querySelector("[data-ng-csp]");if(!e)try{new Function("")}catch(n){e=!0}return ut.isActive_=e},xt=/[A-Z]/g,_t={full:"1.2.27",major:1,minor:2,dot:27,codeName:"prime-factorization"};Zt.expando="ng339";var Pt=Zt.cache={},Ht=1,Bt=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},jt=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Ft=Zt._data=function(e){return this.cache[e[this.expando]]||{}},qt=/([\:\-\_]+(.))/g,Rt=/^moz([A-Z])/,Ut=r("jqLite"),Xt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Vt=/<|&#?\w+;/,$t=/<([\w:]+)/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option;Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead;Kt.th=Kt.td;var dn=Zt.prototype={ready:function(n){function i(){if(r)return;r=!0;n()}var r=!1;if(t.readyState==="complete")setTimeout(i);else{this.on("DOMContentLoaded",i);Zt(e).on("load",i)}},toString:function(){var e=[];S(this,function(t){e.push(""+t)});return"["+e.join(", ")+"]"},eq:function(e){return e>=0?c(this[e]):c(this[this.length+e])},length:0,push:d,sort:[].sort,splice:[].splice},vn={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){vn[s(e)]=e});var mn={};S("input,select,option,textarea,button,form,details".split(","),function(e){mn[u(e)]=!0});S({
data:on,removeData:rn},function(e,t){Zt[t]=e});S({data:on,inheritedData:hn,scope:function(e){return c.data(e,"$scope")||hn(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return c.data(e,"$isolateScope")||c.data(e,"$isolateScopeNoTemplate")},controller:cn,injector:function(e){return hn(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:un,css:function(e,t,r){t=zt(t);if(!H(r)){var i;if(l<=8){i=e.currentStyle&&e.currentStyle[t];i===""&&(i="auto")}i=i||e.style[t];l<=8&&(i=i===""?n:i);return i}e.style[t]=r},attr:function(e,t,r){var i=s(t);if(vn[i]){if(!H(r))return e[t]||(e.attributes.getNamedItem(t)||M).specified?i:n;if(!r){e[t]=!1;e.removeAttribute(i)}else{e[t]=!0;e.setAttribute(t,i)}}else if(H(r))e.setAttribute(t,r);else if(e.getAttribute){var o=e.getAttribute(t,2);return o===null?n:o}},prop:function(e,t,n){if(!H(n))return e[t];e[t]=n},text:function(){function t(t,n){var r=e[t.nodeType];if(P(n))return r?t[r]:"";t[r]=n}var e=[];if(l<9){e[1]="innerText";e[3]="nodeValue"}else e[1]=e[3]="textContent";t.$dv="";return t}(),val:function(e,t){if(P(t)){if(b(e)==="SELECT"&&e.multiple){var n=[];S(e.options,function(e){e.selected&&n.push(e.value||e.text)});return n.length===0?null:n}return e.value}e.value=t},html:function(e,t){if(P(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)tn(r[n]);e.innerHTML=t},empty:pn},function(e,t){Zt.prototype[t]=function(t,r){var i,s,o=this.length;if(e!==pn&&(e.length==2&&e!==un&&e!==cn?t:r)===n){if(B(t)){for(i=0;i<o;i++)if(e===on)e(this[i],t);else for(s in t)e(this[i],s,t[s]);return this}var u=e.$dv,a=u===n?Math.min(o,1):o;for(var f=0;f<a;f++){var l=e(this[f],t,r);u=u?u+l:l}return u}for(i=0;i<o;i++)e(this[i],t,r);return this}});S({removeData:rn,dealoc:tn,on:function Fs(e,n,r,i){if(H(i))throw Ut("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var s=sn(e,"events"),o=sn(e,"handle");s||sn(e,"events",s={});o||sn(e,"handle",o=yn(e,s));S(n.split(" "),function(n){var i=s[n];if(!i){if(n=="mouseenter"||n=="mouseleave"){var u=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1};s[n]=[];var a={mouseleave:"mouseout",mouseenter:"mouseover"};Fs(e,a[n],function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!u(t,r))&&o(e,n)})}else{Bt(e,n,o);s[n]=[]}i=s[n]}i.push(r)})},off:nn,one:function(e,t,n){e=c(e);e.on(t,function r(){e.off(t,n);e.off(t,r)});e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;tn(e);S(new Zt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e);n=t})},children:function(e){var t=[];S(e.childNodes,function(e){e.nodeType===1&&t.push(e)});return t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){S(new Zt(t),function(t){(e.nodeType===1||e.nodeType===11)&&e.appendChild(t)})},prepend:function(e,t){if(e.nodeType===1){var n=e.firstChild;S(new Zt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=c(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e);t.appendChild(e)},remove:function(e){tn(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;S(new Zt(t),function(e){r.insertBefore(e,n.nextSibling);n=e})},addClass:fn,removeClass:an,toggleClass:function(e,t,n){t&&S(t.split(" "),function(t){var r=n;P(r)&&(r=!un(e,t));(r?fn:an)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;var t=e.nextSibling;while(t!=null&&t.nodeType!==1)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:en,triggerHandler:function(e,t,n){var r,i,s,o=t.type||t,u=(sn(e,"events")||{})[o];if(u){r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:M,type:o,target:e};t.type&&(r=L(r,t));i=st(u);s=n?[r].concat(n):[r];S(i,function(t){t.apply(e,s)})}}},function(e,t){Zt.prototype[t]=function(t,n,r){var i;for(var s=0;s<this.length;s++)if(P(i)){i=e(this[s],t,n,r);H(i)&&(i=c(i))}else ln(i,e(this[s],t,n,r));return H(i)?i:this};Zt.prototype.bind=Zt.prototype.on;Zt.prototype.unbind=Zt.prototype.off});wn.prototype={put:function(e,t){this[bn(e,this.nextUid)]=t},get:function(e){return this[bn(e,this.nextUid)]},remove:function(e){var t=this[e=bn(e,this.nextUid)];delete this[e];return t}};var En=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Sn=/,/,xn=/^\s*(_?)(\S+?)\1\s*$/,Tn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Nn=r("$injector"),An=r("$animate"),On=["$provide",function(e){this.$$selectors={};this.register=function(t,n){var r=t+"-animation";if(t&&t.charAt(0)!=".")throw An("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r;e.factory(r,n)};this.classNameFilter=function(e){arguments.length===1&&(this.$$classNameFilter=e instanceof RegExp?e:null);return this.$$classNameFilter};this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,r,i){if(r)r.after(e);else{if(!t||!t[0])t=r.parent();t.append(e)}n(i)},leave:function(e,t){e.remove();n(t)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,t,r){t=j(t)?t:q(t)?t.join(" "):"";S(e,function(e){fn(e,t)});n(r)},removeClass:function(e,t,r){t=j(t)?t:q(t)?t.join(" "):"";S(e,function(e){an(e,t)});n(r)},setClass:function(e,t,r,i){S(e,function(e){fn(e,t);an(e,r)});n(i)},enabled:M}}]}],Bn=r("$compile");jn.$inject=["$provide","$$sanitizeUriProvider"];var Fn=/^(x[\:\-_]|data[\:\-_])/i,er=r("$interpolate"),ir=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,sr={http:80,https:443,ftp:21},or=r("$location");mr.prototype=vr.prototype=dr.prototype={$$html5:!1,$$replace:!1,absUrl:gr("$$absUrl"),url:function(e){if(P(e))return this.$$url;var t=ir.exec(e);t[1]&&this.path(decodeURIComponent(t[1]));(t[2]||t[1])&&this.search(t[3]||"");this.hash(t[5]||"");return this},protocol:gr("$$protocol"),host:gr("$$host"),port:gr("$$port"),path:yr("$$path",function(e){e=e!==null?e.toString():"";return e.charAt(0)=="/"?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(j(e)||F(e)){e=e.toString();this.$$search=gt(e)}else{if(!B(e))throw or("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");S(e,function(t,n){t==null&&delete e[n]});this.$$search=e}break;default:P(t)||t===null?delete this.$$search[e]:this.$$search[e]=t}this.$$compose();return this},hash:yr("$$hash",function(e){return e!==null?e.toString():""}),replace:function(){this.$$replace=!0;return this}};var Er=r("$parse"),Sr={},xr,Cr=Function.prototype.call,kr=Function.prototype.apply,Lr=Function.prototype.bind,Or={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},"undefined":M,"+":function(e,t,r,i){r=r(e,t);i=i(e,t);return H(r)?H(i)?r+i:r:H(i)?i:n},"-":function(e,t,n,r){n=n(e,t);r=r(e,t);return(H(n)?n:0)-(H(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":M,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},_r=function(e){this.options=e};_r.prototype={constructor:_r,lex:function(e){this.text=e;this.index=0;this.ch=n;this.lastCh=":";this.tokens=[];while(this.index<this.text.length){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?")){this.tokens.push({index:this.index,text:this.ch});this.index++}else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),r=t+this.peek(2),i=Or[this.ch],s=Or[t],o=Or[r];if(o){this.tokens.push({index:this.index,text:r,fn:o});this.index+=3}else if(s){this.tokens.push({index:this.index,text:t,fn:s});this.index+=2}else if(i){this.tokens.push({index:this.index,text:this.ch,fn:i});this.index+=1}else this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return e.indexOf(this.ch)!==-1},was:function(e){return e.indexOf(this.lastCh)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return"0"<=e&&e<="9"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e==="\n"||e===""||e===" "},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||e==="$"},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=H(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Er("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){var e="",t=this.index;while(this.index<this.text.length){var n=s(this.text.charAt(this.index));if(n=="."||this.isNumber(n))e+=n;else{var r=this.peek();if(n=="e"&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)=="e")e+=n;else{if(!this.isExpOperator(n)||!!r&&!!this.isNumber(r)||e.charAt(e.length-1)!="e")break;this.throwError("Invalid exponent")}}this.index++}e=1*e;this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){var e=this,t="",n=this.index,r,i,s,o;while(this.index<this.text.length){o=this.text.charAt(this.index);if(o!=="."&&!this.isIdent(o)&&!this.isNumber(o))break;o==="."&&(r=this.index);t+=o;this.index++}if(r){i=this.index;while(i<this.text.length){o=this.text.charAt(i);if(o==="("){s=t.substr(r-n+1);t=t.substr(0,r-n);this.index=i;break}if(!this.isWhitespace(o))break;i++}}var u={index:n,text:t};if(Or.hasOwnProperty(t)){u.fn=Or[t];u.literal=!0;u.constant=!0}else{var a=qr(t,this.options,this.text);u.fn=L(function(e,t){return a(e,t)},{assign:function(n,r){return Pr(n,t,r,e.text,e.options)}})}this.tokens.push(u);if(s){this.tokens.push({index:r,text:"."});this.tokens.push({index:r+1,text:s})}},readString:function(e){var t=this.index;this.index++;var n="",r=e,i=!1;while(this.index<this.text.length){var s=this.text.charAt(this.index);r+=s;if(i){if(s==="u"){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]");this.index+=4;n+=String.fromCharCode(parseInt(o,16))}else{var u=Mr[s];n+=u||s}i=!1}else if(s==="\\")i=!0;else{if(s===e){this.index++;this.tokens.push({index:t,text:r,string:n,literal:!0,constant:!0,fn:function(){return n}});return}n+=s}this.index++}this.throwError("Unterminated quote",t)}};var Dr=function(e,t,n){this.lexer=e;this.$filter=t;this.options=n};Dr.ZERO=L(function(){return 0},{constant:!0});Dr.prototype={constructor:Dr,parse:function(e){this.text=e;this.tokens=this.lexer.lex(e);var t=this.statements();this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]);t.literal=!!t.literal;t.constant=!!t.constant;return t},primary:function(){var e;if(this.expect("(")){e=this.filterChain();this.consume(")")}else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn;e||this.throwError("not a primary expression",t);e.literal=!!t.literal;e.constant=!!t.constant}var n,r;while(n=this.expect("(","[","."))if(n.text==="("){e=this.functionCall(e,r);r=null}else if(n.text==="["){r=e;e=this.objectIndex(e)}else if(n.text==="."){r=e;e=this.fieldAccess(e)}else this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Er("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(this.tokens.length===0)throw Er("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],s=i.text;if(s===e||s===t||s===n||s===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);if(i){this.tokens.shift();return i}return!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return L(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return L(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return L(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){var e=[];for(;;){this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain());if(!this.expect(";"))return e.length===1?e[0]:function(t,n){var r;for(var i=0;i<e.length;i++){var s=e[i];s&&(r=s(t,n))}return r}}},filterChain:function(){var e=this.expression(),t;for(;;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){var e=this.expect(),t=this.$filter(e.text),n=[];for(;;){if(!(e=this.expect(":"))){var r=function(e,r,i){var s=[i];for(var o=0;o<n.length;o++)s.push(n[o](e,r));return t.apply(e,s)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary(),t,n;if(n=this.expect("=")){e.assign||this.throwError("implies assignment but ["+this.text.substring(0,n.index)+"] can not be assigned to",n);t=this.ternary();return function(n,r){return e.assign(n,t(n,r),r)}}return e},ternary:function(){var e=this.logicalOR(),t,n;if(!(n=this.expect("?")))return e;t=this.assignment();if(n=this.expect(":"))return this.ternaryFn(e,t,this.assignment());this.throwError("expected :",n)},logicalOR:function(){var e=this.logicalAND(),t;for(;;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var e=this.equality(),t;if(t=this.expect("&&"))e=this.binaryFn(e,t.fn,this.logicalAND());return e},equality:function(){var e=this.relational(),t;if(t=this.expect("==","!=","===","!=="))e=this.binaryFn(e,t.fn,this.equality());return e},relational:function(){var e=this.additive(),t;if(t=this.expect("<",">","<=",">="))e=this.binaryFn(e,t.fn,this.relational());return e},additive:function(){var e=this.multiplicative(),t;while(t=this.expect("+","-"))e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){var e=this.unary(),t;while(t=this.expect("*","/","%"))e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(Dr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=qr(n,this.options,this.text);return L(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,s){var o=e(r,s);o||e.assign(r,o={});return Pr(o,n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();this.consume("]");return L(function(i,s){var o=e(i,s),u=r(i,s),a,f;Tr(u,t.text);if(!o)return n;a=Nr(o[u],t.text);if(a&&a.then&&t.options.unwrapPromises){f=a;if(!("$$v"in a)){f.$$v=n;f.then(function(e){f.$$v=e})}a=a.$$v}return a},{assign:function(n,i,s){var o=Tr(r(n,s),t.text),u=Nr(e(n,s),t.text);u||e.assign(n,u={});return u[o]=i}})},functionCall:function(e,t){var n=[];if(this.peekToken().text!==")")do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,s){var o=[],u=t?t(i,s):i;for(var a=0;a<n.length;a++)o.push(Nr(n[a](i,s),r.text));var f=e(i,s,u)||M;Nr(u,r.text);Ar(f,r.text);var l=f.apply?f.apply(u,o):f(o[0],o[1],o[2],o[3],o[4]);return Nr(l,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if(this.peekToken().text!=="]")do{if(this.peek("]"))break;var n=this.expression();e.push(n);n.constant||(t=!1)}while(this.expect(","));this.consume("]");return L(function(t,n){var r=[];for(var i=0;i<e.length;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;var n=this.expect(),r=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:r,value:i});i.constant||(t=!1)}while(this.expect(","));this.consume("}");return L(function(t,n){var r={};for(var i=0;i<e.length;i++){var s=e[i];r[s.key]=s.value(t,n)}return r},{literal:!0,constant:t})}};var Hr={},Br={},$r=r("$sce"),Jr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ni=t.createElement("a"),ri=ii(e.location.href,!0);ui.$inject=["$provide"];fi.$inject=["$locale"];li.$inject=["$locale"];var ci=".",yi={yyyy:di("FullYear",4),yy:di("FullYear",2,0,!0),y:di("FullYear",1),MMMM:vi("Month"),MMM:vi("Month",!0),MM:di("Month",2,1),M:di("Month",1,1),dd:di("Date",2),d:di("Date",1),HH:di("Hours",2),H:di("Hours",1),hh:di("Hours",2,-12),h:di("Hours",1,-12),mm:di("Minutes",2),m:di("Minutes",1),ss:di("Seconds",2),s:di("Seconds",1),sss:di("Milliseconds",3),EEEE:vi("Day"),EEE:vi("Day",!0),a:gi,Z:mi},bi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,wi=/^\-?\d+$/;Ei.$inject=["$locale"];var xi=D(s),Ti=D(u);Ci.$inject=["$parse"];var Li=D({restrict:"E",compile:function(e,n){if(l<=8){!n.href&&!n.name&&n.$set("href","");e.append(t.createComment("IE fix"))}if(!n.href&&!n.xlinkHref&&!n.name)return function(e,t){var n=v.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Ai={};S(vn,function(e,t){if(e=="multiple")return;var n=In("ng-"+t);Ai[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(n){i.$set(t,!!n)})}}}});S(["src","srcset","href"],function(e){var t=In("ng-"+e);Ai[t]=function(){return{priority:99,link:function(n,r,i){var s=e,o=e;if(e==="href"&&v.call(r.prop("href"))==="[object SVGAnimatedString]"){o="xlinkHref";i.$attr[o]="xlink:href";s=null}i.$observe(t,function(t){if(!t){e==="href"&&i.$set(o,null);return}i.$set(o,t);l&&s&&r.prop(s,i[o])})}}}});var Oi={$addControl:M,$removeControl:M,$setValidity:M,$setDirty:M,$setPristine:M};Mi.$inject=["$element","$attrs","$scope","$animate"];var _i=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:Mi,compile:function(){return{pre:function(e,r,i,s){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Bt(r[0],"submit",o);r.on("$destroy",function(){t(function(){jt(r[0],"submit",o)},0,!1)})}var u=r.parent().controller("form"),a=i.name||i.ngForm;a&&Pr(e,a,s,a);u&&r.on("$destroy",function(){u.$removeControl(s);a&&Pr(e,a,n,a);L(s,Oi)})}}}};return r}]},Di=_i(),Pi=_i(!0),Hi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Bi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ji=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Fi={text:Ui,number:Wi,url:Xi,email:Vi,radio:$i,checkbox:Ji,hidden:M,button:M,submit:M,reset:M,file:M},zi=["badInput"],Ki=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,o){o&&(Fi[s(i.type)]||Fi.text)(n,r,i,o,t,e)}}}],Qi="ng-valid",Gi="ng-invalid",Yi="ng-pristine",Zi="ng-dirty",es=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,s,o){function h(e,t){t=t?"-"+Tt(t,"-"):"";o.removeClass(i,(e?Gi:Qi)+t);o.addClass(i,(e?Qi:Gi)+t)}this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=n.name;var u=s(n.ngModel),a=u.assign;if(!a)throw r("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,vt(i));this.$render=M;this.$isEmpty=function(e){return P(e)||e===""||e===null||e!==e};var f=i.inheritedData("$formController")||Oi,l=0,c=this.$error={};i.addClass(Yi);h(!0);this.$setValidity=function(e,t){if(c[e]===!t)return;if(t){c[e]&&l--;if(!l){h(!0);this.$valid=!0;this.$invalid=!1}}else{h(!1);this.$invalid=!0;this.$valid=!1;l++}c[e]=!t;h(t,e);f.$setValidity(e,t,this)};this.$setPristine=function(){this.$dirty=!1;this.$pristine=!0;o.removeClass(i,Zi);o.addClass(i,Yi)};this.$setViewValue=function(n){this.$viewValue=n;if(this.$pristine){this.$dirty=!0;this.$pristine=!1;o.removeClass(i,Yi);o.addClass(i,Zi);f.$setDirty()}S(this.$parsers,function(e){n=e(n)});if(this.$modelValue!==n){this.$modelValue=n;a(e,n);S(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})}};var p=this;e.$watch(function(){var n=u(e);if(p.$modelValue!==n){var r=p.$formatters,i=r.length;p.$modelValue=n;while(i--)n=r[i](n);if(p.$viewValue!==n){p.$viewValue=n;p.$render()}}return n})}],ts=function(){return{require:["ngModel","^?form"],controller:es,link:function(e,t,n,r){var i=r[0],s=r[1]||Oi;s.$addControl(i);e.$on("$destroy",function(){s.$removeControl(i)})}}},ns=D({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),rs=function(){return{require:"?ngModel",link:function(e,t,n,r){if(!r)return;n.required=!0;var i=function(e){if(n.required&&r.$isEmpty(e)){r.$setValidity("required",!1);return}r.$setValidity("required",!0);return e};r.$formatters.push(i);r.$parsers.unshift(i);n.$observe("required",function(){i(r.$viewValue)})}}},is=function(){return{require:"ngModel",link:function(e,t,r,i){var s=/\/(.*)\//.exec(r.ngList),o=s&&new RegExp(s[1])||r.ngList||",",u=function(e){if(P(e))return;var t=[];e&&S(e.split(o),function(e){e&&t.push(K(e))});return t};i.$parsers.push(u);i.$formatters.push(function(e){return q(e)?e.join(", "):n});i.$isEmpty=function(e){return!e||!e.length}}}},ss=/^(true|false|\d+)$/,os=function(){return{priority:100,compile:function(e,t){return ss.test(t.ngValue)?function(t,n,r){r.$set("value",t.$eval(r.ngValue))}:function(t,n,r){t.$watch(r.ngValue,function(t){r.$set("value",t)})}}}},us=ki({compile:function(e){e.addClass("ng-binding");return function(e,t,r){t.data("$binding",r.ngBind);e.$watch(r.ngBind,function(r){t.text(r==n?"":r)})}}}),as=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i);r.$observe("ngBindTemplate",function(e){n.text(e)})}}],fs=["$sce","$parse",function(e,t){return{compile:function(n){n.addClass("ng-binding");return function(n,r,i){function o(){return(s(n)||"").toString()}r.data("$binding",i.ngBindHtml);var s=t(i.ngBindHtml);n.$watch(o,function(i){r.html(e.getTrustedHtml(s(n))||"")})}}}}],cs=ls("",!0),hs=ls("Odd",0),ps=ls("Even",1),ds=ki({compile:function(e,t){t.$set("ngCloak",n);e.removeClass("ng-cloak")}}),vs=[function(){return{scope:!0,controller:"@",priority:500}}],ms={},gs={blur:!0,focus:!0};S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=In("ng-"+e);ms[t]=["$parse","$rootScope",function(n,r){return{compile:function(i,s){var o=n(s[t],!0);return function(n,i){i.on(e,function(t){var i=function(){o(n,{$event:t})};gs[e]&&r.$$phase?n.$evalAsync(i):n.$apply(i)})}}}}]});var ys=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,s,o){var u,a,f;n.$watch(i.ngIf,function(l){if(dt(l)){if(!a){a=n.$new();o(a,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" ");u={clone:n};e.enter(n,r.parent(),r)})}}else{if(f){f.remove();f=null}if(a){a.$destroy();a=null}if(u){f=Ot(u.clone);e.leave(f,function(){f=null});u=null}}})}}}],bs=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:g.noop,compile:function(s,o){var u=o.ngInclude||o.src,a=o.onload||"",f=o.autoscroll;return function(s,o,l,c,h){var p=0,d,v,m,g=function(){if(v){v.remove();v=null}if(d){d.$destroy();d=null}if(m){r.leave(m,function(){v=null});v=m;m=null}};s.$watch(i.parseAsResourceUrl(u),function(u){var l=function(){H(f)&&(!f||s.$eval(f))&&n()},v=++p;if(u){e.get(u,{cache:t}).success(function(e){if(v!==p)return;var t=s.$new();c.template=e;var n=h(t,function(e){g();r.enter(e,null,o,l)});d=t;m=n;d.$emit("$includeContentLoaded");s.$eval(a)}).error(function(){v===p&&g()});s.$emit("$includeContentRequested")}else{g();c.template=null}})}}}}],ws=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template);e(n.contents())(t)}}}],Es=ki({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ss=ki({terminal:!0,priority:1e3}),xs=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var u=o.count,a=o.$attr.when&&i.attr(o.$attr.when),f=o.offset||0,l=r.$eval(a)||{},c={},h=t.startSymbol(),p=t.endSymbol(),d=/^when(Minus)?(.+)$/;S(o,function(e,t){d.test(t)&&(l[s(t.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[t]))});S(l,function(e,r){c[r]=t(e.replace(n,h+u+"-"+f+p))});r.$watch(function(){var n=parseFloat(r.$eval(u));if(!isNaN(n)){n in l||(n=e.pluralCat(n-f));return c[n](r,i,!0)}return""},function(t){i.text(t)})}}}],Ts=["$parse","$animate",function(e,n){function o(e){return e.clone[0]}function u(e){return e.clone[e.clone.length-1]}var i="$$NG_REMOVED",s=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,a,f,l,h){var p=f.ngRepeat,d=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),v,m,g,y,b,w,x,T,N,C={$id:bn};if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);w=d[1];x=d[2];v=d[3];if(v){m=e(v);g=function(e,t,n){N&&(C[N]=e);C[T]=t;C.$index=n;return m(r,C)}}else{y=function(e,t){return bn(t)};b=function(e){return e}}d=w.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",w);T=d[3]||d[1];N=d[2];var k={};r.$watchCollection(x,function(f){var l,d,v=a[0],m,w={},x,C,L,A,O,M,_,D,P=[],H;if(E(f)){_=f;M=g||y}else{M=g||b;_=[];for(L in f)f.hasOwnProperty(L)&&L.charAt(0)!="$"&&_.push(L);_.sort()}x=_.length;d=P.length=_.length;for(l=0;l<d;l++){L=f===_?l:_[l];A=f[L];O=M(L,A,l);Lt(O,"`track by` id");if(k.hasOwnProperty(O)){D=k[O];delete k[O];w[O]=D;P[l]=D}else{if(w.hasOwnProperty(O)){S(P,function(e){e&&e.scope&&(k[e.id]=e)});throw s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,O,ht(A))}P[l]={id:O};w[O]=!1}}for(L in k)if(k.hasOwnProperty(L)){D=k[L];H=Ot(D.clone);n.leave(H);S(H,function(e){e[i]=!0});D.scope.$destroy()}for(l=0,d=_.length;l<d;l++){L=f===_?l:_[l];A=f[L];D=P[l];P[l-1]&&(v=u(P[l-1]));if(D.scope){C=D.scope;m=v;do m=m.nextSibling;while(m&&m[i]);o(D)!=m&&n.move(Ot(D.clone),null,c(v));v=u(D)}else C=r.$new();C[T]=A;N&&(C[N]=L);C.$index=l;C.$first=l===0;C.$last=l===x-1;C.$middle=!C.$first&&!C.$last;C.$odd=!(C.$even=(l&1)===0);D.scope||h(C,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+p+" ");n.enter(e,null,c(v));v=e;D.scope=C;D.clone=e;w[D.id]=D})}k=w})}}}],Ns=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(r){e[dt(r)?"removeClass":"addClass"](n,"ng-hide")})}}],Cs=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(r){e[dt(r)?"addClass":"removeClass"](n,"ng-hide")})}}],ks=ki(function(e,t,n){e.$watch(n.ngStyle,function(n,r){r&&n!==r&&S(r,function(e,n){t.css(n,"")});n&&t.css(n)},!0)}),Ls=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var s=r.ngSwitch||r.on,o=[],u=[],a=[],f=[];t.$watch(s,function(s){var l,c;for(l=0,c=a.length;l<c;++l)a[l].remove();a.length=0;for(l=0,c=f.length;l<c;++l){var h=u[l];f[l].$destroy();a[l]=h;e.leave(h,function(){a.splice(l,1)})}u.length=0;f.length=0;if(o=i.cases["!"+s]||i.cases["?"]){t.$eval(r.change);S(o,function(n){var r=t.$new();f.push(r);n.transclude(r,function(t){var r=n.element;u.push(t);e.enter(t,r.parent(),r)})})}})}}}],As=ki({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[];r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Os=ki({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:i,element:t})}}),Ms=ki({link:function(e,t,n,i,s){if(!s)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",vt(t));s(function(e){t.empty();t.append(e)})}}),_s=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if(n.type=="text/ng-template"){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ds=r("ngOptions"),Ps=D({terminal:!0}),Hs=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:M};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r=this,i={},o=s,u,a;r.databound=n.ngModel;r.init=function(e,t,n){o=e;u=t;a=n};r.addOption=function(t){Lt(t,'"option value"');i[t]=!0;if(o.$viewValue==t){e.val(t);a.parent()&&a.remove()}};r.removeOption=function(e){if(this.hasOption(e)){delete i[e];o.$viewValue==e&&this.renderUnknownOption(e)}};r.renderUnknownOption=function(t){var n="? "+bn(t)+" ?";a.val(n);e.prepend(a);e.val(n);a.prop("selected",!0)};r.hasOption=function(e){return i.hasOwnProperty(e)};t.$on("$destroy",function(){r.renderUnknownOption=M})}],link:function(s,o,u,a){function N(e,t,n,r){n.$render=function(){var e=n.$viewValue;if(r.hasOption(e)){b.parent()&&b.remove();t.val(e);e===""&&m.prop("selected",!0)}else P(e)&&m?t.val(""):r.renderUnknownOption(e)};t.on("change",function(){e.$apply(function(){b.parent()&&b.remove();n.$setViewValue(t.val())})})}function C(e,t,n){var r;n.$render=function(){var e=new wn(n.$viewValue);S(t.find("option"),function(t){t.selected=H(e.get(t.value))})};e.$watch(function(){if(!ot(r,n.$viewValue)){r=st(n.$viewValue);n.$render()}});t.on("change",function(){e.$apply(function(){var e=[];S(t.find("option"),function(t){t.selected&&e.push(t.value)});n.$setViewValue(e)})})}function k(t,s,o){function N(){var e=!1;if(p){var n=o.$modelValue;if(S&&q(n)){e=new wn([]);var r={};for(var i=0;i<n.length;i++){r[c]=n[i];e.put(S(t,r),n[i])}}else e=new wn(n)}return e}function C(){var e={"":[]},n=[""],r,i,u,d,E,C,k=o.$modelValue,L=w(t)||[],A=h?x(L):L,O,M,_,D,P,B={},j,F=N(),I,q,R;for(P=0;_=A.length,P<_;P++){O=P;if(h){O=A[P];if(O.charAt(0)==="$")continue;B[h]=O}B[c]=L[O];r=m(t,B)||"";if(!(i=e[r])){i=e[r]=[];n.push(r)}if(p)j=H(F.remove(S?S(t,B):b(t,B)));else{if(S){var U={};U[c]=k;j=S(t,U)===S(t,B)}else j=k===b(t,B);F=F||j}R=a(t,B);R=H(R)?R:"";i.push({id:S?S(t,B):h?A[P]:P,label:R,selected:j})}p||(v||k===null?e[""].unshift({id:"",label:"",selected:!F}):F||e[""].unshift({id:"?",label:"",selected:!0}));for(D=0,M=n.length;D<M;D++){r=n[D];i=e[r];if(T.length<=D){d={element:y.clone().attr("label",r),label:i.label};E=[d];T.push(E);s.append(d.element)}else{E=T[D];d=E[0];d.label!=r&&d.element.attr("label",d.label=r)}I=null;for(P=0,_=i.length;P<_;P++){u=i[P];if(C=E[P+1]){I=C.element;if(C.label!==u.label){I.text(C.label=u.label);I.prop("label",C.label)}C.id!==u.id&&I.val(C.id=u.id);if(I[0].selected!==u.selected){I.prop("selected",C.selected=u.selected);l&&I.prop("selected",C.selected)}}else{u.id===""&&v?q=v:(q=g.clone()).val(u.id).prop("selected",u.selected).attr("selected",u.selected).prop("label",u.label).text(u.label);E.push(C={element:q,label:u.label,id:u.id,selected:u.selected});f.addOption(u.label,q);I?I.after(q):d.element.append(q);I=q}}P++;while(E.length>P){u=E.pop();f.removeOption(u.label);u.element.remove(
)}}while(T.length>D)T.pop()[0].element.remove()}var u;if(!(u=d.match(i)))throw Ds("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",d,vt(s));var a=r(u[2]||u[1]),c=u[4]||u[6],h=u[5],m=r(u[3]||""),b=r(u[2]?u[1]:c),w=r(u[7]),E=u[8],S=E?r(u[8]):null,T=[[{element:s,label:""}]];if(v){e(v)(t);v.removeClass("ng-scope");v.remove()}s.empty();s.on("change",function(){t.$apply(function(){var e,r=w(t)||[],i={},u,a,f,l,d,v,m,g;if(p){a=[];for(d=0,m=T.length;d<m;d++){e=T[d];for(l=1,v=e.length;l<v;l++)if((f=e[l].element)[0].selected){u=f.val();h&&(i[h]=u);if(S)for(g=0;g<r.length;g++){i[c]=r[g];if(S(t,i)==u)break}else i[c]=r[u];a.push(b(t,i))}}}else{u=s.val();if(u=="?")a=n;else if(u==="")a=null;else if(S)for(g=0;g<r.length;g++){i[c]=r[g];if(S(t,i)==u){a=b(t,i);break}}else{i[c]=r[u];h&&(i[h]=u);a=b(t,i)}}o.$setViewValue(a);C()})});o.$render=C;t.$watchCollection(w,C);t.$watchCollection(function(){var e={},n=w(t);if(n){var r=new Array(n.length);for(var i=0,s=n.length;i<s;i++){e[c]=n[i];r[i]=a(t,e)}return r}},C);p&&t.$watchCollection(function(){return o.$modelValue},C)}if(!a[1])return;var f=a[0],h=a[1],p=u.multiple,d=u.ngOptions,v=!1,m,g=c(t.createElement("option")),y=c(t.createElement("optgroup")),b=g.clone();for(var w=0,E=o.children(),T=E.length;w<T;w++)if(E[w].value===""){m=v=E.eq(w);break}f.init(h,v,b);p&&(h.$isEmpty=function(e){return!e||e.length===0});d?k(s,o,h):p?C(s,o,h):N(s,o,h,f)}}}],Bs=["$interpolate",function(e){var t={addOption:M,removeOption:M};return{restrict:"E",priority:100,compile:function(n,r){if(P(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var s="$selectController",o=n.parent(),u=o.data(s)||o.parent().data(s);u&&u.databound?n.prop("selected",!1):u=t;i?e.$watch(i,function(t,n){r.$set("value",t);t!==n&&u.removeOption(n);u.addOption(t)}):u.addOption(r.value);n.on("$destroy",function(){u.removeOption(r.value)})}}}}],js=D({restrict:"E",terminal:!0});if(e.angular.bootstrap){console.log("WARNING: Tried to load angular more than once.");return}Nt();Dt(g);c(t).ready(function(){Et(t,St)})})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>');angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],MONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],SHORTDAY:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],SHORTMONTH:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],fullDate:"EEEE, d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss","short":"dd.MM.yy HH:mm",shortDate:"dd.MM.yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"(",negSuf:" ¤)",posPre:"",posSuf:" ¤"}]},id:"fr-ch",pluralCat:function(e){return e>=0&&e<=2&&e!=2?t.ONE:t.OTHER}})}]);(function(e,t,n){"use strict";function i(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var s=r==="?"?r:null,o=r==="*"?r:null;i.push({name:n,optional:!!s});t=t||"";return""+(s?"":t)+"(?:"+(s?t:"")+(o&&"(.+?)"||"([^/]+)")+(s||"")+")"+(s||"")}).replace(/([\/$\*])/g,"\\$1");r.regexp=new RegExp("^"+e+"$",n?"i":"");return r}var n={};this.when=function(e,i){n[e]=t.extend({reloadOnSearch:!0},i,e&&r(e,i));if(e){var s=e[e.length-1]=="/"?e.substr(0,e.length-1):e+"/";n[s]=t.extend({redirectTo:e},r(s,i))}return this};this.otherwise=function(e){this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(r,i,s,o,u,a,f,l){function p(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var s=1,o=i.length;s<o;++s){var u=n[s-1],a=i[s];u&&a&&(r[u.name]=a)}return r}function d(){var e=v(),n=h.current;if(e&&n&&e.$$route===n.$$route&&t.equals(e.pathParams,n.pathParams)&&!e.reloadOnSearch&&!c){n.params=e.params;t.copy(n.params,s);r.$broadcast("$routeUpdate",n)}else if(e||n){c=!1;r.$broadcast("$routeChangeStart",e,n);h.current=e;e&&e.redirectTo&&(t.isString(e.redirectTo)?i.path(m(e.redirectTo,e.params)).search(e.params).replace():i.url(e.redirectTo(e.pathParams,i.path(),i.search())).replace());o.when(e).then(function(){if(e){var n=t.extend({},e.resolve),r,i;t.forEach(n,function(e,r){n[r]=t.isString(e)?u.get(e):u.invoke(e)});if(t.isDefined(r=e.template))t.isFunction(r)&&(r=r(e.params));else if(t.isDefined(i=e.templateUrl)){t.isFunction(i)&&(i=i(e.params));i=l.getTrustedResourceUrl(i);if(t.isDefined(i)){e.loadedTemplateUrl=i;r=a.get(i,{cache:f}).then(function(e){return e.data})}}t.isDefined(r)&&(n.$template=r);return o.all(n)}}).then(function(i){if(e==h.current){if(e){e.locals=i;t.copy(e.params,s)}r.$broadcast("$routeChangeSuccess",e,n)}},function(t){e==h.current&&r.$broadcast("$routeChangeError",e,n,t)})}}function v(){var r,s;t.forEach(n,function(n,o){if(!s&&(r=p(i.path(),n))){s=e(n,{params:t.extend({},i.search(),r),pathParams:r});s.$$route=n}});return s||n[null]&&e(n[null],{params:{},pathParams:{}})}function m(e,n){var r=[];t.forEach((e||"").split(":"),function(e,t){if(t===0)r.push(e);else{var i=e.match(/(\w+)(.*)/),s=i[1];r.push(n[s]);r.push(i[2]||"");delete n[s]}});return r.join("")}var c=!1,h={routes:n,reload:function(){c=!0;r.$evalAsync(d)}};r.$on("$locationChangeSuccess",d);return h}]}function s(){this.$get=function(){return{}}}function o(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,s,o,u,a){function d(){if(c){c.remove();c=null}if(f){f.$destroy();f=null}if(l){r.leave(l,function(){c=null});c=l;l=null}}function v(){var o=e.current&&e.current.locals,u=o&&o.$template;if(t.isDefined(u)){var c=i.$new(),v=e.current,m=a(c,function(e){r.enter(e,null,l||s,function(){t.isDefined(h)&&(!h||i.$eval(h))&&n()});d()});l=m;f=v.scope=c;f.$emit("$viewContentLoaded");f.$eval(p)}else d()}var f,l,c,h=o.autoscroll,p=o.onload||"";i.$on("$routeChangeSuccess",v);v()}}}function u(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var s=n.current,o=s.locals;i.html(o.$template);var u=e(i.contents());if(s.controller){o.$scope=r;var a=t(s.controller,o);s.controllerAs&&(r[s.controllerAs]=a);i.data("$ngControllerController",a);i.children().data("$ngControllerController",a)}u(r)}}}var r=t.module("ngRoute",["ng"]).provider("$route",i);r.provider("$routeParams",s);r.directive("ngView",o);r.directive("ngView",u);o.$inject=["$route","$anchorScroll","$animate"];u.$inject=["$compile","$controller","$route"]})(window,window.angular);(function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function l(){var e,o,u,a;for(e in s)f(i[e])&&r.cookies(e,n);for(e in i){o=i[e];if(!t.isString(o)){o=""+o;i[e]=o}if(o!==s[e]){r.cookies(e,o);a=!0}}if(a){a=!1;u=r.cookies();for(e in i)if(i[e]!==u[e]){f(u[e])?delete i[e]:i[e]=u[e];a=!0}}}var i={},s={},o,u=!1,a=t.copy,f=t.isUndefined;r.addPollFn(function(){var t=r.cookies();if(o!=t){o=t;a(t,s);a(t,i);u&&e.$apply()}})();u=!0;e.$watch(l);return i}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r?t.fromJson(r):r},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])})(window,window.angular);angular.module("ui.calendar",[]).constant("uiCalendarConfig",{}).directive("uiCalendar",["uiCalendarConfig","$parse",function(e){e=e||{};var t=1,n=1;return{require:"ngModel",scope:{ngModel:"=",config:"="},restrict:"A",link:function(r,i,s){var o=r.ngModel;r.destroy=function(){s.calendar?r.calendar=r.$parent[s.calendar]=i.html(""):r.calendar=i.html("")};r.destroy();r.init=function(){var t={eventSources:o};angular.extend(t,e,s.uiCalendar?r.$parent.$eval(s.uiCalendar):{});r.calendar.fullCalendar(t)};r.init();var u=function(e,t){var n,r=function(){var n=angular.isFunction(e)?e():e;return n.map(function(e){var n=t(e);s[n]=e;return n})},i=function(e,t){var n=[],r={},i,s;for(i=0,s=t.length;i<s;i++)r[t[i]]=!0;for(i=0,s=e.length;i<s;i++)r[e[i]]||n.push(e[i]);return n},s={},o=function(e,r){var o,u,a,f,l={},c=i(r,e);for(o=0,u=c.length;o<u;o++){var h=c[o];a=s[h];delete s[h];var p=t(a);if(p===h)n.onRemoved(a);else{l[p]=h;n.onChanged(a)}}var d=i(e,r);for(o=0,u=d.length;o<u;o++){f=d[o];a=s[f];l[f]||n.onAdded(a)}};return n={subscribe:function(e,t){e.$watch(r,function(e,n){(!t||t(e,n)!==!1)&&o(e,n)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},a=!1,f=u(o,function(e){return e.__id||(e.__id=t++)});f.subscribe(r);f.onAdded=function(e){r.calendar.fullCalendar("addEventSource",e);a=!0};f.onRemoved=function(e){r.calendar.fullCalendar("removeEventSource",e);a=!0};var l=function(){var e=[];for(var t=0,n=o.length;t<n;t++){var r=o[t];angular.isArray(r)&&e.push(r)}return Array.prototype.concat.apply([],e)},c=u(l,function(e){e.__uiCalId||(e.__uiCalId=n++);return""+e.__uiCalId+(e.id||"")+(e.title||"")+(e.url||"")+(+e.start||"")+(+e.end||"")+(e.allDay||!1)+(e.className||"")});c.subscribe(r,function(e,t){if(a){r.calendar.fullCalendar("rerenderEvents");a=!1;return!1}});c.onAdded=function(e){r.calendar.fullCalendar("renderEvent",e)};c.onRemoved=function(e){r.calendar.fullCalendar("removeEvents",function(t){return t===e})};c.onChanged=function(e){r.calendar.fullCalendar("updateEvent",e)}}}}]);(function(e,t,n){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]);angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(t,n,r){function o(o,u){function E(e,t,n){var r=S(),i=x();return r<=v?"top":e!==null&&r+e<=t.top?"middle":m!==null&&t.top+n+p>=i-m?"bottom":"middle"}function S(){return l[0]===t?t.pageYOffset:l[0].scrollTop}function x(){return l[0]===t?t.document.body.scrollHeight:l[0].scrollHeight}var a={},f=angular.extend({},e,u),l=f.target,c="affix affix-top affix-bottom",h=!1,p=0,d=0,v=0,m=0,g=null,y=null,b=o.parent();if(f.offsetParent)if(f.offsetParent.match(/^\d+$/))for(var w=0;w<f.offsetParent*1-1;w++)b=b.parent();else b=angular.element(f.offsetParent);a.init=function(){this.$parseOffsets();d=r.offset(o[0]).top+p;h=!o[0].style.width;l.on("scroll",this.checkPosition);l.on("click",this.checkPositionWithEventLoop);s.on("resize",this.$debouncedOnResize);this.checkPosition();this.checkPositionWithEventLoop()};a.destroy=function(){l.off("scroll",this.checkPosition);l.off("click",this.checkPositionWithEventLoop);s.off("resize",this.$debouncedOnResize)};a.checkPositionWithEventLoop=function(){setTimeout(a.checkPosition,1)};a.checkPosition=function(){var e=S(),t=r.offset(o[0]),n=r.height(o[0]),s=E(y,t,n);if(g===s)return;g=s;o.removeClass(c).addClass("affix"+(s!=="middle"?"-"+s:""));if(s==="top"){y=null;o.css("position",f.offsetParent?"":"relative");h&&o.css("width","");o.css("top","")}else if(s==="bottom"){f.offsetUnpin?y=-(f.offsetUnpin*1):y=t.top-e;h&&o.css("width","");o.css("position",f.offsetParent?"":"relative");o.css("top",f.offsetParent?"":i[0].offsetHeight-m-n-d+"px")}else{y=null;h&&o.css("width",o[0].offsetWidth+"px");o.css("position","fixed");o.css("top",p+"px")}};a.$onResize=function(){a.$parseOffsets();a.checkPosition()};a.$debouncedOnResize=n(a.$onResize,50);a.$parseOffsets=function(){var e=o.css("position");o.css("position",f.offsetParent?"":"relative");if(f.offsetTop){f.offsetTop==="auto"&&(f.offsetTop="+0");if(f.offsetTop.match(/^[-+]\d+$/)){p=-f.offsetTop*1;f.offsetParent?v=r.offset(b[0]).top+f.offsetTop*1:v=r.offset(o[0]).top-r.css(o[0],"marginTop",!0)+f.offsetTop*1}else v=f.offsetTop*1}f.offsetBottom&&(f.offsetParent&&f.offsetBottom.match(/^[-+]\d+$/)?m=x()-(r.offset(b[0]).top+r.height(b[0]))+f.offsetBottom*1+1:m=f.offsetBottom*1);o.css("position",e)};a.init();return a}var i=angular.element(t.document.body),s=angular.element(t);return o}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(r,i,s,o){var u={scope:r,offsetTop:"auto",target:o?o.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(e){angular.isDefined(s[e])&&(u[e]=s[e])});var a=e(i,u);r.$on("$destroy",function(){a&&a.destroy();u=null;a=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}});angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){function r(r){var i={},s=angular.extend({},e,r);i=t(s);i.$scope.dismissable=!!s.dismissable;s.type&&(i.$scope.type=s.type);var o=i.show;s.duration&&(i.show=function(){o();n(function(){i.hide()},s.duration*1e3)});return i}return r}]}).directive("bsAlert",["$window","$sce","$alert",function(e,t,n){var r=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(r,i,s,o){var u={scope:r,element:i,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(s[e])&&(u[e]=s[e])});angular.forEach(["title","content","type"],function(e){s[e]&&s.$observe(e,function(n,i){r[e]=t.trustAsHtml(n)})});s.bsAlert&&r.$watch(s.bsAlert,function(e,t){angular.isObject(e)?angular.extend(r,e):r.content=e},!0);var a=n(u);i.on(s.trigger||"click",a.toggle);r.$on("$destroy",function(){a&&a.destroy();u=null;a=null})}}}]);angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function n(n){var r={},i=angular.extend({},e,n);r=t(i);return r}return n}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){var r=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(r,i,s,o){var u={scope:r,element:i,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(s[e])&&(u[e]=s[e])});angular.forEach(["title","content"],function(e){s[e]&&s.$observe(e,function(n,i){r[e]=t.trustAsHtml(n)})});s.bsAside&&r.$watch(s.bsAside,function(e,t){angular.isObject(e)?angular.extend(r,e):r.content=e},!0);var a=n(u);i.on(s.trigger||"click",a.toggle);r.$on("$destroy",function(){a&&a.destroy();u=null;a=null})}}}]);angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,n){t.attr("data-toggle","buttons");t.removeAttr("ng-model");var r=t[0].querySelectorAll('input[type="checkbox"]');angular.forEach(r,function(e){var t=angular.element(e);t.attr("bs-checkbox","");t.attr("ng-model",n.ngModel+"."+t.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(i,s,o,u){var a=n,f=s[0].nodeName==="INPUT",l=f?s.parent():s,c=angular.isDefined(o.trueValue)?o.trueValue:!0;r.test(o.trueValue)&&(c=i.$eval(o.trueValue));var h=angular.isDefined(o.falseValue)?o.falseValue:!1;r.test(o.falseValue)&&(h=i.$eval(o.falseValue));var p=typeof c!="boolean"||typeof h!="boolean";if(p){u.$parsers.push(function(e){return e?c:h});u.$formatters.push(function(e){return angular.equals(e,c)});i.$watch(o.ngModel,function(e,t){u.$render()})}u.$render=function(){var e=angular.equals(u.$modelValue,c);t(function(){f&&(s[0].checked=e);l.toggleClass(a.activeClass,e)})};s.bind(a.toggleEvent,function(){i.$apply(function(){f||u.$setViewValue(!l.hasClass("active"));p||u.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,n){t.attr("data-toggle","buttons");t.removeAttr("ng-model");var r=t[0].querySelectorAll('input[type="radio"]');angular.forEach(r,function(e){angular.element(e).attr("bs-radio","");angular.element(e).attr("ng-model",n.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,r=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(i,s,o,u){var a=n,f=s[0].nodeName==="INPUT",l=f?s.parent():s,c=r.test(o.value)?i.$eval(o.value):o.value;u.$render=function(){var e=angular.equals(u.$modelValue,c);t(function(){f&&(s[0].checked=e);l.toggleClass(a.activeClass,e)})};s.bind(a.toggleEvent,function(){i.$apply(function(){u.$setViewValue(c);u.$render()})})}}}]);angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},t=this.controller=function(t,n,r){function s(e){var t=i.$targets.$active;for(var n=0;n<t.length;n++){e<t[n]&&(t[n]=t[n]-1);t[n]===i.$targets.length&&(t[n]=i.$targets.length-1)}}function o(e){var t=i.$targets.$active;return t.indexOf(e)===-1?!1:!0}function u(e){var t=i.$targets.$active.indexOf(e);t!==-1&&i.$targets.$active.splice(t,1)}function a(e){i.$options.allowMultiple||i.$targets.$active.splice(0,1);i.$targets.$active.indexOf(e)===-1&&i.$targets.$active.push(e)}var i=this;i.$options=angular.copy(e);angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(e){angular.isDefined(r[e])&&(i.$options[e]=r[e])});i.$toggles=[];i.$targets=[];i.$viewChangeListeners=[];i.$registerToggle=function(e){i.$toggles.push(e)};i.$registerTarget=function(e){i.$targets.push(e)};i.$unregisterToggle=function(e){var t=i.$toggles.indexOf(e);i.$toggles.splice(t,1)};i.$unregisterTarget=function(e){var t=i.$targets.indexOf(e);i.$targets.splice(t,1);i.$options.allowMultiple&&u(e);s(t);i.$viewChangeListeners.forEach(function(e){e()})};i.$targets.$active=i.$options.startCollapsed?[]:[0];i.$setActive=t.$setActive=function(e){angular.isArray(e)?i.$targets.$active=angular.copy(e):i.$options.disallowToggle?a(e):o(e)?u(e):a(e);i.$viewChangeListeners.forEach(function(e){e()})};i.$activeIndexes=function(){return i.$options.allowMultiple?i.$targets.$active:i.$targets.$active.length===1?i.$targets.$active[0]:-1}};this.$get=function(){var n={};n.defaults=e;n.controller=t;return n}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,n){var r=n.defaults;return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(t,n,r,i){var s=i[0],o=i[1];if(s){o.$viewChangeListeners.push(function(){s.$setViewValue(o.$activeIndexes())});s.$formatters.push(function(e){if(angular.isArray(e))o.$setActive(e);else{var t=o.$activeIndexes();angular.isArray(t)?t.indexOf(e*1)===-1&&o.$setActive(e*1):t!==e*1&&o.$setActive(e*1)}return e})}}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(t,n,r,i){var s=i[0],o=i[1];n.attr("data-toggle","collapse");o.$registerToggle(n);t.$on("$destroy",function(){o.$unregisterToggle(n)});n.on("click",function(){var e=r.bsCollapseToggle||o.$toggles.indexOf(n);o.$setActive(e*1);t.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(n,r,i,s){function a(){var t=u.$targets.indexOf(r),n=u.$activeIndexes(),i="removeClass";angular.isArray(n)?n.indexOf(t)!==-1&&(i="addClass"):t===n&&(i="addClass");e[i](r,u.$options.activeClass)}var o=s[0],u=s[1];r.addClass("collapse");u.$options.animation&&r.addClass(u.$options.animation);u.$registerTarget(r);n.$on("$destroy",function(){u.$unregisterTarget(r)});u.$viewChangeListeners.push(function(){a()});a()}}}]);angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-Infinity,maxDate:+Infinity,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,n,r,i,s,o,u,a){function h(t,n,r){function m(e){e.selected=i.$isSelected(e.date)}function g(){t[0].focus()}var i=u(t,angular.extend({},e,r)),s=r.scope,f=i.$options,h=i.$scope;f.startView&&(f.startView-=f.minView);var p=o(i);i.$views=p.views;var d=p.viewDate;h.$mode=f.startView;h.$iconLeft=f.iconLeft;h.$iconRight=f.iconRight;var v=i.$views[h.$mode];h.$select=function(e){i.select(e)};h.$selectPane=function(e){i.$selectPane(e)};h.$toggleMode=function(){i.setMode((h.$mode+1)%i.$views.length)};i.update=function(e){if(angular.isDate(e)&&!isNaN(e.getTime())){i.$date=e;v.update.call(v,e)}i.$build(!0)};i.updateDisabledDates=function(e){f.disabledDateRanges=e;for(var t=0,n=h.rows.length;t<n;t++)angular.forEach(h.rows[t],i.$setDisabledEl)};i.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e));if(!h.$mode||t){n.$setViewValue(angular.copy(e));n.$render();f.autoclose&&!t&&a(function(){i.hide(!0)})}else{angular.extend(d,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()});i.setMode(h.$mode-1);i.$build()}};i.setMode=function(e){h.$mode=e;v=i.$views[h.$mode];i.$build()};i.$build=function(e){if(e===!0&&v.built)return;if(e===!1&&!v.built)return;v.build.call(v)};i.$updateSelected=function(){for(var e=0,t=h.rows.length;e<t;e++)angular.forEach(h.rows[e],m)};i.$isSelected=function(e){return v.isSelected(e)};i.$setDisabledEl=function(e){e.disabled=v.isDisabled(e.date)};i.$selectPane=function(e){var t=v.steps,n=new Date(Date.UTC(d.year+(t.year||0)*e,d.month+(t.month||0)*e,1));angular.extend(d,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()});i.$build()};i.$onMouseDown=function(e){e.preventDefault();e.stopPropagation();if(c){var t=angular.element(e.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}};i.$onKeyDown=function(e){if(!/(38|37|39|40|13)/.test(e.keyCode)||e.shiftKey||e.altKey)return;e.preventDefault();e.stopPropagation();if(e.keyCode===13)return h.$mode?h.$apply(function(){i.setMode(h.$mode-1)}):i.hide(!0);v.onKeyDown(e);s.$digest()};var y=i.init;i.init=function(){if(l&&f.useNative){t.prop("type","date");t.css("-webkit-appearance","textfield");return}if(c){t.prop("type","text");t.attr("readonly","true");t.on("click",g)}y()};var b=i.destroy;i.destroy=function(){l&&f.useNative&&t.off("click",g);b()};var w=i.show;i.show=function(){w();a(function(){if(!i.$isShown)return;i.$element.on(c?"touchstart":"mousedown",i.$onMouseDown);f.keyboard&&t.on("keydown",i.$onKeyDown)},0,!1)};var E=i.hide;i.hide=function(e){if(!i.$isShown)return;i.$element.off(c?"touchstart":"mousedown",i.$onMouseDown);f.keyboard&&t.off("keydown",i.$onKeyDown);E(e)};return i}var f=angular.element(t.document.body),l=/(ip(a|o)d|iphone|android)/ig.test(t.navigator.userAgent),c="createTouch"in t.document&&l;e.lang||(e.lang=s.getDefaultLocale());h.defaults=e;return h}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(e,t,n,r,i,s){var o=s.defaults,u=/(ip(a|o)d|iphone|android)/ig.test(e.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(t,n,o,a){function d(e){return!e||!e.length?null:e}function v(e){if(!angular.isDate(e))return;var t=isNaN(l.$options.minDate)||e.getTime()>=l.$options.minDate,n=isNaN(l.$options.maxDate)||e.getTime()<=l.$options.maxDate,r=t&&n;a.$setValidity("date",r);a.$setValidity("min",t);a.$setValidity("max",n);r&&(a.$dateValue=e)}function m(){return!a.$dateValue||isNaN(a.$dateValue.getTime())?"":h(a.$dateValue,f.dateFormat)}var f={scope:t,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id"],function(e){angular.isDefined(o[e])&&(f[e]=o[e])});o.bsShow&&t.$watch(o.bsShow,function(e,t){if(!l||!angular.isDefined(e))return;angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i));e===!0?l.show():l.hide()});var l=s(n,a,f);f=l.$options;u&&f.useNative&&(f.dateFormat="yyyy-MM-dd");var c=f.lang,h=function(e,t){return r.formatDate(e,t,c)},p=i({format:f.dateFormat,lang:c,strict:f.strictFormat});angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(o[e])&&o.$observe(e,function(t){l.$options[e]=p.getDateForAttribute(e,t);!isNaN(l.$options[e])&&l.$build(!1);v(a.$dateValue)})});t.$watch(o.ngModel,function(e,t){l.update(a.$dateValue)},!0);angular.isDefined(o.disabledDates)&&t.$watch(o.disabledDates,function(e,t){e=d(e);t=d(t);e&&l.updateDisabledDates(e)});a.$parsers.unshift(function(e){if(!e){a.$setValidity("date",!0);return null}var t=p.parse(e,a.$dateValue);if(!t||isNaN(t.getTime())){a.$setValidity("date",!1);return}v(t);return f.dateType==="string"?h(t,f.modelDateFormat||f.dateFormat):f.dateType==="number"?a.$dateValue.getTime():f.dateType==="unix"?a.$dateValue.getTime()/1e3:f.dateType==="iso"?a.$dateValue.toISOString():new Date(a.$dateValue)});a.$formatters.push(function(e){var t;angular.isUndefined(e)||e===null?t=NaN:angular.isDate(e)?t=e:f.dateType==="string"?t=p.parse(e,null,f.modelDateFormat):f.dateType==="unix"?t=new Date(e*1e3):t=new Date(e);a.$dateValue=t;return m()});a.$render=function(){n.val(m())};t.$on("$destroy",function(){l&&l.destroy();f=null;l=null})}}}]).provider("datepickerViews",function(){function t(e,t){var n=[];while(e.length>0)n.push(e.splice(0,t));return n}function n(e,t){return(e%t+t)%t}var e=this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$dateFormatter","$dateParser","$sce",function(e,r,i){return function(s){var o=s.$scope,u=s.$options,a=u.lang,f=function(t,n){return e.formatDate(t,n,a)},l=r({format:u.dateFormat,lang:a,strict:u.strictFormat}),c=e.weekdaysShort(a),h=c.slice(u.startWeek).concat(c.slice(0,u.startWeek)),p=i.trustAsHtml('<th class="dow text-center">'+h.join('</th><th class="dow text-center">')+"</th>"),d=s.$date||(u.startDate?l.getDateForAttribute("startDate",u.startDate):new Date),v={year:d.getFullYear(),month:d.getMonth(),date:d.getDate()},m=d.getTimezoneOffset()*6e4,g=[{format:u.dayFormat,split:7,steps:{month:1},update:function(e,t){if(!this.built||t||e.getFullYear()!==v.year||e.getMonth()!==v.month){angular.extend(v,{year:s.$date.getFullYear(),month:s.$date.getMonth(),date:s.$date.getDate()});s.$build()}else if(e.getDate()!==v.date){v.date=s.$date.getDate();s.$updateSelected()}},build:function(){var e=new Date(v.year,v.month,1),r=e.getTimezoneOffset(),i=new Date(+e-n(e.getDay()-u.startWeek,7)*864e5),a=i.getTimezoneOffset(),c=(new Date).toDateString();a!==r&&(i=new Date(+i+(a-r)*6e4));var h=[],d;for(var m=0;m<42;m++){d=l.daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate()+m));h.push({date:d,isToday:d.toDateString()===c,label:f(d,this.format),selected:s.$date&&this.isSelected(d),muted:d.getMonth()!==v.month,disabled:this.isDisabled(d)})}o.title=f(e,u.monthTitleFormat);o.showLabels=!0;o.labels=p;o.rows=t(h,this.split);this.built=!0},isSelected:function(e){return s.$date&&e.getFullYear()===s.$date.getFullYear()&&e.getMonth()===s.$date.getMonth()&&e.getDate()===s.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<u.minDate||t>u.maxDate)return!0;if(u.daysOfWeekDisabled.indexOf(e.getDay())!==-1)return!0;if(u.disabledDateRanges)for(var n=0;n<u.disabledDateRanges.length;n++)if(t>=u.disabledDateRanges[n].start&&t<=u.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(!s.$date)return;var t=s.$date.getTime(),n;e.keyCode===37?n=new Date(t-864e5):e.keyCode===38?n=new Date(t-6048e5):e.keyCode===39?n=new Date(t+864e5):e.keyCode===40&&(n=new Date(t+6048e5));this.isDisabled(n)||s.select(n,!0)}},{name:"month",format:u.monthFormat,split:4,steps:{year:1},update:function(e,t){if(!this.built||e.getFullYear()!==v.year){angular.extend(v,{year:s.$date.getFullYear(),month:s.$date.getMonth(),date:s.$date.getDate()});s.$build()}else if(e.getMonth()!==v.month){angular.extend(v,{month:s.$date.getMonth(),date:s.$date.getDate()});s.$updateSelected()}},build:function(){var e=new Date(v.year,0,1),n=[],r;for(var i=0;i<12;i++){r=new Date(v.year,i,1);n.push({date:r,label:f(r,this.format),selected:s.$isSelected(r),disabled:this.isDisabled(r)})}o.title=f(r,u.yearTitleFormat);o.showLabels=!1;o.rows=t(n,this.split);this.built=!0},isSelected:function(e){return s.$date&&e.getFullYear()===s.$date.getFullYear()&&e.getMonth()===s.$date.getMonth()},isDisabled:function(e){var t=+(new Date(e.getFullYear(),e.getMonth()+1,0));return t<u.minDate||e.getTime()>u.maxDate},onKeyDown:function(e){if(!s.$date)return;var t=s.$date.getMonth(),n=new Date(s.$date);e.keyCode===37?n.setMonth(t-1):e.keyCode===38?n.setMonth(t-4):e.keyCode===39?n.setMonth(t+1):e.keyCode===40&&n.setMonth(t+4);this.isDisabled(n)||s.select(n,!0)}},{name:"year",format:u.yearFormat,split:4,steps:{year:12},update:function(e,t){if(!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(v.year/20,10)){angular.extend(v,{year:s.$date.getFullYear(),month:s.$date.getMonth(),date:s.$date.getDate()});s.$build()}else if(e.getFullYear()!==v.year){angular.extend(v,{year:s.$date.getFullYear(),month:s.$date.getMonth(),date:s.$date.getDate()});s.$updateSelected()}},build:function(){var e=v.year-v.year%(this.split*3),n=[],r;for(var i=0;i<12;i++){r=new Date(e+i,0,1);n.push({date:r,label:f(r,this.format),selected:s.$isSelected(r),disabled:this.isDisabled(r)})}o.title=n[0].label+"-"+n[n.length-1].label;o.showLabels=!1;o.rows=t(n,this.split);this.built=!0},isSelected:function(e){return s.$date&&e.getFullYear()===s.$date.getFullYear()},isDisabled:function(e){var t=+(new Date(e.getFullYear()+1,0,0));return t<u.minDate||e.getTime()>u.maxDate},onKeyDown:function(e){if(!s.$date)return;var t=s.$date.getFullYear(),n=new Date(s.$date);e.keyCode===37?n.setYear(t-1):e.keyCode===38?n.setYear(t-4):e.keyCode===39?n.setYear(t+1):e.keyCode===40&&n.setYear(t+4);this.isDisabled(n)||s.select(n,!0)}}];return{views:u.minView?Array.prototype.slice.call(g,u.minView):g,viewDate:v}}}]});angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,r,i){function u(t,u){function v(e){if(e.target===t[0])return;return e.target!==t[0]&&a.hide()}var a={},f=angular.extend({},e,u),l=a.$scope=f.scope&&f.scope.$new()||n.$new();a=r(t,f);var c=t.parent();a.$onKeyDown=function(
e){if(!/(38|40)/.test(e.keyCode))return;e.preventDefault();e.stopPropagation();var t=angular.element(a.$element[0].querySelectorAll("li:not(.divider) a"));if(!t.length)return;var n;angular.forEach(t,function(e,t){o&&o.call(e,":focus")&&(n=t)});e.keyCode===38&&n>0?n--:e.keyCode===40&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0);t.eq(n)[0].focus()};var h=a.show;a.show=function(){h();i(function(){f.keyboard&&a.$element.on("keydown",a.$onKeyDown);s.on("click",v)},0,!1);c.hasClass("dropdown")&&c.addClass("open")};var p=a.hide;a.hide=function(){if(!a.$isShown)return;f.keyboard&&a.$element.off("keydown",a.$onKeyDown);s.off("click",v);c.hasClass("dropdown")&&c.removeClass("open");p()};var d=a.destroy;a.destroy=function(){s.off("click",v);d()};return a}var s=angular.element(t.document.body),o=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return u}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(t,r,i,s){var o={scope:t};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","id"],function(e){angular.isDefined(i[e])&&(o[e]=i[e])});i.bsDropdown&&t.$watch(i.bsDropdown,function(e,n){t.content=e},!0);i.bsShow&&t.$watch(i.bsShow,function(e,t){if(!u||!angular.isDefined(e))return;angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i));e===!0?u.show():u.hide()});var u=n(r,o);t.$on("$destroy",function(){u&&u.destroy();o=null;u=null})}}}]);angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(e,t){function n(e){return/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id};this.getDatetimeFormat=function(t,n){return e.DATETIME_FORMATS[t]||t};this.weekdaysShort=function(t){return e.DATETIME_FORMATS.SHORTDAY};this.hoursFormat=function(e){return n(e)[0]};this.minutesFormat=function(e){return n(e)[2]};this.timeSeparator=function(e){return n(e)[1]};this.showAM=function(e){return!!n(e)[3]};this.formatDate=function(e,n,r){return t(e,n)}}]);angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(e){function t(){this.year=1970;this.month=0;this.day=1;this.hours=0;this.minutes=0;this.seconds=0;this.milliseconds=0}function r(){}function i(e){return!isNaN(parseFloat(e))&&isFinite(e)}function s(e,t){var n=e.length,r=t.toString().toLowerCase();for(var i=0;i<n;i++)if(e[i].toLowerCase()===r)return i;return-1}t.prototype.setMilliseconds=function(e){this.milliseconds=e};t.prototype.setSeconds=function(e){this.seconds=e};t.prototype.setMinutes=function(e){this.minutes=e};t.prototype.setHours=function(e){this.hours=e};t.prototype.getHours=function(){return this.hours};t.prototype.setDate=function(e){this.day=e};t.prototype.setMonth=function(e){this.month=e};t.prototype.setFullYear=function(e){this.year=e};t.prototype.fromDate=function(e){this.year=e.getFullYear();this.month=e.getMonth();this.day=e.getDate();this.hours=e.getHours();this.minutes=e.getMinutes();this.seconds=e.getSeconds();this.milliseconds=e.getMilliseconds();return this};t.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var n=t.prototype,o=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(e,u){var a=function(a){function v(e){var t=Object.keys(h),n,r=[],i=[],s=e;for(n=0;n<t.length;n++)if(e.split(t[n]).length>1){var o=s.search(t[n]);e=e.split(t[n]).join("");h[t[n]]&&(r[o]=h[t[n]])}angular.forEach(r,function(e){e&&i.push(e)});return i}function m(e){return e.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function g(e){var t=Object.keys(c),n,r=e;for(n=0;n<t.length;n++)r=r.split(t[n]).join("${"+n+"}");for(n=0;n<t.length;n++)r=r.split("${"+n+"}").join("("+c[t[n]]+")");e=m(e);return new RegExp("^"+r+"$",["i"])}var f=angular.extend({},o,a),l={},c={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:f.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:f.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:f.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:f.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:e.DATETIME_FORMATS.DAY.join("|"),EEE:e.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:f.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:e.DATETIME_FORMATS.MONTH.join("|"),MMM:e.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:f.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:f.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},h={sss:n.setMilliseconds,ss:n.setSeconds,s:n.setSeconds,mm:n.setMinutes,m:n.setMinutes,HH:n.setHours,H:n.setHours,hh:n.setHours,h:n.setHours,EEEE:r,EEE:r,dd:n.setDate,d:n.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(t){return this.setMonth(s(e.DATETIME_FORMATS.MONTH,t))},MMM:function(t){return this.setMonth(s(e.DATETIME_FORMATS.SHORTMONTH,t))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:n.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:n.setFullYear},p,d;l.init=function(){l.$format=e.DATETIME_FORMATS[f.format]||f.format;p=g(l.$format);d=v(l.$format)};l.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):p.test(e)};l.parse=function(n,r,i){i&&(i=e.DATETIME_FORMATS[i]||i);angular.isDate(n)&&(n=u(n,i||l.$format));var s=i?g(i):p,o=i?v(i):d,a=s.exec(n);if(!a)return!1;var f=r&&!isNaN(r.getTime())?(new t).fromDate(r):(new t).fromDate(new Date(1970,0,1,0));for(var c=0;c<a.length-1;c++)o[c]&&o[c].call(f,a[c+1]);var h=f.toDate();return parseInt(f.day,10)!==h.getDate()?!1:h};l.getDateForAttribute=function(e,t){var n;if(t==="today"){var r=new Date;n=new Date(r.getFullYear(),r.getMonth(),r.getDate()+(e==="maxDate"?1:0),0,0,0,e==="minDate"?0:-1)}else angular.isString(t)&&t.match(/^".+"$/)?n=new Date(t.substr(1,t.length-2)):i(t)?n=new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?n=e==="minDate"?-Infinity:+Infinity:n=new Date(t);return n};l.getTimeForAttribute=function(e,t){var n;t==="now"?n=(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?n=(new Date(t.substr(1,t.length-2))).setFullYear(1970,0,1):i(t)?n=(new Date(parseInt(t,10))).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?n=e==="minTime"?-Infinity:+Infinity:n=l.parse(t,new Date(1970,0,1,0));return n};l.daylightSavingAdjust=function(e){if(!e)return null;e.setHours(e.getHours()>12?e.getHours()+2:0);return e};l.init();return l};return a}]}]);angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(e){return function(t,n,r){var i=null;return function(){var s=this,o=arguments,u=r&&!i;i&&e.cancel(i);i=e(function(){i=null;r||t.apply(s,o)},n,!1);u&&t.apply(s,o);return i}}}]).factory("throttle",["$timeout",function(e){return function(t,n,r){var i=null;r||(r={});return function(){var s=this,o=arguments;if(!i){r.leading!==!1&&t.apply(s,o);i=e(function(){i=null;r.trailing!==!1&&t.apply(s,o)},n,!1)}}}}]);angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(t,n){var r=angular.element,i={},s=i.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};i.css=function(t,n,r){var i;t.currentStyle?i=t.currentStyle[n]:e.getComputedStyle?i=e.getComputedStyle(t)[n]:i=t.style[n];return r===!0?parseFloat(i)||0:i};i.offset=function(t){var n=t.getBoundingClientRect(),r=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||r.documentElement.scrollTop)-(r.documentElement.clientTop||0),left:n.left+(e.pageXOffset||r.documentElement.scrollLeft)-(r.documentElement.clientLeft||0)}};i.position=function(e){var t={top:0,left:0},n,r;if(i.css(e,"position")==="fixed")r=e.getBoundingClientRect();else{n=o(e);r=i.offset(e);s(n,"html")||(t=i.offset(n));t.top+=i.css(n,"borderTopWidth",!0);t.left+=i.css(n,"borderLeftWidth",!0)}return{width:e.offsetWidth,height:e.offsetHeight,top:r.top-t.top-i.css(e,"marginTop",!0),left:r.left-t.left-i.css(e,"marginLeft",!0)}};var o=function(t){var n=t.ownerDocument,r=t.offsetParent||n;if(s(r,"#document"))return n.documentElement;while(r&&!s(r,"html")&&i.css(r,"position")==="static")r=r.offsetParent;return r||n.documentElement};i.height=function(e,t){var n=e.offsetHeight;t?n+=i.css(e,"marginTop",!0)+i.css(e,"marginBottom",!0):n-=i.css(e,"paddingTop",!0)+i.css(e,"paddingBottom",!0)+i.css(e,"borderTopWidth",!0)+i.css(e,"borderBottomWidth",!0);return n};i.width=function(e,t){var n=e.offsetWidth;t?n+=i.css(e,"marginLeft",!0)+i.css(e,"marginRight",!0):n-=i.css(e,"paddingLeft",!0)+i.css(e,"paddingRight",!0)+i.css(e,"borderLeftWidth",!0)+i.css(e,"borderRightWidth",!0);return n};return i}]);angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function r(r,i){function d(e,t){return e.map(function(e,n){var r={},i,s;r[f]=e;i=a(t,r);s=h(t,r);return{label:i,value:s,index:n}})}var s={},o=angular.extend({},e,i);s.$values=[];var u,a,f,l,c,h,p;s.init=function(){s.$match=u=r.match(o.regexp);a=t(u[2]||u[1]),f=u[4]||u[6],l=u[5],c=t(u[3]||""),h=t(u[2]?u[1]:f),p=t(u[7])};s.valuesFn=function(e,t){return n.when(p(e,t)).then(function(t){s.$values=t?d(t,e):{};return s.$values})};s.displayValue=function(e){var t={};t[f]=e;return a(t)};s.init();return s}return r}]});angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,s=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};s.supported=i;return s}]);angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,r,i,s,o,u,a,f,l,c){function g(t){function g(){o.$emit(s.prefixEvent+".show",n)}function w(){o.$emit(s.prefixEvent+".hide",n);v.removeClass(s.prefixClass+"-open");s.animation&&v.removeClass(s.prefixClass+"-with-"+s.animation)}function S(e){if(e.target!==e.currentTarget)return;s.backdrop==="static"?n.focus():n.hide()}function x(e){e.preventDefault()}var n={},s=n.$options=angular.extend({},e,t);n.$promise=E(s.template);var o=n.$scope=s.scope&&s.scope.$new()||r.$new();!s.element&&!s.container&&(s.container="body");n.$id=s.id||s.element&&s.element.attr("id")||"";h(["title","content"],function(e){s[e]&&(o[e]=l.trustAsHtml(s[e]))});o.$hide=function(){o.$$postDigest(function(){n.hide()})};o.$show=function(){o.$$postDigest(function(){n.show()})};o.$toggle=function(){o.$$postDigest(function(){n.toggle()})};n.$isShown=o.$isShown=!1;s.contentTemplate&&(n.$promise=n.$promise.then(function(e){var n=angular.element(e);return E(s.contentTemplate).then(function(e){var r=b('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e);t.template||r.next().remove();return n[0].outerHTML})}));var u,f,c=angular.element('<div class="'+s.prefixClass+'-backdrop"/>');n.$promise.then(function(e){angular.isObject(e)&&(e=e.data);s.html&&(e=e.replace(m,'ng-bind-html="'));e=p.apply(e);u=i(e);n.init()});n.init=function(){s.show&&o.$$postDigest(function(){n.show()})};n.destroy=function(){if(f){f.remove();f=null}if(c){c.remove();c=null}o.$destroy()};n.show=function(){if(n.$isShown)return;if(o.$emit(s.prefixEvent+".show.before",n).defaultPrevented)return;var e,t;if(angular.isElement(s.container)){e=s.container;t=s.container[0].lastChild?angular.element(s.container[0].lastChild):null}else if(s.container){e=b(s.container);t=e[0].lastChild?angular.element(e[0].lastChild):null}else{e=null;t=s.element}f=n.$element=u(o,function(e,t){});f.css({display:"block"}).addClass(s.placement);if(s.animation){s.backdrop&&c.addClass(s.backdropAnimation);f.addClass(s.animation)}s.backdrop&&a.enter(c,v,null);var r=a.enter(f,e,t,g);r&&r.then&&r.then(g);n.$isShown=o.$isShown=!0;y(o);var i=f[0];d(function(){i.focus()});v.addClass(s.prefixClass+"-open");s.animation&&v.addClass(s.prefixClass+"-with-"+s.animation);if(s.backdrop){f.on("click",S);c.on("click",S);c.on("wheel",x)}s.keyboard&&f.on("keyup",n.$onKeyUp)};n.hide=function(){if(!n.$isShown)return;if(o.$emit(s.prefixEvent+".hide.before",n).defaultPrevented)return;var e=a.leave(f,w);e&&e.then&&e.then(w);s.backdrop&&a.leave(c);n.$isShown=o.$isShown=!1;y(o);if(s.backdrop){f.off("click",S);c.off("click",S);c.off("wheel",x)}s.keyboard&&f.off("keyup",n.$onKeyUp)};n.toggle=function(){n.$isShown?n.hide():n.show()};n.focus=function(){f[0].focus()};n.$onKeyUp=function(e){if(e.which===27&&n.$isShown){n.hide();e.stopPropagation()}};return n}function y(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function b(e,n){return angular.element((n||t).querySelectorAll(e))}function E(e){return w[e]?w[e]:w[e]=s.when(o.get(e)||u.get(e)).then(function(t){if(angular.isObject(t)){o.put(e,t.data);return t.data}return t})}var h=angular.forEach,p=String.prototype.trim,d=n.requestAnimationFrame||n.setTimeout,v=angular.element(n.document.body),m=/ng-bind="/ig,w={};return g}]}).directive("bsModal",["$window","$sce","$modal",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(r,i,s,o){var u={scope:r,element:i,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation","id"],function(e){angular.isDefined(s[e])&&(u[e]=s[e])});angular.forEach(["title","content"],function(e){s[e]&&s.$observe(e,function(n,i){r[e]=t.trustAsHtml(n)})});s.bsModal&&r.$watch(s.bsModal,function(e,t){angular.isObject(e)?angular.extend(r,e):r.content=e},!0);var a=n(u);i.on(s.trigger||"click",a.toggle);r.$on("$destroy",function(){a&&a.destroy();u=null;a=null})}}}]);angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var r=n.defaults;return{restrict:"A",link:function(n,i,s,o){var u=angular.copy(r);angular.forEach(Object.keys(r),function(e){angular.isDefined(s[e])&&(u[e]=s[e])});n.$watch(function(){return t.path()},function(e,t){var n=i[0].querySelectorAll("li["+u.routeAttr+"]");angular.forEach(n,function(t){var n=angular.element(t),r=n.attr(u.routeAttr).replace("/","\\/");u.strict&&(r="^"+r+"$");var i=new RegExp(r,["i"]);i.test(e)?n.addClass(u.activeClass):n.removeClass(u.activeClass)})})}}}]);angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){function n(n,r){var i=angular.extend({},e,r),s=t(n,i);i.content&&(s.$scope.content=i.content);return s}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(e,t,n){var r=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(i,s,o){var u={scope:i};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose","id"],function(e){angular.isDefined(o[e])&&(u[e]=o[e])});angular.forEach(["title","content"],function(e){o[e]&&o.$observe(e,function(n,s){i[e]=t.trustAsHtml(n);angular.isDefined(s)&&r(function(){a&&a.$applyPlacement()})})});o.bsPopover&&i.$watch(o.bsPopover,function(e,t){angular.isObject(e)?angular.extend(i,e):i.content=e;angular.isDefined(t)&&r(function(){a&&a.$applyPlacement()})},!0);o.bsShow&&i.$watch(o.bsShow,function(e,t){if(!a||!angular.isDefined(e))return;angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i));e===!0?a.show():a.hide()});var a=n(s,u);i.$on("$destroy",function(){a&&a.destroy();u=null;a=null})}}}]);angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(t,n,r,i,s){function f(t,n,r){var o={},u=angular.extend({},e,r);o=i(t,u);var f=o.$scope;f.$matches=[];f.$activeIndex=0;f.$isMultiple=u.multiple;f.$showAllNoneButtons=u.allNoneButtons&&u.multiple;f.$iconCheckmark=u.iconCheckmark;f.$allText=u.allText;f.$noneText=u.noneText;f.$activate=function(e){f.$$postDigest(function(){o.activate(e)})};f.$select=function(e,t){f.$$postDigest(function(){o.select(e)})};f.$isVisible=function(){return o.$isVisible()};f.$isActive=function(e){return o.$isActive(e)};f.$selectAll=function(){for(var e=0;e<f.$matches.length;e++)f.$isActive(e)||f.$select(e)};f.$selectNone=function(){for(var e=0;e<f.$matches.length;e++)f.$isActive(e)&&f.$select(e)};o.update=function(e){f.$matches=e;o.$updateActiveIndex()};o.activate=function(e){if(u.multiple){f.$activeIndex.sort();o.$isActive(e)?f.$activeIndex.splice(f.$activeIndex.indexOf(e),1):f.$activeIndex.push(e);u.sort&&f.$activeIndex.sort()}else f.$activeIndex=e;return f.$activeIndex};o.select=function(e){var t=f.$matches[e].value;f.$apply(function(){o.activate(e);if(u.multiple)n.$setViewValue(f.$activeIndex.map(function(e){return f.$matches[e].value}));else{n.$setViewValue(t);o.hide()}});f.$emit(u.prefixEvent+".select",t,e,o)};o.$updateActiveIndex=function(){n.$modelValue&&f.$matches.length?u.multiple&&angular.isArray(n.$modelValue)?f.$activeIndex=n.$modelValue.map(function(e){return o.$getIndex(e)}):f.$activeIndex=o.$getIndex(n.$modelValue):f.$activeIndex>=f.$matches.length&&(f.$activeIndex=u.multiple?[]:0)};o.$isVisible=function(){return!u.minLength||!n?f.$matches.length:f.$matches.length&&n.$viewValue.length>=u.minLength};o.$isActive=function(e){return u.multiple?f.$activeIndex.indexOf(e)!==-1:f.$activeIndex===e};o.$getIndex=function(e){var t=f.$matches.length,n=t;if(!t)return;for(n=t;n--;)if(f.$matches[n].value===e)break;if(n<0)return;return n};o.$onMouseDown=function(e){e.preventDefault();e.stopPropagation();if(a){var t=angular.element(e.target);t.triggerHandler("click")}};o.$onKeyDown=function(e){if(!/(9|13|38|40)/.test(e.keyCode))return;e.preventDefault();e.stopPropagation();if(!u.multiple&&(e.keyCode===13||e.keyCode===9))return o.select(f.$activeIndex);e.keyCode===38&&f.$activeIndex>0?f.$activeIndex--:e.keyCode===40&&f.$activeIndex<f.$matches.length-1?f.$activeIndex++:angular.isUndefined(f.$activeIndex)&&(f.$activeIndex=0);f.$digest()};var l=o.show;o.show=function(){l();u.multiple&&o.$element.addClass("select-multiple");s(function(){o.$element.on(a?"touchstart":"mousedown",o.$onMouseDown);u.keyboard&&t.on("keydown",o.$onKeyDown)},0,!1)};var c=o.hide;o.hide=function(){o.$element.off(a?"touchstart":"mousedown",o.$onMouseDown);u.keyboard&&t.off("keydown",o.$onKeyDown);c(!0)};return o}var o=angular.element(t.document.body),u=/(ip(a|o)d|iphone|android)/ig.test(t.navigator.userAgent),a="createTouch"in t.document&&u;f.defaults=e;return f}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,r,i){var s=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,n,o,u){var a={scope:t,placeholder:s.placeholder};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id"],function(e){angular.isDefined(o[e])&&(a[e]=o[e])});if(n[0].nodeName.toLowerCase()==="select"){var f=n;f.css("display","none");n=angular.element('<button type="button" class="btn btn-default"></button>');f.after(n)}var l=i(o.ngOptions),c=r(n,u,a),h=l.$match[7].replace(/\|.+/,"").trim();t.$watch(h,function(e,n){l.valuesFn(t,u).then(function(e){c.update(e);u.$render()})},!0);t.$watch(o.ngModel,function(e,t){c.$updateActiveIndex();u.$render()},!0);u.$render=function(){var e,t;if(a.multiple&&angular.isArray(u.$modelValue)){e=u.$modelValue.map(function(e){t=c.$getIndex(e);return angular.isDefined(t)?c.$scope.$matches[t].label:!1}).filter(angular.isDefined);e.length>(a.maxLength||s.maxLength)?e=e.length+" "+(a.maxLengthHtml||s.maxLengthHtml):e=e.join(", ")}else{t=c.$getIndex(u.$modelValue);e=angular.isDefined(t)?c.$scope.$matches[t].label:!1}n.html((e?e:a.placeholder)+s.caretHtml)};a.multiple&&(u.$isEmpty=function(e){return!e||e.length===0});t.$on("$destroy",function(){c&&c.destroy();a=null;c=null})}}}]);angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,n,r){var i=this;i.$options=angular.copy(e);angular.forEach(["animation","navClass","activeClass"],function(e){angular.isDefined(r[e])&&(i.$options[e]=r[e])});t.$navClass=i.$options.navClass;t.$activeClass=i.$options.activeClass;i.$panes=t.$panes=[];i.$activePaneChangeListeners=i.$viewChangeListeners=[];i.$push=function(e){i.$panes.push(e)};i.$remove=function(e){var t=i.$panes.indexOf(e),n=i.$panes.$active;i.$panes.splice(t,1);t<n?n--:t===n&&n===i.$panes.length&&n--;i.$setActive(n)};i.$panes.$active=0;i.$setActive=t.$setActive=function(e){i.$panes.$active=e;i.$activePaneChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};n.defaults=e;n.controller=t;return n}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(e,t,n,r){var i=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(e,t){return t.template||i.template},link:function(t,n,i,s){var o=s[0],u=s[1];if(o){console.warn("Usage of ngModel is deprecated, please use bsActivePane instead!");u.$activePaneChangeListeners.push(function(){o.$setViewValue(u.$panes.$active)});o.$formatters.push(function(e){u.$setActive(e*1);return e})}if(i.bsActivePane){var a=r(i.bsActivePane);u.$activePaneChangeListeners.push(function(){a.assign(t,u.$panes.$active)});t.$watch(i.bsActivePane,function(e,t){u.$setActive(e*1)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(e,t,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(r,i,s,o){function f(){var e=a.$panes.indexOf(r),n=a.$panes.$active;t[e===n?"addClass":"removeClass"](i,a.$options.activeClass)}var u=o[0],a=o[1];i.addClass("tab-pane");s.$observe("title",function(e,t){r.title=n.trustAsHtml(e)});a.$options.animation&&i.addClass(a.$options.animation);a.$push(r);r.$on("$destroy",function(){a.$remove(r)});a.$activePaneChangeListeners.push(function(){f()});f()}}}]);angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(r,i,s,o,u,a){function h(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function p(i){var p=angular.extend({},n,i);p.element||(p.element=c);var d=h(p.element,"body"),v=d?f:p.element,m=d?"window":p.id;if(e[m]){e[m].$$count++;return e[m]}var g={},y,b,w=g.$trackedElements=[],E=[],S,x,T,N,C,k;g.init=function(){this.$$count=1;x=u(this.checkPosition,p.debounce);T=a(this.checkPosition,p.throttle);v.on("click",this.checkPositionWithEventLoop);f.on("resize",x);v.on("scroll",T);N=u(this.checkOffsets,p.debounce);y=s.$on("$viewContentLoaded",N);b=s.$on("$includeContentLoaded",N);N();m&&(e[m]=g)};g.destroy=function(){this.$$count--;if(this.$$count>0)return;v.off("click",this.checkPositionWithEventLoop);f.off("resize",x);v.off("scroll",T);y();b();m&&delete e[m]};g.checkPosition=function(){if(!E.length)return;k=(d?r.pageYOffset:v.prop("scrollTop"))||0;C=Math.max(r.innerHeight,l.prop("clientHeight"));if(k<E[0].offsetTop&&S!==E[0].target)return g.$activateElement(E[0]);for(var e=E.length;e--;){if(angular.isUndefined(E[e].offsetTop)||E[e].offsetTop===null)continue;if(S===E[e].target)continue;if(k<E[e].offsetTop)continue;if(E[e+1]&&k>E[e+1].offsetTop)continue;return g.$activateElement(E[e])}};g.checkPositionWithEventLoop=function(){setTimeout(g.checkPosition,1)};g.$activateElement=function(e){if(S){var t=g.$getTrackedElement(S);if(t){t.source.removeClass("active");h(t.source,"li")&&h(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active")}}S=e.target;e.source.addClass("active");h(e.source,"li")&&h(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")};g.$getTrackedElement=function(e){return w.filter(function(t){return t.target===e})[0]};g.checkOffsets=function(){angular.forEach(w,function(e){var n=t.querySelector(e.target);e.offsetTop=n?o.offset(n).top:null;p.offset&&e.offsetTop!==null&&(e.offsetTop-=p.offset*1)});E=w.filter(function(e){return e.offsetTop!==null}).sort(function(e,t){return e.offsetTop-t.offsetTop});x()};g.trackElement=function(e,t){w.push({target:e,source:t})};g.untrackElement=function(e,t){var n;for(var r=w.length;r--;)if(w[r].target===e&&w[r].source===t){n=r;break}w=w.splice(n,1)};g.activate=function(e){w[e].addClass("active")};g.init();return g}var f=angular.element(r),l=angular.element(i.prop("documentElement")),c=angular.element(r.document.body);return p}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,r){return{restrict:"EAC",link:function(t,n,i){var s={scope:t};angular.forEach(["offset","target"],function(e){angular.isDefined(i[e])&&(s[e]=i[e])});var o=r(s);o.trackElement(s.target,n);t.$on("$destroy",function(){if(o){o.untrackElement(s.target,n);o.destroy()}s=null;o=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,r){return{restrict:"A",compile:function(t,n){var r=t[0].querySelectorAll("li > a[href]");angular.forEach(r,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]);angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-Infinity,maxTime:+Infinity,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,n,r,i,s,o,u){function c(t,n,r){function x(e,n){if(t[0].createTextRange){var r=t[0].createTextRange();r.collapse(!0);r.moveStart("character",e);r.moveEnd("character",n);r.select()}else if(t[0].setSelectionRange)t[0].setSelectionRange(e,n);else if(angular.isUndefined(t[0].selectionStart)){t[0].selectionStart=e;t[0].selectionEnd=n}}function T(){t[0].focus()}var i=o(t,angular.extend({},e,r)),a=r.scope,c=i.$options,h=i.$scope,p=c.lang,d=function(e,t){return s.formatDate(e,t,p)},v=0,m=n.$dateValue||new Date,g={hour:m.getHours(),meridian:m.getHours()<12,minute:m.getMinutes(),second:m.getSeconds(),millisecond:m.getMilliseconds()},y=s.getDatetimeFormat(c.timeFormat,p),b=s.hoursFormat(y),w=s.timeSeparator(y),E=s.minutesFormat(y),S=s.showAM(y);h.$iconUp=c.iconUp;h.$iconDown=c.iconDown;h.$select=function(e,t){i.select(e,t)};h.$moveIndex=function(e,t){i.$moveIndex(e,t)};h.$switchMeridian=function(e){i.switchMeridian(e)};i.update=function(e){if(angular.isDate(e)&&!isNaN(e.getTime())){i.$date=e;angular.extend(g,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()});i.$build()}else i.$isBuilt||i.$build()};i.select=function(e,t,r){if(!n.$dateValue||isNaN(n.$dateValue.getTime()))n.$dateValue=new Date(1970,0,1);angular.isDate(e)||(e=new Date(e));t===0?n.$dateValue.setHours(e.getHours()):t===1&&n.$dateValue.setMinutes(e.getMinutes());n.$setViewValue(angular.copy(n.$dateValue));n.$render();c.autoclose&&!r&&u(function(){i.hide(!0)})};i.switchMeridian=function(e){if(!n.$dateValue||isNaN(n.$dateValue.getTime()))return;var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(t<12?t+12:t-12);n.$setViewValue(angular.copy(n.$dateValue));n.$render()};i.$build=function(){var e,t=h.midIndex=parseInt(c.length/2,10),n=[],r;for(e=0;e<c.length;e++){r=new Date(1970,0,1,g.hour-(t-e)*c.hourStep);n.push({date:r,label:d(r,b),selected:i.$date&&i.$isSelected(r,0),disabled:i.$isDisabled(r,0)})}var s=[],o;for(e=0;e<c.length;e++){o=new Date(1970,0,1,0,g.minute-(t-e)*c.minuteStep);s.push({date:o,label:d(o,E),selected:i.$date&&i.$isSelected(o,1),disabled:i.$isDisabled(o,1)})}var u=[];for(e=0;e<c.length;e++)u.push([n[e],s[e]]);h.rows=u;h.showAM=S;h.isAM=(i.$date||n[t].date).getHours()<12;h.timeSeparator=w;i.$isBuilt=!0};i.$isSelected=function(e,t){if(!i.$date)return!1;if(t===0)return e.getHours()===i.$date.getHours();if(t===1)return e.getMinutes()===i.$date.getMinutes()};i.$isDisabled=function(e,t){var n;t===0?n=e.getTime()+g.minute*6e4:t===1&&(n=e.getTime()+g.hour*36e5);return n<c.minTime*1||n>c.maxTime*1};h.$arrowAction=function(e,t){c.arrowBehavior==="picker"?i.$setTimeByStep(e,t):i.$moveIndex(e,t)};i.$setTimeByStep=function(e,t){var n=new Date(i.$date),r=n.getHours(),s=d(n,b).length,o=n.getMinutes(),u=d(n,E).length;t===0?n.setHours(r-parseInt(c.hourStep,10)*e):n.setMinutes(o-parseInt(c.minuteStep,10)*e);i.select(n,t,!0)};i.$moveIndex=function(e,t){var n;if(t===0){n=new Date(1970,0,1,g.hour+e*c.length,g.minute);angular.extend(g,{hour:n.getHours()})}else if(t===1){n=new Date(1970,0,1,g.hour,g.minute+e*c.length*c.minuteStep);angular.extend(g,{minute:n.getMinutes()})}i.$build()};i.$onMouseDown=function(e){e.target.nodeName.toLowerCase()!=="input"&&e.preventDefault();e.stopPropagation();if(l){var t=angular.element(e.target);t[0].nodeName.toLowerCase()!=="button"&&(t=t.parent());t.triggerHandler("click")}};i.$onKeyDown=function(e){if(!/(38|37|39|40|13)/.test(e.keyCode)||e.shiftKey||e.altKey)return;e.preventDefault();e.stopPropagation();if(e.keyCode===13)return i.hide(!0);var t=new Date(i.$date),n=t.getHours(),r=d(t,b).length,s=t.getMinutes(),o=d(t,E).length,u=/(37|39)/.test(e.keyCode),f=2+S*1;u&&(e.keyCode===37?v=v<1?f-1:v-1:e.keyCode===39&&(v=v<f-1?v+1:0));var l=[0,r];if(v===0){e.keyCode===38?t.setHours(n-parseInt(c.hourStep,10)):e.keyCode===40&&t.setHours(n+parseInt(c.hourStep,10));r=d(t,b).length;l=[0,r]}else if(v===1){e.keyCode===38?t.setMinutes(s-parseInt(c.minuteStep,10)):e.keyCode===40&&t.setMinutes(s+parseInt(c.minuteStep,10));o=d(t,E).length;l=[r+1,r+1+o]}else if(v===2){u||i.switchMeridian();l=[r+1+o+1,r+1+o+3]}i.select(t,v,!0);x(l[0],l[1]);a.$digest()};var N=i.init;i.init=function(){if(f&&c.useNative){t.prop("type","time");t.css("-webkit-appearance","textfield");return}if(l){t.prop("type","text");t.attr("readonly","true");t.on("click",T)}N()};var C=i.destroy;i.destroy=function(){f&&c.useNative&&t.off("click",T);C()};var k=i.show;i.show=function(){k();u(function(){i.$element.on(l?"touchstart":"mousedown",i.$onMouseDown);c.keyboard&&t.on("keydown",i.$onKeyDown)},0,!1)};var L=i.hide;i.hide=function(e){if(!i.$isShown)return;i.$element.off(l?"touchstart":"mousedown",i.$onMouseDown);c.keyboard&&t.off("keydown"
,i.$onKeyDown);L(e)};return i}var a=angular.element(t.document.body),f=/(ip(a|o)d|iphone|android)/ig.test(t.navigator.userAgent),l="createTouch"in t.document&&f;e.lang||(e.lang=s.getDefaultLocale());c.defaults=e;return c}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(e,t,n,r,i,s){var o=s.defaults,u=/(ip(a|o)d|iphone|android)/ig.test(e.navigator.userAgent),a=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(t,n,a,f){function v(e){if(!angular.isDate(e))return;var t=isNaN(l.minTime)||(new Date(e.getTime())).setFullYear(1970,0,1)>=l.minTime,n=isNaN(l.maxTime)||(new Date(e.getTime())).setFullYear(1970,0,1)<=l.maxTime,r=t&&n;f.$setValidity("date",r);f.$setValidity("min",t);f.$setValidity("max",n);if(!r)return;f.$dateValue=e}function m(){return!f.$dateValue||isNaN(f.$dateValue.getTime())?"":p(f.$dateValue,l.timeFormat)}var l={scope:t,controller:f};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown","id"],function(e){angular.isDefined(a[e])&&(l[e]=a[e])});a.bsShow&&t.$watch(a.bsShow,function(e,t){if(!c||!angular.isDefined(e))return;angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i));e===!0?c.show():c.hide()});u&&(l.useNative||o.useNative)&&(l.timeFormat="HH:mm");var c=s(n,f,l);l=c.$options;var h=l.lang,p=function(e,t){return r.formatDate(e,t,h)},d=i({format:l.timeFormat,lang:h});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(a[e])&&a.$observe(e,function(t){c.$options[e]=d.getTimeForAttribute(e,t);!isNaN(c.$options[e])&&c.$build();v(f.$dateValue)})});t.$watch(a.ngModel,function(e,t){c.update(f.$dateValue)},!0);f.$parsers.unshift(function(e){if(!e){f.$setValidity("date",!0);return null}var t=angular.isDate(e)?e:d.parse(e,f.$dateValue);if(!t||isNaN(t.getTime())){f.$setValidity("date",!1);return}v(t);return l.timeType==="string"?p(t,l.modelTimeFormat||l.timeFormat):l.timeType==="number"?f.$dateValue.getTime():l.timeType==="unix"?f.$dateValue.getTime()/1e3:l.timeType==="iso"?f.$dateValue.toISOString():new Date(f.$dateValue)});f.$formatters.push(function(e){var t;angular.isUndefined(e)||e===null?t=NaN:angular.isDate(e)?t=e:l.timeType==="string"?t=d.parse(e,null,l.modelTimeFormat):l.timeType==="unix"?t=new Date(e*1e3):t=new Date(e);f.$dateValue=t;return m()});f.$render=function(){n.val(m())};t.$on("$destroy",function(){c&&c.destroy();l=null;c=null})}}}]);angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(n,r,i,s,o,u,a,f,l,c,h){function g(n,s){function O(){w.$emit(g.prefixEvent+".show",o)}function D(){w.$emit(g.prefixEvent+".hide",o);if(C===_){if(M&&g.trigger==="focus")return n[0].blur();X()}}function P(){var e=g.trigger.split(" ");angular.forEach(e,function(e){if(e==="click")n.on("click",o.toggle);else if(e!=="manual"){n.on(e==="hover"?"mouseenter":"focus",o.enter);n.on(e==="hover"?"mouseleave":"blur",o.leave);u==="button"&&e!=="hover"&&n.on(d?"touchstart":"mousedown",o.$onFocusElementMouseDown)}})}function H(){var e=g.trigger.split(" ");for(var t=e.length;t--;){var r=e[t];if(r==="click")n.off("click",o.toggle);else if(r!=="manual"){n.off(r==="hover"?"mouseenter":"focus",o.enter);n.off(r==="hover"?"mouseleave":"blur",o.leave);u==="button"&&r!=="hover"&&n.off(d?"touchstart":"mousedown",o.$onFocusElementMouseDown)}}}function B(){g.trigger!=="focus"?C.on("keyup",o.$onKeyUp):n.on("keyup",o.$onFocusKeyUp)}function j(){g.trigger!=="focus"?C.off("keyup",o.$onKeyUp):n.off("keyup",o.$onFocusKeyUp)}function I(){h(function(){C.on("click",R);m.on("click",o.hide);F=!0},0,!1)}function q(){if(F){C.off("click",R);m.off("click",o.hide);F=!1}}function R(e){e.stopPropagation()}function U(e){e=e||g.target||n;var t=e[0],r=t.getBoundingClientRect();r.width===null&&(r=angular.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i;g.container==="body"?i=l.offset(t):i=l.position(t);return angular.extend({},r,i)}function z(e,t,n,r){var i,s=e.split("-");switch(s[0]){case"right":i={top:t.top+t.height/2-r/2,left:t.left+t.width};break;case"bottom":i={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":i={top:t.top+t.height/2-r/2,left:t.left-n};break;default:i={top:t.top-r,left:t.left+t.width/2-n/2}}if(!s[1])return i;if(s[0]==="top"||s[0]==="bottom")switch(s[1]){case"left":i.left=t.left;break;case"right":i.left=t.left+t.width-n}else if(s[0]==="left"||s[0]==="right")switch(s[1]){case"top":i.top=t.top-r;break;case"bottom":i.top=t.top+t.height}return i}function W(e,t){C.css({top:e+"px",left:t+"px"})}function X(){clearTimeout(x);if(o.$isShown&&C!==null){g.autoClose&&q();g.keyboard&&j()}if(A){A.$destroy();A=null}if(C){C.remove();C=o.$element=null}}var o={},u=n[0].nodeName.toLowerCase(),g=o.$options=angular.extend({},e,s);o.$promise=E(g.template);var w=o.$scope=g.scope&&g.scope.$new()||r.$new();if(g.delay&&angular.isString(g.delay)){var S=g.delay.split(",").map(parseFloat);g.delay=S.length>1?{show:S[0],hide:S[1]}:S[0]}o.$id=g.id||n.attr("id")||"";g.title&&(w.title=f.trustAsHtml(g.title));w.$setEnabled=function(e){w.$$postDigest(function(){o.setEnabled(e)})};w.$hide=function(){w.$$postDigest(function(){o.hide()})};w.$show=function(){w.$$postDigest(function(){o.show()})};w.$toggle=function(){w.$$postDigest(function(){o.toggle()})};o.$isShown=w.$isShown=!1;var x,T;g.contentTemplate&&(o.$promise=o.$promise.then(function(e){var t=angular.element(e);return E(g.contentTemplate).then(function(e){var n=b('[ng-bind="content"]',t[0]);n.length||(n=b('[ng-bind="title"]',t[0]));n.removeAttr("ng-bind").html(e);return t[0].outerHTML})}));var N,C,k,L,A;o.$promise.then(function(e){angular.isObject(e)&&(e=e.data);g.html&&(e=e.replace(v,'ng-bind-html="'));e=p.apply(e);k=e;N=i(e);o.init()});o.init=function(){g.delay&&angular.isNumber(g.delay)&&(g.delay={show:g.delay,hide:g.delay});g.container==="self"?L=n:angular.isElement(g.container)?L=g.container:g.container&&(L=b(g.container));P();g.target&&(g.target=angular.isElement(g.target)?g.target:b(g.target));g.show&&w.$$postDigest(function(){g.trigger==="focus"?n[0].focus():o.show()})};o.destroy=function(){H();X();w.$destroy()};o.enter=function(){clearTimeout(x);T="in";if(!g.delay||!g.delay.show)return o.show();x=setTimeout(function(){T==="in"&&o.show()},g.delay.show)};o.show=function(){if(!g.bsEnabled||o.$isShown)return;w.$emit(g.prefixEvent+".show.before",o);var e,t;if(g.container){e=L;L[0].lastChild?t=angular.element(L[0].lastChild):t=null}else{e=null;t=n}C&&X();A=o.$scope.$new();C=o.$element=N(A,function(e,t){});C.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"});g.animation&&C.addClass(g.animation);g.type&&C.addClass(g.prefixClass+"-"+g.type);g.customClass&&C.addClass(g.customClass);var r=a.enter(C,e,t,O);r&&r.then&&r.then(O);o.$isShown=w.$isShown=!0;y(w);c(function(){o.$applyPlacement();C&&C.css({visibility:"visible"})});if(g.keyboard){g.trigger!=="focus"&&o.focus();B()}g.autoClose&&I()};o.leave=function(){clearTimeout(x);T="out";if(!g.delay||!g.delay.hide)return o.hide();x=setTimeout(function(){T==="out"&&o.hide()},g.delay.hide)};var M,_;o.hide=function(e){if(!o.$isShown)return;w.$emit(g.prefixEvent+".hide.before",o);M=e;_=C;var t=a.leave(C,D);t&&t.then&&t.then(D);o.$isShown=w.$isShown=!1;y(w);g.keyboard&&C!==null&&j();g.autoClose&&C!==null&&q()};o.toggle=function(){o.$isShown?o.leave():o.enter()};o.focus=function(){C[0].focus()};o.setEnabled=function(e){g.bsEnabled=e};o.$applyPlacement=function(){if(!C)return;var r=g.placement,i=/\s?auto?\s?/i,s=i.test(r);s&&(r=r.replace(i,"")||e.placement);C.addClass(g.placement);var o=U(),u=C.prop("offsetWidth"),a=C.prop("offsetHeight");if(s){var f=r,l=g.container?angular.element(t.querySelector(g.container)):n.parent(),c=U(l);f.indexOf("bottom")>=0&&o.bottom+a>c.bottom?r=f.replace("bottom","top"):f.indexOf("top")>=0&&o.top-a<c.top&&(r=f.replace("top","bottom"));(f==="right"||f==="bottom-left"||f==="top-left")&&o.right+u>c.width?r=f==="right"?"left":r.replace("left","right"):(f==="left"||f==="bottom-right"||f==="top-right")&&o.left-u<c.left&&(r=f==="left"?"right":r.replace("right","left"));C.removeClass(f).addClass(r)}var h=z(r,o,u,a);W(h.top,h.left)};o.$onKeyUp=function(e){if(e.which===27&&o.$isShown){o.hide();e.stopPropagation()}};o.$onFocusKeyUp=function(e){if(e.which===27){n[0].blur();e.stopPropagation()}};o.$onFocusElementMouseDown=function(e){e.preventDefault();e.stopPropagation();o.$isShown?n[0].blur():n[0].focus()};var F=!1;return o}function y(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function b(e,n){return angular.element((n||t).querySelectorAll(e))}function E(e){return w[e]?w[e]:w[e]=s.when(o.get(e)||u.get(e)).then(function(t){if(angular.isObject(t)){o.put(e,t.data);return t.data}return t})}var p=String.prototype.trim,d="createTouch"in n.document,v=/ng-bind="/ig,m=angular.element(n.document),w={};return g}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,r,i){return{restrict:"EAC",scope:!0,link:function(t,s,o,u){var a={scope:t};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","backdropAnimation","type","customClass","id"],function(e){angular.isDefined(o[e])&&(a[e]=o[e])});t.hasOwnProperty("title")||(t.title="");o.$observe("title",function(e){if(angular.isDefined(e)||!t.hasOwnProperty("title")){var r=t.title;t.title=n.trustAsHtml(e);angular.isDefined(r)&&i(function(){f&&f.$applyPlacement()})}});o.bsTooltip&&t.$watch(o.bsTooltip,function(e,n){angular.isObject(e)?angular.extend(t,e):t.title=e;angular.isDefined(n)&&i(function(){f&&f.$applyPlacement()})},!0);o.bsShow&&t.$watch(o.bsShow,function(e,t){if(!f||!angular.isDefined(e))return;angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i));e===!0?f.show():f.hide()});o.bsEnabled&&t.$watch(o.bsEnabled,function(e,t){if(!f||!angular.isDefined(e))return;angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i));e===!1?f.setEnabled(!1):f.setEnabled(!0)});var f=r(s,a);t.$on("$destroy",function(){f&&f.destroy();a=null;f=null})}}}]);angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,comparator:""};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,n,r,i){function o(t,n,s){var o={},u=angular.extend({},e,s);o=r(t,u);var a=s.scope,f=o.$scope;f.$resetMatches=function(){f.$matches=[];f.$activeIndex=0};f.$resetMatches();f.$activate=function(e){f.$$postDigest(function(){o.activate(e)})};f.$select=function(e,t){f.$$postDigest(function(){o.select(e)})};f.$isVisible=function(){return o.$isVisible()};o.update=function(e){f.$matches=e;f.$activeIndex>=e.length&&(f.$activeIndex=0)};o.activate=function(e){f.$activeIndex=e};o.select=function(e){var t=f.$matches[e].value;n.$setViewValue(t);n.$render();f.$resetMatches();a&&a.$digest();f.$emit(u.prefixEvent+".select",t,e,o)};o.$isVisible=function(){return!u.minLength||!n?!!f.$matches.length:f.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=u.minLength};o.$getIndex=function(e){var t=f.$matches.length,n=t;if(!t)return;for(n=t;n--;)if(f.$matches[n].value===e)break;if(n<0)return;return n};o.$onMouseDown=function(e){e.preventDefault();e.stopPropagation()};o.$onKeyDown=function(e){if(!/(38|40|13)/.test(e.keyCode))return;if(o.$isVisible()){e.preventDefault();e.stopPropagation()}e.keyCode===13&&f.$matches.length?o.select(f.$activeIndex):e.keyCode===38&&f.$activeIndex>0?f.$activeIndex--:e.keyCode===40&&f.$activeIndex<f.$matches.length-1?f.$activeIndex++:angular.isUndefined(f.$activeIndex)&&(f.$activeIndex=0);f.$digest()};var l=o.show;o.show=function(){l();i(function(){o.$element.on("mousedown",o.$onMouseDown);u.keyboard&&t.on("keydown",o.$onKeyDown)},0,!1)};var c=o.hide;o.hide=function(){o.$element.off("mousedown",o.$onMouseDown);u.keyboard&&t.off("keydown",o.$onKeyDown);c()};return o}var s=angular.element(t.document.body);o.defaults=e;return o}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,r,i,s){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,r,u,a){var f={scope:t};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","comparator","id"],function(e){angular.isDefined(u[e])&&(f[e]=u[e])});var l=f.filter||o.filter,c=f.limit||o.limit,h=f.comparator||o.comparator,p=u.ngOptions;l&&(p+=" | "+l+":$viewValue");h&&(p+=":"+h);c&&(p+=" | limitTo:"+c);var d=s(p),v=i(r,a,f);if(f.watchOptions){var m=d.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();t.$watch(m,function(e,n){d.valuesFn(t,a).then(function(e){v.update(e);a.$render()})},!0)}t.$watch(u.ngModel,function(e,n){t.$modelValue=e;d.valuesFn(t,a).then(function(t){if(f.selectMode&&!t.length&&e.length>0){a.$setViewValue(a.$viewValue.substring(0,a.$viewValue.length-1));return}t.length>c&&(t=t.slice(0,c));var n=v.$isVisible();n&&v.update(t);if(t.length===1&&t[0].value===e)return;!n&&v.update(t);a.$render()})});a.$formatters.push(function(e){var t=d.displayValue(e);return t===n?"":t});a.$render=function(){if(a.$isEmpty(a.$viewValue))return r.val("");var e=v.$getIndex(a.$modelValue),t=angular.isDefined(e)?v.$scope.$matches[e].label:a.$viewValue;t=angular.isObject(t)?d.displayValue(t):t;r.val(t?t.toString().replace(/<(?:.|\n)*?>/gm,"").trim():"")};t.$on("$destroy",function(){v&&v.destroy();f=null;v=null})}}}])})(window,document);(function(e,t,n){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(e){e.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]);angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(e){e.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]);angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(e){e.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{[{$iconLeft}]}"></i></button></th><th colspan="{[{ rows[0].length - 2 }]}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{[{$iconRight}]}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{[{ 100 / rows.length }]}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]);angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(e){e.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{[{item.href}]}" ng-if="!item.divider && item.href" target="{[{item.target || \'\'}]}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]);angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(e){e.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]);angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(e){e.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]);angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(e){e.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{[{$allText}]}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{[{$noneText}]}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{[{$iconCheckmark}]} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]);angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(e){e.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'"><a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{[{ $index }]}" ng-bind-html="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]);angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(e){e.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{[{ $iconUp }]}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{[{ $iconUp }]}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{[{ $iconDown }]}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{[{ $iconDown }]}"></i></button></th></tr></tfoot></table></div>')}]);angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]);angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(e){e.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])})(window,document);angular.module("sportfacCalendar.services",[]).factory("Registration",function(){var e=function(e){angular.extend(this,e)};return e}).factory("RegistrationsService",["$http","$cookies","Registration",function(e,t,n){e.defaults.headers.common["X-CSRFToken"]=t.csrftoken;var r=function(e,t,n){angular.isDefined(n)&&angular.forEach(e,function(e,t){n[t]=e})},i={all:function(t){return e.get(t).then(function(e){var t=[];angular.forEach(e.data,function(e){t.push(new n(e))});return t})},get:function(t,r){return e.get(t+r+"/").then(function(e){return new n(e.data)})},del:function(t,n){return e.delete(t+n.id+"/")},create:function(t,n,i){return e.post(t,n).success(function(e){angular.extend(n,e)}).error(function(e,t){r(e,t,i)})},save:function(t,n,i){return angular.isDefined(n.id)?e.put(t+n.id+"/",n).success(function(e){angular.extend(n,e)}).error(function(e,t){r(e,t,i)}):this.create(t,n,i)}};return i}]).factory("Child",function(){var e=function(e){angular.extend(this,{hasRegistered:function(e){return this.registered.indexOf(e.id)!==-1},canRegister:function(e){return!(this.school_year<e.schoolyear_min||this.school_year>e.schoolyear_max)}});angular.extend(this,e);this.registered=[]};return e}).factory("ChildrenService",["$http","$cookies","Child",function(e,t,n){e.defaults.headers.common["X-CSRFToken"]=t.csrftoken;var r={all:function(t){return e.get(t).then(function(e){var t=[];angular.forEach(e.data,function(e){t.push(new n(e))});return t})},get:function(t,r){return e.get(t+r+"/").then(function(e){return new n(e.data)})}};return r}]).factory("Course",function(){var e=new Date,t=e.getDate(),n=e.getMonth(),r=e.getFullYear(),i=function(i){angular.extend(this,{getStartDate:function(){return new Date(r,n,t+(this.day-e.getDay()),this.start_time.split(":")[0],this.start_time.split(":")[1])},getEndDate:function(){return new Date(r,n,t+(this.day-e.getDay()),this.end_time.split(":")[0],this.end_time.split(":")[1])},toEvent:function(e){return{title:this.activity.name,start:this.getStartDate(),end:this.getEndDate(),allDay:!1,className:e,clickable:e!=="unavailable",course:this,activityId:this.activity.id}}});angular.extend(this,i)};return i}).factory("CoursesService",["$http","$cookies","Course",function(e,t,n){e.defaults.headers.common["X-CSRFToken"]=t.csrftoken;var r={get:function(t,r){return e.get(t+r+"/").then(function(e){return new n(e.data)})}};return r}]).factory("ModelUtils",["$http","$cookies",function(e,t){e.defaults.headers.common["X-CSRFToken"]=t.csrftoken;var n=function(e,t,n){angular.isDefined(n)&&angular.forEach(e,function(e,t){n[t]=e})},r={get:function(t,n){return e.get(t+n+"/").then(function(e){return e.data})},create:function(t,r,i){return e.post(t,r).success(function(e){angular.extend(r,e)}).error(function(e,t){n(e,t,i)})},save:function(t,r,i){return angular.isDefined(r.id)?e.put(t+r.id+"/",r).success(function(e){angular.extend(r,e)}).error(function(e,t){n(e,t,i)}):this.create(t,r,i)},del:function(t,n){return e.delete(t+n.id+"/")}};return r}]);angular.module("sportfacCalendar.controllers",[]).controller("ChildrenCtrl",["$scope","$routeParams","$attrs","$location","$filter","ChildrenService","RegistrationsService",function(e,t,n,r,i,s,o){"use strict";if(!n.maxregistrations)throw new Error("No maxregistrations option set");e.maxregistrations=parseInt(n.maxregistrations);if(!n.starthour)throw new Error("No starthour option set");e.startHour=parseInt(n.starthour);if(!n.endhour)throw new Error("No endhour option set");e.endHour=parseInt(n.endhour);if(!n.displaydates)throw new Error("No displaydates option set");e.displaydates=n.displaydates==="true";if(!n.displaycoursenames)throw new Error("No displaycoursenames option set");e.displaycoursenames=n.displaycoursenames==="true";e.urls={activity:n.activityserviceurl,child:n.childserviceurl,course:n.courseserviceurl,family:n.familyserviceurl,registration:n.registrationserviceurl};e.loadRegistrations=function(){o.all(e.urls.registration).then(function(t){e.registrations=t})};e.getRegistrations=function(t){if(!angular.isDefined(e.registrations))return;var n=function(e){return e.child===t.id};return i("filter")(e.registrations,n)};e.unregisterCourse=function(t,n){var r=function(e){return e.child===t.id&&e.course===n.id},s=i("filter")(e.registrations,r)[0];o.del(e.urls.registration,s);e.registrations.remove(s)};e.registerCourse=function(t,n){var r={child:t.id,course:n.id};o.save(e.urls.registration,r).then(function(){e.registrations.push(r)})};e.selectChild=function(t){angular.forEach(e.userChildren,function(n){if(n.id===t){n.selected=!0;e.selectedChild=n}else n.selected=!1})};s.all(e.urls.family).then(function(n){e.userChildren=n;var i=parseInt(t.childId,10);if(isNaN(i)){i=e.userChildren[0].id;r.path("/child/"+e.userChildren[0].id+"/")}e.selectChild(i);e.loadRegistrations()})}]).controller("ActivityCtrl",["$scope","$http",function(e,t){"use strict";e.$watch("selectedChild",function(){if(angular.isDefined(e.selectedChild)){e.loadActivities();e.selectedActivity={}}});e.selectActivity=function(t){e.selectedActivity&&(e.selectedActivity.selected=!1);t.selected=!0;e.selectedActivity=t};e.loadActivities=function(){var n=e.urls.activity+"?year="+e.selectedChild.school_year;t({method:"GET",url:n,cache:!0}).success(function(t){e.activities=t})}}]).controller("ActivityListCtrl",[function(){"use strict";}]).controller("ActivityTimelineCtrl",["$scope","$filter","$modal","CoursesService",function(e,t,n,r){"use strict";var i=new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=n({template:"/static/partials/activity-detail.html",show:!1,backdrop:"static",persist:!0,keyboard:!0,container:"body",animation:"am-flip-x",scope:e});e.overlap=function(e,t){var n=new Date(e.start_date),r=new Date(t.start_date),i=new Date(e.end_date),s=new Date(t.end_date);return n<=s&&r<=i&&e.day===t.day?e.start_time<=t.end_time&&t.start_time<=e.end_time:!1};e.$watch("registrations.length",function(){if(!angular.isDefined(e.registrations))return;e.updateAvailableEvents();e.updateRegisteredEvents();e.updateOthersEvents()});e.$watch("selectedActivity",function(){angular.isDefined(e.selectedActivity)&&e.updateAvailableEvents()});e.updateRegisteredEvents=function(){if(!e.registrations)return;e.registeredEvents.length=0;var t=function(t){var n=t.toEvent("registered");n.registeredChild=e.selectedChild;e.registeredEvents.push(n)},n=function(t){var n=t.toEvent("validated");n.registeredChild=e.selectedChild;e.registeredEvents.push(n)};angular.forEach(e.getRegistrations(e.selectedChild),function(i){i.status==="valid"?r.get(e.urls.course,i.course).then(n):r.get(e.urls.course,i.course).then(t)})};e.updateOthersEvents=function(){if(!e.registrations)return;e.othersRegisteredEvents.length=0;angular.forEach(e.userChildren,function(t){t!==e.selectedChild&&angular.forEach(e.getRegistrations(t),function(n){r.get(e.urls.course,n.course).then(function(n){var r=n.toEvent("unavailable");r.registeredChild=t;e.othersRegisteredEvents.push(r)})})})};e.updateAvailableEvents=function(){var t=function(t){e.availableEvents.push(t.toEvent("available"))},n=function(t){e.availableEvents.push(t.toEvent("unavailable"))},i=e.getRegistrations(e.selectedChild);i&&(i=i.map(function(e){return e.course}));e.availableEvents.length=0;var s=!1;angular.forEach(e.selectedActivity.courses,function(e){i.indexOf(e.id)!==-1&&(s=!0)});angular.forEach(e.selectedActivity.courses,function(o){var u=o.schoolyear_min<=e.selectedChild.school_year&&o.schoolyear_max>=e.selectedChild.school_year,a=i.indexOf(o.id)!==-1,f=e.registeredEvents.map(function(t){return e.overlap(t.course,o)}).reduce(function(e,t){return e||t},!1);!a&&u&&(s||f?r.get(e.urls.course,o.id).then(n):r.get(e.urls.course,o.id).then(t))})};e.eventClick=function(t){e.$apply(function(){if(!t.clickable)return;e.selectedEvent=t;e.selectedCourse=t.course;a.show()})};e.register=function(t){if(!e.selectedChild.canRegister(t.course))return;e.registerCourse(e.selectedChild,t.course)};e.unregister=function(t){e.unregisterCourse(e.selectedChild,t.course);if(t.clickable){t.className="available";t.activityId!==e.activityId?e.weekagenda.fullCalendar("removeEvents",t._id):e.weekagenda.fullCalendar("updateEvent",t)}};e.hasRegistered=function(){return e.registeredEvents.length>0||e.othersRegisteredEvents.length>0};e.slotMinutes=15;(e.endHour-e.startHour)%24>8&&(e.slotMinutes=30);e.uiConfig={calendar:{height:650,aspectRatio:3,editable:!1,year:s,month:o,date:u,defaultView:"agendaWeek",weekends:!0,firstDay:0,allDaySlot:!1,slotMinutes:e.slotMinutes,maxTime:e.endHour,minTime:e.startHour,axisFormat:"H:mm",columnFormat:"dddd",header:{left:"",center:"",right:""},dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],timeFormat:{agenda:"d"},lazyFetching:!0,eventClick:e.eventClick,slotEventOverlap:!1,eventAfterRender:function(n,r){var i="";e.displaydates&&(i=t("date")(n.course.start_date,"shortDate")+" - "+t("date")(n.course.end_date,"shortDate"));$(".fc-event-time",r).text(i);e.displaycoursenames&&n.course.name!==null&&$(".fc-event-title",r).after('<div class="fc-event-course">'+n.course.name+"</div>")}}};e.othersRegisteredEvents=[];e.registeredEvents=[];e.availableEvents=[];e.eventSources=[e.registeredEvents,e.othersRegisteredEvents,e.availableEvents]}]).controller("ActivityDetailCtrl",[function(){"use strict";}]);Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){t===null?t=0:t<0&&(t=Math.max(0,this.length+t));for(var n=t,r=this.length;n<r;n++)if(this[n]===e)return n;return-1});Array.prototype.remove||(Array.prototype.remove=function(){var e,t=arguments,n=t.length,r;while(n&&this.length){e=t[--n];while((r=this.indexOf(e))!==-1)this.splice(r,1)}return this});Array.prototype.map||(Array.prototype.map=function(e){var t=this.length;if(typeof e!="function")throw new TypeError;var n=new Array(t),r=arguments[1];for(var i=0;i<t;i++)i in this&&(n[i]=e.call(r,this[i],i,this));return n});Array.prototype.filter||(Array.prototype.filter=function(e){var t=this.length;if(typeof e!="function")throw new TypeError;var n=[],r=arguments[1];for(var i=0;i<t;i++)if(i in this){var s=this[i];e.call(r,s,i,this)&&n.push(s)}return n});angular.module("sportfacCalendar",["sportfacCalendar.services","sportfacCalendar.controllers","ngRoute","ngCookies","ui.calendar","mgcrea.ngStrap"]).config(["$routeProvider",function(e){"use strict";e.when("/child/:childId/",{templateUrl:"/static/partials/activity-list.html",controller:"ActivityCtrl"});e.otherwise({templateUrl:"/static/partials/activity-list.html",controller:"ActivityCtrl"})}]).config(["$interpolateProvider"
,function(e){e.startSymbol("{[{");e.endSymbol("}]}")}]);